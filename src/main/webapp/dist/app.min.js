function maskPassword(){return function(e,t,n){t.on("blur keyup",function(){$(t).attr("type","password"),""==t[0].value&&$(t).attr("type","text")})}}function comma(){return function(e,t,n){t.on("blur keyup",function(){t[0].value=bindComma(unComma(t[0].value),n.limit)})}}function decimal(){return function(e,t,n){t.on("blur keyup",function(){if(n.noPoint)t[0].value=bindComma(unComma(t[0].value),n.limit);else if(t[0].value.indexOf(".")>-1){var e=t[0].value.split(".");null==e[1]?t[0].value=bindComma(unComma(e[0]),n.limit)+".":t[0].value=bindComma(unComma(e[0]),n.limit)+"."+unComma(e[1].slice(0,1))}else t[0].value=bindComma(unComma(t[0].value),n.limit)})}}function number(){return function(e,t){t.on("blur keyup",function(){t[0].value=unComma(t[0].value)})}}function bindComma(e,t){return e=t&&Number(e)>Number(t)?t:e,e.toString().replace(/(\d)(?=(?:\d{3})+(?!\d))/g,"$1,")}function unComma(e){return e=String(e),e.replace(/[^\d]/g,"")}function mask(e){return e.toString().replace(/./g,"*")}function resize(e){return function(t,n){var a=angular.element(e);t.getWindowDimensions=function(){return{h:window.innerHeight,w:window.innerWidth}},t.$watch(t.getWindowDimensions,function(e,n){t.windowHeight=e.h,t.windowWidth=e.w,t.style=function(){return{width:e.w-277+"px"}},t.slideStyle=function(){return{width:"4000px"}}},!0),a.bind("resize",function(){t.$apply()})}}function sc(e){return function(t,n,a){n.bind("selectstart",function(){return!1}),n.bind("dragstart",function(){return!1}),n.bind("copy",function(){return e.allowCopy}),n.bind("paste",function(){return!1}),n.bind("cut",function(){return!1})}}!function(){"use strict";function e(e){e.state("account",{abstract:!0,parent:"app",data:{secondDepth:[{name:"approvalManage",authority:"ROLE_HASLOGIN",url:"approval"},{name:"api",authority:"ROLE_API_VIEW",url:"apiManage"},{name:"plans",authority:"ROLE_PLAN_VIEW",url:"apiPlan"},{name:"billing",authority:"ROLE_PLAN_VIEW",url:"billingManage"},{name:"discount",authority:"ROLE_PLAN_VIEW",url:"discountManage"},{name:"user",authority:"ROLE_USER_VIEW",url:"userManage"},{name:"useOrgs",authority:"ROLE_PLAN_VIEW",url:"useOrgsManage"},{name:"contents-provider",authority:"ROLE_PLAN_VIEW",url:"provider-service-package"},{name:"settings-org",authority:"ROLE_MANAGER_PARTNER",url:"orgSetting"},{name:"settings-user",authority:"ROLE_HASLOGIN",url:"userSetting"},{name:"reports",authority:"ROLE_REPORT_VIEW_API",url:"report-api-using",noAdmin:!0},{name:"charge",authority:"ROLE_REPORT_VIEW_API",url:"charge-manage"},{name:"gateway-monitor",authority:"ROLE_PLAN_VIEW",url:"gateway-monitoring"}],depth:[1,2,3,4]},views:{"lnbBack@":{templateUrl:"app/layouts/lnb-back/lnb-back.html"},"lnb@":{templateUrl:"app/layouts/lnb/lnb.html",controller:"LnbController",controllerAs:"vm"}}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("admin",{abstract:!0,parent:"app",data:{secondDepth:[{name:"admin-organizations",url:"admin-organizations"},{name:"admin-users",url:"admin-users"},{name:"admin-roles",url:"admin-roles"},{name:"admin-plan",url:"admin-api-plan"},{name:"admin-apis",url:"admin-apis"},{name:"admin-apps",url:"admin-apps"},{name:"admin-contents-management",url:"admin-service-package"},{name:"admin-gatewayclusters",url:"admin-gatewayclusters"},{name:"admin-mailtemplates",url:"admin-mailtemplates"},{name:"admin-report",url:"admin-report"},{name:"admin-billing",url:"admin-billing"}],depth:[1,2,3]},views:{"lnbBack@":{templateUrl:"app/layouts/lnb-back/lnb-back.html"},"lnb@":{templateUrl:"app/layouts/lnb/lnb.html",controller:"LnbController",controllerAs:"vm"}}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("appManagement",{abstract:!0,parent:"app",data:{secondDepth:[{name:"appManage",url:"appManage"},{name:"appMine",url:"appMine"}],depth:[1,2,3]},views:{"lnbBack@":{templateUrl:"app/layouts/lnb-back/lnb-back.html"},"lnb@":{templateUrl:"app/layouts/lnb/lnb.html",controller:"LnbController",controllerAs:"vm"}}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(){function e(e,a,o){e.progress.forEach(function(e){n(e)}),e.isArray=angular.isArray,e.onDisplay=t}function t(e){if(!e.decision)return"미결";switch(e.decision.key){case"APPROVED":return"승인";case"DENIED":return"반려";case"CANCELED":return"취소";case"CREATED":return"요청";case"STOPPED":return"요청종료";default:return"미결"}}function n(e){if(Array.isArray(e))e.forEach(function(e){n(e)});else if(e.decision)switch(e.decision.key){case"CREATED":case"APPROVED":e.classname="confirm";break;case"CANCELED":case"DENIED":e.classname="cancel";break;default:e.classname=""}}return{restrict:"E",replace:!0,scope:{progress:"=progress"},templateUrl:"/app/directives/approval-progress-view.html",link:e}}angular.module("portalApplicationApp").directive("approvalProgressView",e),e.$inject=[]}(),angular.module("portalApplicationApp").directive("maskPassword",maskPassword).directive("comma",comma).directive("decimal",decimal).directive("number",number),maskPassword.$inject=[],comma.$inject=[],decimal.$inject=[],number.$inject=[],angular.module("portalApplicationApp").directive("resize",resize),resize.$inject=["$window"],angular.module("portalApplicationApp").directive("sc",sc),sc.$inject=["$rootScope"],function(){"use strict";function e(e){e.state("forum",{abstract:!0,parent:"app",data:{depth:[1,2]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("apiServices",{abstract:!0,parent:"app",data:{depth:[1,2]},views:{"lnbBack@":{templateUrl:"app/layouts/lnb-back/lnb-back.html"}}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m,g,f,h){function v(e){a.contentId=e?e.id:"-1",u.go("service-package-info"),C.scrollTop()}function A(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function y(){n.allContents({kind:"popup-notice",useYn:"Y"}).$promise.then(function(e){if(C.popupNotices=e,null===f.getStorage("showNotice")||void 0===f.getStorage("showNotice")||"true"==f.getStorage("showNotice")||o.account&&o.account.showNotice){var t=0,n="";C.popupNotices.length>0&&C.popupNotices.forEach(function(e,a){(!f.getStorage(e.id+"done")||new Date(f.getStorage(e.id+"done")).getTime()<(new Date).getTime())&&(n="show"+e.id,f.setStorage(n,e.id),C.load(e.id,t++),new Date(f.getStorage(e.id+"done")).getTime()<(new Date).getTime()&&f.removeStorage(e.id+"done"))})}})}function b(e){if(o.account||"portal-info"==e||"register"==e)switch(e){case"apiManage":C.isApiCreator&&u.go(e);break;case"apiPlan":C.isPlanCreator&&u.go(e);break;case"appManage":C.isAppCreator&&u.go(e);break;default:u.go(e)}else u.go("login")}function P(e){a.paramUrl=e,"post.detail"==u.current.name?u.reload():u.go("forumCommunity")}function w(e){e?(o.vm.swiper.startAutoplay(),$(".glyphicon-pause").show(),$(".glyphicon-play").hide()):(o.vm.swiper.stopAutoplay(),$(".glyphicon-pause").hide(),$(".glyphicon-play").show())}var C=this;C.goUrl=b,C.goForum=P,C.htmlToPlainText=A,C.gotoContents=v,C.scrollTop=f.scrollTop,C.swiperAutoplay=w,r.$windowScope=o,C.mainForums=[],C.mainForumTitles=t.mainForumTitles,C.mainForumTitles.forEach(function(e,t){g.findId({orgName:null,forumTitle:e}).$promise.then(function(n){s.list({forumId:n.id,size:3,page:0,sort:"id,desc"}).$promise.then(function(n){C.mainForums.push({id:t,title:e,posts:n}),"공지사항"==e&&y()})})}),g.findId({orgName:null,forumTitle:"뉴스 스탠드"}).$promise.then(function(e){C.newsStand=e}),n.allContents({kind:"service-package",showYn:"Y",noContentsBody:!0}).$promise.then(function(e){C.apiServiceList=e,C.apiServiceList.forEach(function(e){e.splitSentences=e.sentence.split("\\n").map(function(e,t){return{idx:t,sentence:e}})}),i(o.vm.swiper2.init),o.vm.swiper2.params.slidesOffsetAfter=300*(C.apiServiceList.length-1)}),n.allContents({kind:"news-stand",useYn:"Y",noContentsBody:!0}).$promise.then(function(e){C.newsStandList=e,C.newsStandList.forEach(function(e){e.splitSentences=e.sentence.split("\\n").map(function(e,t){return{idx:t,sentence:e}})}),i(o.vm.swiper3.init)}),C.load=function(e,t){var n=415*t,a="notice"+e;r.open(u.href("notice",{id:e}),a,"width=400,height=400,resizable=yes,scrollbars=yes,left="+n)},C.account=null,C.isAuthenticated=null,C.loginCheck=c.isAuthenticated,o.$on("authenticationSuccess",function(){u.reload(),c.identity().then(function(e){C.account=e,C.isAuthenticated=c.isAuthenticated,f.setStorage("showNotice",C.account.showNotice),y()})}),C.swiper=new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0,loop:!0,autoplay:3e3,autoplayDisableOnInteraction:!1}),C.swiper2=new Swiper(".swiper-container2",{init:!1,setWrapperSize:!0,slidesOffsetAfter:300,slidesPerView:"auto",slidesPerGroup:3,nextButton:".api-next",prevButton:".api-prev"}),C.swiper3=new Swiper(".swiper-container3",{init:!1,slidesPerView:4,spaceBetween:14,nextButton:".goRight",prevButton:".goLeft"}),angular.element(e).ready(function(){$(".wheel-section").each(function(){$(this).on("mousewheel DOMMouseScroll",function(e){e.preventDefault();var t=0;event||(event=window.event),event.wheelDelta?(t=event.wheelDelta/120,window.opera&&(t=-t)):event.detail&&(t=-event.detail/3);var n=null;t<0&&$(this).next().length?n=$(this).next().offset().top:$(this).prev().length&&(n=$(this).prev().offset().top<200?0:$(this).prev().offset().top),$("html, body").stop().animate({scrollTop:n+"px"},{duration:500,complete:function(){}})})})})}angular.module("portalApplicationApp").controller("HomeController",e),e.$inject=["$document","CommonConstants","GeneralInfo","$rootScope","$scope","$timeout","$window","$filter","Post","Principal","LoginService","$state","$interval","$uibModal","Forum","CommonUtil","ProfileService"]}(),function(){"use strict";function e(e){e.state("home",{parent:"app",url:"/",data:{authorities:[]},views:{"mainContainer@":{templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("home"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("informations",{abstract:!0,parent:"app",data:{secondDepth:[{name:"portalInfos",url:"portal-info"},{name:"use-step-infos",url:"use-step-info"},{name:"register-step-info",url:"orgUser"}],depth:[1,2,3]},views:{"lnbBack@":{templateUrl:"app/layouts/lnb-back/lnb-back.html"},"lnb@":{templateUrl:"app/layouts/lnb/lnb.html",controller:"LnbController",controllerAs:"vm"}}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("service-package-open",{abstract:!0,parent:"app",data:{depth:[1,2,3]},views:{"lnbBack@":{templateUrl:"app/layouts/lnb-back/lnb-back.html"},"lnb@":{templateUrl:"app/layouts/lnb/lnb.html",controller:"LnbController",controllerAs:"vm"}}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t=e("/api/apis",null,{form:{url:"/api/apis/form",method:"GET",isArray:!1},list:{method:"GET",isArray:!0},listApproved:{url:"/api/apis/approved",method:"GET",isArray:!0},create:{method:"POST"},update:{method:"PUT",params:{fragmentDiffer:"@fragmentDiffer"}},delete:{url:"/api/apis/:id",method:"DELETE",params:{id:"@id"}},redeploy:{url:"/api/apis/:apiId/redeploy",method:"POST",params:{apiId:"@apiId"}},unuse:{url:"/api/apis/:apiId/unuse",method:"GET",params:{apiId:"@apiId"}},getAttachFiles:{url:"/api/apis/:apiId/attachfiles",method:"GET",params:{apiId:"@apiId"}},reqApproval:{url:"/api/apis/:id/approval",method:"POST",params:{id:"@id"}},listTerms:{url:"/api/terms",method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},addTerms:{url:"/api/terms",method:"POST"},editTerms:{url:"/api/terms/:id",method:"PUT",params:{id:"@id"}},delTerms:{url:"/api/terms/:id",method:"DELETE",params:{id:"@id"}},usedAppList:{url:"/api/apis/:id/apps",method:"GET",isArray:!0,params:{id:"@id"}},usedAppListForAdmin:{url:"/api/admin/apis/:id/apps",method:"GET",isArray:!0,params:{id:"@id"}},termsByOrganization:{url:"/api/organizations/:id/terms",method:"GET",isArray:!0,params:{id:"@id"}},getTermsContent:{url:"/api/terms/:id",method:"GET",params:{id:"@id"}},billingPolicy:{url:"/api/organizations/:id/billingpolicies",method:"GET",isArray:!0,params:{id:"@id"}},organization:{url:"/api/organizations/current",method:"GET"},apiById:{url:"/api/apis/:id",method:"GET",params:{id:"@id"}},apiByIdForPartner:{url:"/api/partner/apis/:id",method:"GET",params:{id:"@id"}},getForumsByApi:{url:"/api/apis/:id/forums",method:"GET",isArray:!0,params:{id:"@id"}},checkname:{url:"/api/apis/checkname",method:"GET",params:{apiId:"@apiId",name:"@name"}},checkuri:{url:"/api/apis/checkuri",method:"GET",params:{apiId:"@apiId",name:"@name"}},changeStatus:{url:"/api/apis/:apiId/:toStatus",method:"GET",params:{apiId:"@apiId",toStatus:"@toStatus"}},groups:{url:"/api/apis/:apiId/groups",method:"GET",isArray:!0,params:{apiId:"@apiId"}},apisForPartners:{url:"/api/partner/organizations/:orgId/apis",method:"GET",isArray:!0,params:{orgId:"@orgId"}}});return t}angular.module("portalApplicationApp").factory("Api",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/apps",null,{list:{method:"GET",isArray:!0},apiList:{url:"/api/apps/apis",method:"GET",isArray:!0,params:{orgId:"@orgId",apiName:"@apiName"}},apigroups:{url:"/api/apps/apigroups",method:"GET",isArray:!0,params:{orgId:"@orgId",apiGroupName:"@apiGroupName"}},create:{method:"POST"},search:{url:"/api/apps/:id",method:"GET",params:{id:"@id"}},update:{method:"PUT"},delete:{url:"/api/apps/:id",method:"DELETE",params:{id:"@id"}},deleteLatestHistory:{url:"/api/apps/:id/delete-latest-history",method:"DELETE",id:"@id"},register:{url:"/api/apps/:id/register",method:"GET",params:{id:"@id"}},unRegister:{url:"/api/apps/:id/unregister",method:"GET",params:{id:"@id"}},genkey:{url:"/api/apps/:id/genkey",method:"GET",params:{id:"@id"}},getSecret:{url:"/api/apps/:id/secret",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},params:{id:"@id"},transformRequest:function(e){return $.param(e)}},regenSecret:{url:"/api/apps/:id/regen-secret",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},params:{id:"@id"},transformRequest:function(e){return $.param(e)}},reqApproval:{url:"/api/apps/:id/approval",method:"POST",params:{id:"@id"}},myList:{url:"/api/apps/mine",method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},orgList:{url:"/api/apps",method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},changeStatus:{url:"/api/apps/:appId/:toStatus",method:"GET",params:{appId:"@appId",toStatus:"@toStatus"}},changeSet:{url:"/api/apps/:id/changeset",method:"GET",params:{id:"@id"}},redeploy:{url:"/api/apps/:id/redeploy",method:"POST",params:{id:"@id"}},deployFailList:{url:"/api/apps/:id/redeploy",method:"GET",isArray:!0,params:{id:"@id"}}});return t}angular.module("portalApplicationApp").factory("Apps",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/charge/:action",{},{queryProviding:{url:"/api/charge/select/providing",method:"GET",isArray:!0},queryUsing:{url:"/api/charge/select/using",method:"GET",isArray:!0},update:{method:"PUT",params:{action:"update"}},usedAppList:{url:"/api/charge/:orgId/:id/apps",method:"GET",isArray:!0,params:{orgId:"@orgId",id:"@id"}},accountSelect:{url:"/api/charge/account/select",method:"GET",isArray:!0},accountUpdate:{url:"/api/charge/account/update",method:"PUT"}})}angular.module("portalApplicationApp").factory("BillingCharge",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/admin/billingmetrics",{},{query:{method:"GET",isArray:!0},get:{method:"GET"},save:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"},queryTokens:{url:"api/admin/billingmetrics/tokens",method:"GET",isArray:!0},search:{method:"POST",isArray:!0,transformRequest:function(e){e.fromTime=Date.parse(e.fromTime),e.toTime=Date.parse(e.toTime)}},trend:{url:"api/admin/billingmetrics/trend",method:"GET",isArray:!0},tokenTrend:{url:"api/admin/billingmetrics/tokens/trend",method:"GET",isArray:!0}})}angular.module("portalApplicationApp").factory("BillingMetrics",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/codes/:name",null,{authenticationTypes:{method:"GET",isArray:!0,params:{name:"authentication-types"}},apiStatusTypes:{method:"GET",isArray:!0,params:{name:"api-status-types"}},appStatusTypes:{method:"GET",isArray:!0,params:{name:"app-status-types"}},scopeTypes:{method:"GET",isArray:!0,params:{name:"oauth-scope-types"}}})}angular.module("portalApplicationApp").factory("Code",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/forums",null,{list:{method:"GET",isArray:!0},create:{method:"POST"},update:{method:"PUT"},delete:{url:"/api/forums/:id",method:"DELETE",params:{id:"@id"}},viewAll:{url:"/api/forums/posts",method:"GET",isArray:!0,params:{page:"@page",size:"@size",postTitle:"@postTitle",writerName:"@writerName",forumId:"@forumId"}},listOrgs:{url:"/api/forums/organizations",method:"GET",isArray:!0},listPublic:{url:"/api/forums/public",method:"GET",isArray:!0},findId:{url:"/api/forums/find-id",method:"GET",params:{orgName:"@orgName",forumTitle:"@forumTitle"}}});return t}angular.module("portalApplicationApp").factory("Forum",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("api/metrics",{},{query:{method:"POST",isArray:!0},get:{method:"GET"},save:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"},search:{method:"POST",isArray:!0,transformRequest:function(e){e.fromTime=Date.parse(e.fromTime),e.toTime=Date.parse(e.toTime)}}});return t}angular.module("portalApplicationApp").factory("Metrics",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("/api/organizations",{},{query:{method:"GET",isArray:!0},save:{method:"POST"},update:{method:"PUT"},delete:{url:"/api/organizations/:id",method:"DELETE",id:"@id"},getAccountNumber:{url:"/api/organizations/account-number",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e){return $.param(e)}},setDefaultWithdrawalAccount:{url:"/api/organizations/:withdrawalId/default-account",method:"PUT",params:{orgId:"@orgId",withdrawalId:"@withdrawalId"}},checkWithdrawalAccountUsed:{url:"/api/organizations/check-account-used",method:"GET",params:{withdrawalId:"@withdrawalId"}},deleteLatestHistory:{url:"/api/organizations/delete-latest-history",method:"DELETE"},current:{url:"/api/organizations/current",method:"GET"},users:{url:"/api/organizations/:id/users",method:"GET",id:"@id",isArray:!0},apis:{url:"/api/organizations/:id/apis",method:"GET",isArray:!0,id:"@id"},forums:{url:"/api/organizations/:id/forums",method:"GET",isArray:!0,id:"@id"},providersForums:{url:"/api/organizations/providers/forums",method:"GET",isArray:!0},availableForums:{url:"/api/organizations/forums",method:"GET",isArray:!0},providers:{url:"/api/organizations/providers",method:"GET",isArray:!0},partners:{url:"/api/organizations/partners",method:"GET",isArray:!0},search:{url:"/api/organizations/search",method:"GET",isArray:!0},searchOrganization:{url:"/api/organizations/searchOrganization",method:"GET"},updateOrganization:{url:"/api/organizations/update",method:"PUT"},reqApproval:{url:"/api/organizations/:id/approval",method:"POST",params:{id:"@id"}},changeSet:{url:"/api/organizations/:id/changeset",method:"GET",params:{id:"@id"}},searchForAdmin:{url:"/api/admin/organizations/search",method:"GET",isArray:!0,params:{type:"@type"}},usersForAdmin:{url:"/api/admin/organizations/:orgId/users",method:"GET",orgId:"@orgId",isArray:!0},createForAdmin:{url:"/api/admin/organizations",method:"POST"},updateForAdmin:{url:"/api/admin/organizations/update",method:"PUT"},deleteForAdmin:{url:"/api/admin/organizations/:orgId",method:"DELETE",params:{orgId:"@orgId"}},setManagerForAdmin:{url:"/api/admin/organizations/:orgId/users/:userId/setmanager",method:"GET",isArray:!0,params:{orgId:"@orgId",userId:"@userId"}},listByTypeForAdmin:{url:"/api/admin/organizations",method:"GET",isArray:!0,params:{type:"@type"}},activateForAdmin:{url:"/api/admin/organizations/:orgId/:mode",method:"GET",params:{orgId:"@orgId",mode:"@mode"}}})}angular.module("portalApplicationApp").factory("Organization",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/forums/:forumId/posts",null,{list:{method:"GET",isArray:!0,params:{forumId:"@forumId",page:"@page",size:"@size",postTitle:"@postTitle",writerName:"@writerName",targetOrganizationId:"@targetOrganizationId"}},create:{method:"POST",params:{forumId:"@forumId"}},update:{url:"/api/forums/:forumId/posts/:postId",method:"PUT",params:{forumId:"@forumId",postId:"@postId"}},move:{url:"/api/forums/:forumId/posts/:postId/move",method:"GET",params:{forumId:"@forumId",postId:"@postId"}},detail:{url:"/api/forums/:forumId/posts/:postId",method:"GET",params:{forumId:"@forumId",postId:"@postId"}},delete:{url:"/api/forums/:forumId/posts/:postId",method:"DELETE",params:{forumId:"@forumId",postId:"@postId"}},commentW:{url:"/api/forums/:forumId/posts/:postId/reply",method:"POST",params:{forumId:"@forumId",postId:"@postId"}},postCategories:{url:"/api/apigroups/post-categories",method:"GET",isArray:!0,params:{orgId:"@orgId"}}});return t}angular.module("portalApplicationApp").factory("Post",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/forums/questions",null,{list:{method:"GET",isArray:!0,params:{forumId:"@forumId",page:"@page",size:"@size",title:"@title",writerName:"@writerName"}},create:{method:"POST"},password:{url:"/api/forums/questions/:questionId/password",method:"GET",params:{questionId:"@questionId"}},detail:{url:"/api/forums/questions/:questionId",method:"GET",params:{questionId:"@questionId"}},createReply:{url:"/api/forums/questions/:questionId/reply",method:"POST",params:{questionId:"@questionId"}},delete:{url:"/api/forums/questions/:questionId/delete",method:"DELETE",params:{questionId:"@questionId"}}});return t}angular.module("portalApplicationApp").factory("Question",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/:auth/reports/billings/:action",{},{query:{method:"GET"},trend:{method:"GET",params:{action:"trend"},isArray:!0},charge:{method:"GET",params:{action:"charge",chargeMonth:"@chargeMonth",providerId:"@providerId",orgName:"@orgName"},isArray:!0},chargeOrgs:{url:"api/:auth/reports/billings/:action/orgs",method:"GET",params:{action:"charge",chargeMonth:"@chargeMonth",providerId:"@providerId"},isArray:!0}})}angular.module("portalApplicationApp").factory("ReportBilling",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/:auth/reports/tokens/:action",{},{query:{method:"GET",isArray:!0},trend:{method:"GET",params:{action:"trend"},isArray:!0}})}angular.module("portalApplicationApp").factory("ReportToken",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("/api/roles",null,{list:{method:"GET",isArray:!0},create:{method:"POST"},update:{method:"PUT"},delete:{url:"/api/roles/:roleId",method:"DELETE",params:{roleId:"@roleId"}},roleAuth:{url:"/api/roles/:roleCode/authorities",method:"GET",isArray:!0,params:{roleCode:"@roleCode"}},listKind:{url:"/api/authorities/kinds",method:"GET",isArray:!0},listAuth:{url:"/api/authorities",method:"GET",isArray:!0}})}angular.module("portalApplicationApp").factory("Role",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("/api/authorities",null,{list:{method:"GET",isArray:!0},listKind:{url:"/api/authorities/kinds",method:"GET",isArray:!0}})}angular.module("portalApplicationApp").factory("RoleAuth",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/users/:login",{},{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(e){return e=angular.fromJson(e)}},save:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"},updateMyInfo:{url:"api/accountUpdate/myinfo",method:"PUT"},saveForAdmin:{url:"api/admin/users",method:"POST"},listAllForAdmin:{url:"api/admin/users",method:"GET",isArray:!0},updateForAdmin:{url:"api/admin/users",method:"PUT"},deleteForAdmin:{url:"api/admin/users/:userId",method:"GET",params:{userId:"@userId"}},moveUserForAdmin:{url:"api/admin/users/:userId/move",method:"GET",params:{userId:"@userId",organizationId:"@organizationId"}},setAdmin:{url:"api/admin/users/:userId/setadmin",method:"GET",params:{userId:"@userId",flag:"@flag"}}})}angular.module("portalApplicationApp").factory("User",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){e.state("approvalManage",{abstract:!0,parent:"account",data:{thirdDepth:[{name:"approval",url:"approval",authority:"ROLE_HASLOGIN"},{name:"approvalHistory",url:"approvalHistory",authority:"ROLE_HASLOGIN"},{name:"approvalLine",url:"approvalLine",authority:"ROLE_APPROVAL_VIEW"},{name:"approvalRequest",url:"approvalRequest",authority:"ROLE_HASLOGIN"}],depth:[1,2,3,4]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("api",{abstract:!0,parent:"account",data:{thirdDepth:[{name:"apiManage",url:"apiManage",authority:"ROLE_API_VIEW"},{name:"apiGroup",url:"apiGroup",authority:"ROLE_API_VIEW"},{name:"apiTerms",url:"apiTerms",authority:"ROLE_API_VIEW"}],depth:[1,2,3,4]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("billing",{abstract:!0,parent:"account",data:{depth:[1,2,3]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("charge",{abstract:!0,parent:"account",data:{thirdDepth:[{name:"charge-account",url:"charge-account"},{name:"charge-manage",authority:"ROLE_PLAN_VIEW",url:"charge-manage"},{name:"charge-adjust",authority:"ROLE_PLAN_VIEW",url:"charge-adjust"},{name:"charge-search",url:"charge-search"}],depth:[1,2,3,4]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u){function d(e){switch(e){case"provider-service-package":S.current={state:"서비스",title:"서비스명",kind:"service-package"},m()}}function m(){t.getByTitle({title:"공통템플릿",kind:"service-package"}).$promise.then(function(e){S.commonTemplate=e})}function g(){return"service-package"==S.current.kind&&!S.contents.contentsIcon||"news-stand"==S.current.kind&&!S.contents.contentsIcon||"news-stand"!=S.current.kind&&!S.contents.contentsBody}function f(){u.onError("이미지크기가 "+u.fileSize({fileSize:n.editorImageFileSize})+"를 초과했습니다.")}function h(e,t){S.condition.sort=u.sorting(S.condition.sort,e,t),S.condition.page=0,S.currentPage=1,y()}function v(){p.open({templateUrl:"app/account/contents-provider/mapping-contents-provider.html",controller:"MappingContentsProviderController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectedContents:{data:S.contents,type:"mappingApiGroups"}}}).result.then(function(e){S.contents.apiGroups=e})}function A(){S.readOnly=!1}function y(e){e>=0&&(S.condition.page=e,S.currentPage=e+1),S.showDiv=!1,t.providerContents(S.condition,b,P)}function b(e,t){S.totalItems=t("X-Total-Count"),S.contentsList=e}function P(e){u.onError(e.data.description)}function w(){S.condition.page=S.currentPage-1,y()}function C(e){t.listCategories().$promise.then(function(t){S.allCategories=t,e&&e.serviceClassifyList&&e.serviceClassifyList.length>0&&e.serviceClassifyList.forEach(function(e){S.allCategories.some(function(t){return e.id==t.id&&(t.checked=!0),e.id==t.id})})})}function O(){S.readOnly=!1,S.showDiv=!0,S.mode="register",S.contents={apiGroups:[]},"service-package"==S.current.kind&&s.vm.commonTemplate&&(S.contents.contentsBody=s.vm.commonTemplate.contentsBody,S.original=angular.copy(S.contents),i(function(){$("#contentsBody").html(s.vm.commonTemplate.contentsBody)})),C()}function I(e){S.showDiv=!0,S.mode="edit",S.readOnly=!1,S.contents=e,S.original=angular.copy(e),i(function(){$("#contentsBody").html(S.contents.contentsBody),"service-package"==e.kind&&$("#contentsIcon").html(S.contents.contentsIcon)}),C(e)}function E(e){var n="Y"==e.useYn?"현재 사용중인 컨텐츠입니다. 그래도":"해당 컨텐츠를",a=function(n){n&&t.delContents({id:e.id},function(){y(0)},P)};u.deleteModal(n,a)}function T(){S.contents="register"==S.mode&&"service-package"!=S.current.kind?{}:angular.copy(S.original),C(S.contents),i(function(){o($("#summernoteEditor").contents())(s),"service-package"==S.contents.kind&&o($("#iconEditor").contents())(s)})}function L(e){p.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{item:{contents:e,type:"contentsManagement"}}})}function k(){S.contents.kind=S.current.kind,S.contents.serviceClassifyList=S.allCategories.filter(function(e){return e.checked}),"register"==S.mode?t.addContents(S.contents,function(){y(0)}):t.editContents({id:S.contents.id},S.contents,y)}var S=this;S.authorities=["ROLE_PLAN_VIEW"],S.totalItems=null,S.size=10,S.page=0,S.sort="id,desc",S.sorting=h,S.pageChanged=w,S.readOnlyToggle=A,S.save=k,S.clear=T,S.readOnly=!0,S.loadAll=y,S.checkValid=g,S.serviceCategoryTitles=n.serviceCategoryTitles,d(r.current.name),S.condition={kind:S.current.kind,size:S.size,page:S.page,sort:S.sort},y(),S.delContents=E,S.addContents=O,S.editContents=I,S.showContents=L,S.mappingApiGroups=v,S.maximumImageFileSizeCheck=f,S.summernoteToolbar={toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph","lineheight"]],["height",["height"]],["table",["table"]],["insert",a.check_ie9?["link","video","hr"]:["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],lang:"ko-KR",callbacks:{onImageUploadError:S.maximumImageFileSizeCheck}},S.iconEditorToolbar={toolbar:[["insert",["picture"]]],lang:"ko-KR",maximumImageFileSize:n.editorImageFileSize,callbacks:{onImageUploadError:S.maximumImageFileSizeCheck}}}angular.module("portalApplicationApp").controller("ContentsProviderController",e),e.$inject=["ApiGroup","GeneralInfo","CommonConstants","$rootScope","$compile","$timeout","$state","$stateParams","$scope","Api","$uibModal","CommonUtil"]}(),function(){"use strict";function e(e){e.state("contents-provider",{abstract:!0,parent:"account",data:{authorities:["ROLE_PLAN_VIEW"],depth:[1,2,3]},views:{"content@":{templateUrl:"app/account/contents-provider/contents-provider.html",controller:"ContentsProviderController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api"),e.refresh()}]}}).state("provider-service-package",{parent:"contents-provider",url:"/contents-provider/service-package"})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){function s(e){e.checked?u.result.push(e):u.result.splice(u.result.indexOf(e),1)}function c(){n.dismiss()}function p(){n.close(u.result)}var u=this;u.clear=c,u.save=p,u.selectedContents=a,u.checkingOneCheckBox=s,u.result=[],a&&"mappingApiGroups"==a.type&&(u.title="연동 API 그룹 선택",e.listForPartner({isPrivate:"false"}).$promise.then(function(e){u.apiGroups=d3.nest().key(function(e){return a.data.apiGroups.forEach(function(t){e.id==t.id&&(e.checked=!0,u.result.push(e))}),e.organization.name}).entries(e)})),u.contentsMappingApigroupPopover={templateUrl:"app/layouts/popover-template/contents-mapping-apigroup-popover.html"
}}angular.module("portalApplicationApp").controller("MappingContentsProviderController",e),e.$inject=["ApiGroup","$scope","$uibModalInstance","selectedContents","Principal","ApprovalLine","Api","CommonUtil"]}(),function(){"use strict";function e(e){e.state("discount",{abstract:!0,parent:"account",data:{depth:[1,2,3]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(){o.healthcheck().$promise.then(function(e){m.results=e}).catch(d)}function d(e){n.onError(e.data.description)}var m=this;m.authorities=["ROLE_PLAN_VIEW"],m.loadAll=u,m.loadAll(),m.currentDate=new Date}angular.module("portalApplicationApp").controller("GatewayMonitoringController",e),e.$inject=["$rootScope","$interval","CommonUtil","$scope","Gateway","$uibModal","Principal","ParseLinks","AlertService","$state","JhiLanguageService"]}(),function(){"use strict";function e(e){e.state("gateway-monitor",{abstract:!0,parent:"account",data:{depth:[1,2,3]}}).state("gateway-monitoring",{parent:"gateway-monitor",url:"/gateway-monitoring",data:{authorities:["ROLE_PLAN_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/gateway-monitoring/gateway-monitoring.html",controller:"GatewayMonitoringController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("gateway"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d){function m(e){S.registerAccount.organization.orgWithdrawals.splice(S.registerAccount.organization.orgWithdrawals.indexOf(e),1)}function g(){var e=S.registerAccount.organization.orgWithdrawals.filter(function(e){return e.accountAlias==S.newW.accountAlias||e.accountNumber==S.newW.accountNumber});if(e.length>0)s.modalOne("계좌별칭 또는 계좌번호가 중복됩니다.");else{var t=function(){S.newW.isDefault=0==S.registerAccount.organization.orgWithdrawals.length,S.registerAccount.organization.orgWithdrawals.push(S.newW),S.newW=null};u.checkWithdrawalAccountUsed({accountNumber:S.newW.accountNumber},t,E)}}function f(e){S.registerAccount.organization.orgWithdrawals.forEach(function(e){e.isDefault=!1}),e.isDefault=!0}function h(e){"userId"==e?S.userIdSuccess=!0:S.emailSuccess=!0}function v(){S.email[1]=S.email[1]?S.email[1]:"shinhan.com";var e=S.registerNewOrg?S.licenseNumber.join("-"):null,t=S.registerNewOrg?S.corpRegNumber.join("-"):null,n=S.registerNewOrg?S.registerAccount.organization.name:null;return S.registerAccount.password.match(/\s/g)?(s.onError("비밀번호에 공백이 들어있습니다."),S.registerAccount.password=null,void(S.confirmPassword=null)):void d.secondaryAuth({login:S.registerAccount.login,email:S.email.join("@"),cellPhone:S.cellPhone.join("-"),licenseNumber:e,corpRegNumber:t,orgName:n}).$promise.then(function(){S.isSecondAuthRequested=!0,c(function(){$("input[name=authNumber]").focus()}),y()}).catch(function(e){S.authNumber="",s.onError(e.data.description)})}function A(){d.secondaryAuthCheck({cellPhone:S.cellPhone.join("-"),authNumber:S.authNumber}).$promise.then(function(){S.isSecondAuthRequested=!0,S.authSuccess=!0}).catch(function(e){S.authNumber="",$("input[name=authNumber]").focus(),S.authSuccess=!1,s.onError(e.data.description)})}function y(){S.msecPerMinute=18e4,S.msecPerSecond=1e3;var e=t(function(){S.msecPerMinute=S.msecPerMinute-S.msecPerSecond,S.msecPerMinute<=0&&(S.isSecondAuthRequested=!1,t.cancel(e)),S.authSuccess&&t.cancel(e)},1e3)}function b(){p.checkActivateKey({key:S.activateKey}).then(function(e){o.go("activate",{key:S.activateKey})}).catch(P)}function P(){s.onError("인증번호를 다시 확인해주세요.")}function w(){S.searchResult=!1,u.search({licenseNumber:S.licenseNumber.join("-")}).$promise.then(function(e){if(e.length)"PROVIDER"==e[0].type||"INACTIVE"==e[0].state?s.onError("사용할 수 없는 번호입니다."):(S.searchResult=!0,S.readOnly=!0,c(function(){U.captcha(2)}),S.registerAccount.organization=e[0],S.init.showTerms.forUsers(2),S.init.showAgreeform(2));else{var t=function(e){e&&(S.registerAccount={licenseNumber:S.registerAccount.licenseNumber,organization:{orgWithdrawals:[]}},S.searchResult=!1,S.registerNewOrg=!0,S.readOnly=!0,U.afterSearch(),c(function(){U.captcha(3)}),S.init.showTerms.forUsers(2),S.init.showAgreeform(2))};s.onError("새로운 기관을 등록하시겠습니까?<br/>재검색을 하시려면 아니오를 누르세요.","sm","searchResult",t)}})}function C(e){var t=Math.random(),n="#captcha"+e;$(n).html('<img src="/api/captcha?rand='+t+'"/>')}function O(){S.registerAccount.organization.attachFileIds=[];var e=!1;if($("input[type=file].file-input").each(function(t){$(this).val()?navigator.userAgent.indexOf("MSIE 9.0")<0&&$(this)[0].files[0].size>=n.attachFileSize?S.violationOfSize=!0:e=!0:$(this).attr("disabled","disabled")}),S.violationOfSize)return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),s.onError("파일사이즈는 "+s.fileSize({fileSize:n.attachFileSize})+"를 넘을 수 없습니다."),void(S.violationOfSize=!1);var t=s.getCookie("XSRF-TOKEN");e?($("#fileForm").ajaxForm({url:"/files/account_register/upload?_csrf="+t,enctype:"multipart/form-data",type:"post",dataType:"json",data:{type:"organization"},success:function(e){S.registerAccount.organization.attachFileIds=e,L(),i.$apply()},error:function(e){return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),navigator.userAgent.indexOf("MSIE 9.0")!==-1?void s.onError("업로드 대상 파일을 다시 확인해 주십시오."):void(500==e.status?s.onError("업로드 대상 파일을 다시 확인해 주십시오."):s.onError(e.responseJSON.description))}}),$("#fileForm").submit()):L()}function I(e){var t=function(e){o.go("home"),s.scrollTop()};s.onError(e.description,"sm","register",t)}function E(e){var t=function(e){S.registerAccount.answer="",C(S.registerNewOrg?3:S.searchResult?2:1)};s.onError(e.data.description,"sm","changeCaptcha",t)}function T(e){S.providerChecked=!1,S.providers.forEach(function(t){t.id==e.id?(S.providerChecked=!0,t.checked=!0):t.checked=!1})}function L(){S.registerAccount.langKey=l.use(),S.registerNewOrg?(S.registerAccount.organization.reservedProviders=S.providers.filter(function(e){return 1==e.checked}),S.registerAccount.email=S.email.join("@"),S.registerAccount.organization.type="PARTNER",S.registerAccount.organization.licenseNumber="3"==S.licenseNumber.length?S.licenseNumber.join("-"):null,S.registerAccount.organization.corpRegNumber="2"==S.corpRegNumber.length?S.corpRegNumber.join("-"):null,S.registerAccount.organization.mainPhone="3"==S.orgMainPhone.length?S.orgMainPhone.join("-"):null,S.registerAccount.mainPhone="3"==S.mainPhone.length?S.mainPhone.join("-"):null,S.registerAccount.cellPhone="3"==S.cellPhone.length?S.cellPhone.join("-"):null,d.saveWithOrg(S.registerAccount,I,function(e){s.onError(e.data.description),o.reload()})):(S.email[1]=S.email[1]?S.email[1]:"shinhan.com",S.registerAccount.email=S.email.join("@"),S.registerAccount.mainPhone="3"==S.mainPhone.length?S.mainPhone.join("-"):null,S.registerAccount.cellPhone="3"==S.cellPhone.length?S.cellPhone.join("-"):null,d.save(S.registerAccount,I,function(e){s.onError(e.data.description),o.reload()}))}function k(e,t){S.corpRegNumberLength=[],S.mainPhoneLength=[],S.licenseNumberLength=[],S.emailLength=[],S.lengthChecked=!1,t.forEach(function(t){"corpRegNumber"==e?t&&S.corpRegNumberLength.push(t):"mainPhone"==e?t&&S.mainPhoneLength.push(t):"licenseNumber"==e?t&&S.licenseNumberLength.push(t):"email"==e&&t&&S.emailLength.push(t)}),1==S.corpRegNumberLength.length&&(S.lengthChecked=!0),1==S.emailLength.length&&(S.lengthChecked=!0),1!=S.mainPhoneLength.length&&2!=S.mainPhoneLength.length||(S.lengthChecked=!0),1!=S.licenseNumberLength.length&&2!=S.licenseNumberLength.length||(S.lengthChecked=!0)}var S=this;S.register=O,S.checkActivateKey=b,S.secondaryAuth=v,S.secondaryAuthCheck=A,S.checkingDuplication=h,S.checkProvider=T,S.addWithdrawal=g,S.delWithdrawal=m,S.setDefaultWithdrawalAccount=f,S.registerAccount={},S.email=[],S.licenseNumber=[],S.corpRegNumber=[],S.mainPhone=[],S.cellPhone=[],S.orgMainPhone=[],S.searchResult=!1,S.readOnly=!1,S.providers=u.providers(),S.searchResultPopup=w,S.domainOptions=["gmail.com","naver.com","daum.net","hanmail.net"],S.districtNums=n.districtNums,S.cellIdentifyingNums=n.cellIdentifyingNums,S.passwordRegex=/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[~!@#$%^&*\-_+=|\\]).{8,20}$/,S.delInput=s.delInput,S.selectFile=s.selectFile,S.deletion=!1,S.files=[{data:null}],i.addFileInput=function(e,t){if(!S.deletion){var n=e.target.id.split("-")[1];s.addFileInput(n,S.files,t)}};var U={showTerms:{forUsers:function(t){t="#portalTermsForUsers"+t,e.allContents({kind:"portal-terms",useYn:"Y"}).$promise.then(function(e){$(t).html(e[0].contentsBody)})}},showAgreeform:function(t){t="#agreeformForUsers"+t,e.allContents({kind:"privacy-policy",useYn:"Y"}).$promise.then(function(e){$(t).html(e[0].contentsBody)})},afterSearch:function(){S.email=[],S.cellPhone=[],S.mainPhone=[],S.corpRegNumber=[],S.confirmPassword="",S.authNumber=""},captcha:function(e){C(e);var t="#reLoad"+e;$(t).click(function(){C(e)})},afterRegister:function(){S.registerAccount={},S.newW=null,$("input").each(function(){$(this).val("")}),S.files=[{data:null}],S.isSecondAuthRequested=!1,S.authSuccess=!1,S.searchResult=!1,S.registerNewOrg=!1,S.readOnly=!1,S.agreeToPortalTermsForUsers=!1,S.agreeToAgreeform=!1,S.licenseNumber=[],S.email=[],S.cellPhone=[],S.mainPhone=[],S.corpRegNumber=[],S.confirmPassword="",S.authNumber="",S.providers=u.providers()}};S.init=U,S.init.showTerms.forUsers(1),S.init.showAgreeform(1),$(document).ready(function(){c(function(){U.captcha(1)})}),S.lengthCheck=k}angular.module("portalApplicationApp").controller("RegisterController",e),e.$inject=["GeneralInfo","$interval","CommonConstants","$compile","$state","$scope","$location","$translate","CommonUtil","$timeout","Auth","Organization","Register"]}(),function(){"use strict";function e(e){e.state("register",{parent:"app",url:"/register",data:{authorities:[],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/register/register.html",controller:"RegisterController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("register"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s){function c(){v.setHours(0),v.setMinutes(0),v.setSeconds(0),h.startTime=v,h.endTime=v}function p(){h.plan=l.data?angular.copy(l.data):{quotaEnabled:!1,rateLimitEnabled:!1},i.dismiss("cancel")}function u(e){h.isSaving=!1,i.close(e)}function d(t){h.isSaving=!1,e.onError(t.data.description)}function m(t){if(h.plan.quotaValue&&h.plan.quotaValue.toString().match(",")){var a=angular.copy(h.plan.quotaValue);h.plan.quotaValue=h.plan.quotaValue.replace(/,/g,"")}if(h.plan.maxRequestRate&&h.plan.maxRequestRate.toString().match(",")){var o=angular.copy(h.plan.maxRequestRate);h.plan.maxRequestRate=h.plan.maxRequestRate.replace(/,/g,"")}if(h.plan.quotaValue){if(isNaN(Number(h.plan.quotaValue)))return e.onError("할당량의 입력값이 잘못되었습니다."),h.plan.quotaValue=null,void(o&&(h.plan.maxRequestRate=o));if(Number(h.plan.quotaValue)>h.quotaValueLimit)return e.onError("할당량의 입력값이 범위를 초과했습니다."),h.plan.quotaValue=null,void(o&&(h.plan.maxRequestRate=o))}if(h.plan.maxRequestRate){if(isNaN(Number(h.plan.maxRequestRate)))return e.onError("초당 처리량의 입력값이 잘못되었습니다."),h.plan.maxRequestRate=null,void(a&&(h.plan.quotaValue=a));if(Number(h.plan.maxRequestRate)>h.maxRequestRateLimit)return e.onError("초당 처리량의 입력값이<br/>범위를 초과했습니다."),h.plan.maxRequestRate=null,void(a&&(h.plan.quotaValue=a))}"accountPlan"==t||(h.plan.quotaEnabled||(h.plan.quotaTimeUnit=null,h.plan.quotaValue=null),h.plan.rateLimitEnabled||(h.plan.maxRequestRate=null),h.plan.controlTime?(h.plan.startTime=n("date")(h.startTime,"HH:mm:ss"),h.plan.endTime=n("date")(h.endTime,"HH:mm:ss")):(h.plan.startTime=null,h.plan.endTime=null),null!=l.data?s.update(h.plan,u,d):s.save(h.plan,u,d))}function g(e){45==e.keyCode&&e.preventDefault()}function f(e,n,a){t.$watch(function(){1==a?h.plan.quotaValue=null==numeral(h.plan.quotaValue).value()?null:numeral(h.plan.quotaValue).value()>n?numeral(n).format("0,0"):numeral(h.plan.quotaValue).format("0,0"):h.plan.maxRequestRate=null==numeral(h.plan.maxRequestRate).value()?null:numeral(h.plan.maxRequestRate).value()>n?numeral(n).format("0,0"):numeral(h.plan.maxRequestRate).format("0,0")})}var h=this;h.clear=p,h.languages=null,h.planType=l.type,h.authorities=["ROLE_PLAN_CREATE"],h.quotaValueLimit=999999999,h.maxRequestRateLimit=999999999,h.keypressWatch=g,h.keyupWatch=f,h.plan=l.data?angular.copy(l.data):{},h.save=m,r.getAll().then(function(e){h.languages=e}),h.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],h.timeOptions={hstep:["1","2"],mstep:["0","15","30","45"],sstep:["0","15","30","45"]},h.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],h.initTime=c;var v=new Date;if(l.data&&l.data.controlTime){var A=l.data.startTime.split(":"),y=l.data.endTime.split(":");v.setHours(A[0]),v.setMinutes(A[1]),v.setSeconds(A[2]),h.startTime=v;var v=new Date;v.setHours(y[0]),v.setMinutes(y[1]),v.setSeconds(y[2]),h.endTime=v}else h.initTime();t.hstep=1,t.mstep=1,t.sstep=1,l.data&&angular.element(document).ready(function(){d3.selectAll("#number").each(function(e){var t=$(this).val(),n=d3.format(",")(t);$(this).val(n)})}),numeral.zeroFormat(""),numeral.nullFormat("")}angular.module("portalApplicationApp").controller("planEditDialogController",e),e.$inject=["CommonUtil","$scope","$filter","$log","$stateParams","$uibModalInstance","JhiLanguageService","selectPlan","apiPlans"]}(),function(){"use strict";function e(e){e.state("plans",{abstract:!0,parent:"account",data:{thirdDepth:[{name:"apiPlan",url:"apiPlan"},{name:"globalPlan",url:"globalPlan"}],depth:[1,2,3,4]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("reports",{abstract:!0,parent:"account",data:{thirdDepth:[{name:"report-api-using",url:"report-api-using"},{name:"report-api-providing",authority:"ROLE_PLAN_VIEW",url:"report-api-providing"},{name:"report-billing-using",url:"report-billing-using"},{name:"report-billing-providing",authority:"ROLE_PLAN_VIEW",url:"report-billing-providing"}],depth:[1,2,3,4]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){function n(t){e.delete({series:encodeURIComponent(t)},function(){a.error=null,a.success="OK",a.sessions=e.getAll()},function(){a.success=null,a.error="ERROR"})}var a=this;a.account=null,a.error=null,a.invalidate=n,a.sessions=e.getAll(),a.success=null,t.identity().then(function(e){a.account=e})}angular.module("portalApplicationApp").controller("SessionsController",e),e.$inject=["Sessions","Principal"]}(),function(){"use strict";function e(e){e.state("sessions",{parent:"account",url:"/sessions",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/sessions/sessions.html",controller:"SessionsController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("sessions"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("settings-user",{abstract:!0,parent:"account",data:{depth:[1,2,3]}}).state("settings-org",{abstract:!0,parent:"account",data:{depth:[1,2,3]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("useOrgs",{abstract:!0,parent:"account",data:{depth:[1,2,3]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("user",{abstract:!0,parent:"account",data:{depth:[1,2,3]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function AgreeManagementController($stateParams,$scope,$uibModal,AgreeManagement,CommonUtil){function sorting(e,t){vm.stateParams.sort=CommonUtil.sorting(sort,e,t),loadAll()}function readOnlyToggle(){vm.readOnly=!1}function loadList(){vm.showDiv=!1,AgreeManagement.list({size:vm.stateParams.size,page:vm.stateParams.page,sort:vm.stateParams.sort},function(e,t){vm.agreeList=e,vm.totalItems=t("x-total-count")})}function loadAll(){loadList(),vm.currentPage=eval(vm.stateParams.page)+1}function pageChanged(){vm.stateParams.page=vm.currentPage-1,loadList()}function addAgree(){vm.readOnly=!1,vm.showDiv=!0,vm.mode="register",vm.agree={}}function editAgree(e,t){vm.showDiv=!0,vm.mode=t,vm.readOnly="view"==t,vm.agree=e,vm.original=angular.copy(e)}function delAgree(e){var t=e.title+" 동의서를";"Y"==e.useYn&&(t="현재 사용중인 동의서입니다."),$uibModal.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:t,type:"delete"}}}}).result.then(function(t){t&&AgreeManagement.delAgree({id:e.id},onSuccess)})}function setForAgree(e){AgreeManagement.setUse({id:e.id}).$promise.then(function(e){loadList()})}function onSuccess(){vm.loadAll()}function clear(){vm.agree="register"==vm.mode?{}:angular.copy(vm.original)}function showAgreeBody(e){e.content=e.body,e.noFile=!0,$uibModal.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:{agree:e,type:"agree"}}}).result.then(function(e){})}function save(){"register"==vm.mode?AgreeManagement.addAgree(vm.agree,onSuccess):AgreeManagement.editAgree({id:vm.agree.id},vm.agree,onSuccess)}var vm=this;vm.stateParams=$stateParams,vm.sorting=sorting,vm.loadAll=loadAll,vm.loadAll(),vm.delAgree=delAgree,vm.addAgree=addAgree,vm.editAgree=editAgree,vm.pageChanged=pageChanged,vm.readOnlyToggle=readOnlyToggle,vm.save=save,vm.clear=clear,vm.showAgreeBody=showAgreeBody,vm.readOnly=!0,vm.setForAgree=setForAgree,vm.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"};var sort=[]}angular.module("portalApplicationApp").controller("AgreeManagementController",AgreeManagementController),AgreeManagementController.$inject=["$stateParams","$scope","$uibModal","AgreeManagement","CommonUtil"]}(),function(){"use strict";function e(e){e.state("admin-agreement-manage",{parent:"admin",url:"/admin/agreement-manage?size&page",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/agreement-manage/admin-agreement-manage.html",controller:"AgreeManagementController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("agree"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){return e("/api/admin/agrees",null,{list:{method:"GET",isArray:!0},addAgree:{method:"POST"},editAgree:{url:"/api/admin/agrees/:id",method:"PUT",params:{id:"@id"}},delAgree:{url:"/api/admin/agrees/:id",method:"DELETE",params:{id:"@id"}},setUse:{url:"/api/admin/agrees/:id/settinguse",method:"PUT",params:{id:"@id"}}})}angular.module("portalApplicationApp").factory("AgreeManagement",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m){function g(e){e.value=numeral(e.value).format("0,0")}function f(e,t){var n="";return 1==t?(U.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(U.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function h(){s.scopeTypes().$promise.then(function(e){U.scopes=e,b()}).catch(E)}function v(e){o.account&&(window.location="/files/download/"+e.id)}function A(){U.api.id&&l.apiById({id:U.api.id}).$promise.then(function(e){U.api=e,h(),y()})}function y(){}function b(){U.api.id||u.listCluster().$promise.then(function(e){U.gatewayClusters=e,U.gatewayClusters&&1==U.gatewayClusters.length&&(U.api.gatewayCluster=U.gatewayClusters[0]),U.changeGatewayCluster()})}function P(){U.api.gatewayCluster?w():U.fragments=[]}function w(){null!=U.api.gatewayCluster.id&&u.listFragments({clusterId:U.api.gatewayCluster.id}).$promise.then(function(e){U.fragments=e,U.fragments&&1==U.fragments.length&&(U.api.fragments[0]||(U.api.fragments[0]={}),U.api.fragments[0].fragment=U.fragments[0],U.selectedFragment=U.fragments[0],U.fragmentDisabled=!0,U.changeFragment())})}function $(){u.listCluster().$promise.then(function(e){U.gatewayClusters=e,u.listFragments({clusterId:U.api.gatewayCluster.id}).$promise.then(function(e){U.fragments=e,U.fragments.some(function(e){return e.id==U.api.fragments[0].fragment.id&&(U.selectedFragment=e),e.id==U.api.fragments[0].fragment.id}),U.selectedFragment.parameters=[],U.selectedFragment.arguments.forEach(function(e){U.selectedFragment.parameters.push({key:e.name,label:e.label,type:e.type,value:"boolean"==e.type?"false":null})}),C()})})}function C(){U.api.fragments[0]||(U.selectedFragment.parameters=[],U.api.fragments[0]={fragment:U.selectedFragment}),U.api.fragments[0].fragment&&(null!=U.api.fragments&&U.api.fragments.length>0&&U.selectedFragment.name==U.api.fragments[0].fragment.name&&U.api.fragments[0].parameters&&U.api.fragments[0].parameters.length>0?U.selectedFragment.parameters.forEach(function(e){"apiScope"==e.key&&(e.value?(U.existingScope=!1,U.scopes.some(function(t){return t.scope==e.value&&(U.existingScope=!0),U.existingScope})):U.existingScope=!0),U.api.fragments[0].parameters.forEach(function(t){e.key==t.key&&(e.value=t.value,e.type=t.type,e.label=t.label,e.established=!0)})}):(U.selectedFragment.parameters=[],U.selectedFragment.arguments.forEach(function(e){U.selectedFragment.parameters.push({key:e.name,label:e.label,type:e.type,value:e.value})})))}function O(){a.dismiss("cancel")}function I(){t.dismiss(t.getTop().key)}function E(e){m.onError(e.data.description)}function T(){U.isTermsOpen=!1}function L(){U.isbillingPoliciesOpen=!1}function k(){U.api.termsOfUse&&l.getTermsContent({id:U.api.termsOfUse.id}).$promise.then(function(e){i.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){A()})})}function S(){U.isbillingPoliciesOpen=!(!U.api.billingPolicy||!U.api.billingPolicy.id),U.isbillingPoliciesOpen&&i.open({templateUrl:"app/services/common/billing-policy.html",scope:o,backdrop:"static",size:"md"}),U.billingPolicytooltipIsOpen=!U.isbillingPoliciesOpen,U.billingPolicytooltipIsOpen&&d(function(){U.billingPolicytooltipIsOpen=!1},100)}var U=this;m.getCookie("XSRF-TOKEN");if(r){U.mode="modify",U.api=angular.copy(r),U.termsOn=!!r.termsOfUse;r.name,r.urlPattern;U.api.fragments&&U.api.fragments.length&&$()}U.authorities=["ROLE_API_CREATE"],U.changeGatewayCluster=P,U.changeFragment=C,U.refreshFragment=$,U.clear=O,U.clearTopModal=I,U.languages=null,U.billingPolicies=null,U.closeTerm=T,U.closeBillingPolicy=L,U.selectedPlans=r?U.api.applicablePlans:[],U.isOpen=!1,U.allSelect=!1,U.showTermsContent=k,U.termContent="약관을 선택해주세요.",U.showBillingPolicies=S,U.billingPolicytooltipIsOpen=!1,U.isbillingPoliciesOpen=!1,U.loadAll=A,U.fileDown=v,U.fileSize=m.fileSize,U.filter=f,U.messageLimitCheckSize=20480,U.toNumFormat=g,U.api.fragments||(U.api.fragments=[]),U.api.gatewayCluster||(U.api.gatewayCluster=[]),U.gatewayClusterDisabled=0!=U.api.gatewayCluster.length,U.fragmentDisabled=0!=U.api.fragments.length,U.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],U.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],U.apiplanPopover={templateUrl:"app/layouts/popover-template/apiplan-popover.html"},U.sqlhelpPopover={templateUrl:"app/layouts/popover-template/sqlhelp-popover.html"},U.injectionhelpPopover={templateUrl:"app/layouts/popover-template/injectionhelp-popover.html"},U.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"}}angular.module("portalApplicationApp").controller("AdminApiManagementDialogController",e),e.$inject=["CommonConstants","$uibModalStack","$compile","$uibModalInstance","$scope","$uibModal","selectedApi","Api","Code","JhiLanguageService","apiPlans","Gateway","$timeout","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(e){return e.key.indexOf("RESERVED")<0}function s(e,t){v.condition.sort=i.sorting(v.condition.sort,e,t),v.condition.page=0,v.currentPage=1,g()}function c(){v.currentPage=1,v.condition={apiName:v.apiName,proxy:v.proxyUrl,organization_id:v.organization?v.organization.id:0,apiPrivateOption:v.isPrivate?v.isPrivate:null,status:v.state?v.state:null,size:v.stateParams.size,page:0,sort:v.condition.sort},g()}function p(e){e.errorText?(e.isApiStatusOpen=!0,v.errorText=e.errorText):e.isApiStatusOpen=!1}function u(e){e.isApiStatusOpen=!1}function d(){o.listByTypeForAdmin({type:"PROVIDER"}).$promise.then(function(e){v.organizations=e})}function m(){var e=$.param(v.condition,!0),t="/api/admin/apis/excel";window.open(t+"?"+e,"_blank")}function g(e){e>=0&&(v.condition.page=e,v.currentPage=e+1),a.list(v.condition,function(e,t){v.list=e,v.totalItems=t("x-total-count")})}function f(){v.condition.page=v.currentPage-1,g()}function h(e){i.onError(e.data.description)}var v=this;v.stateParams=e,v.authorities=["ROLE_ADMIN"],v.statusFiltering=l,v.list=[],v.downloadExcel=m,v.showApiStatusPopover=p,v.hideApiStatusPopover=u,v.pageChanged=f,v.loadAll=g,v.condition={apiName:v.apiName,proxy:v.proxyUrl,organization_id:v.organization?v.organization.id:0,apiPrivateOption:v.isPrivate?v.isPrivate:null,status:v.state?v.state:null,size:v.stateParams.size,page:v.stateParams.page,sort:v.stateParams.sort},v.searching=c,v.sorting=s,r.apiStatusTypes().$promise.then(function(e){v.status=e.map(function(e){return{key:e.key,rename:"UNUSED"==e.key?"DELETED":e.key,name:e.name}})}),v.loadAll(),d(),v.tooltipPopover={templateUrl:"app/layouts/popover-template/approver-popover.html"},t.showApi=function(e){n.open({templateUrl:"app/admin/apis/admin-api-management-dialog.html",controller:"AdminApiManagementDialogController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedApi:e}}).result.then(function(e){v.loadAll()})},t.delApi=function(e,t){var o=e.name+" API를";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:o,type:t}}}}).result.then(function(t){t&&a.delete({id:e.id}).$promise.then(function(e){v.loadAll(0)},h)})},t.showAppUsed=function(e){n.open({templateUrl:"app/account/api/api-manage/app-list.html",controller:"AppListController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selection:{id:e.id,mode:"admin"}}}).result.then(function(e){v.loadAll()})}}angular.module("portalApplicationApp").controller("AdminApiManagementController",e),e.$inject=["$stateParams","$scope","$uibModal","AdminApiService","Organization","CommonUtil","Code"]}(),function(){"use strict";function e(e){e.state("admin-apis",{parent:"admin",url:"/admin/apis?size&page&totalLength",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/apis/admin-apis.html",controller:"AdminApiManagementController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api"),t.addPart("app-management"),t.addPart("billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){return e("/api/admin/apis",null,{list:{method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},delete:{url:"/api/admin/apis/:id",method:"DELETE",params:{id:"@id"}}})}angular.module("portalApplicationApp").factory("AdminApiService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){function s(e){return e.key.indexOf("RESERVED")<0}function c(e){e.openDeployStatus?e.openDeployStatus=!1:(e.openDeployStatus=!0,i.deployFailList({id:e.id}).$promise.then(function(t){e.deployFailOrgs=t}).catch(function(e){r.onError(e.data.description)}))}function p(e){if("DELETE_FAIL"==e.status){i.delete({id:e.id},P.loadAll,A);var t=function(e){h()};r.onError("삭제를 다시 시도합니다.<br/>결과는 잠시 후 새로고침으로 확인하십시오.","","redeploy",t,"삭제 재처리")}else i.redeploy({id:e.id},u,A)}function u(){var e=function(e){h()};r.onError("재배포를 시도합니다.<br/>결과는 잠시 후 새로고침으로 확인하십시오.","","redeploy",e,"재배포")}function d(e,t){P.condition.sort=r.sorting(P.condition.sort,e,t),P.condition.page=0,P.currentPage=1,h()}function m(){P.currentPage=1,P.condition={appName:P.appName,status:P.status?P.status:null,organization_id:P.organization?P.organization.id:0,size:P.stateParams.size,page:0,sort:P.condition.sort},h()}function g(){P.condition.page=P.currentPage-1,h()}function f(){var e=$.param(P.condition,!0),t="/api/admin/apps/excel";window.open(t+"?"+e,"_blank")}function h(e){e>=0&&(P.condition.page=e,P.currentPage=e+1),i.list(P.condition,function(e,t){P.list=e,P.totalItems=t("x-total-count")})}function v(e){o.open({templateUrl:"app/app-management/app-manage/app-view.html",controller:"AppViewController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectApp:e}}).result.then(function(e){P.loadAll()})}function A(e){r.onError(e.data.description)}function y(e){e.termsOfUse?Api.getTermsContent({id:e.termsOfUse.id}).$promise.then(function(e){P.isTermsOpen=!0,P.termContent=e.content}):P.isTermsOpen=!1}function b(){P.isTermsOpen=!1}var P=this;P.state=e,P.stateParams=n,P.authorities=["ROLE_ADMIN"],P.appStatus=l.appStatusTypes(),P.statusFiltering=s,P.organizations=t.listByTypeForAdmin(),P.initTab=!1,P.list=[],P.termContent="약관을 선택해주세요.",P.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"},P.show=v,P.loadAll=h,P.pageChanged=g,P.sorting=d,P.closeTerm=b,P.showTermsContent=y,P.downloadExcel=f,P.redeploy=p,P.getDeployFailList=c,P.searching=m,P.condition={appName:P.appName,status:P.status?P.status:null,organization_id:P.organization?P.organization.id:0,size:P.stateParams.size,page:P.stateParams.page,sort:P.stateParams.sort},P.loadAll(),P.appDeployStatus={templateUrl:"app/layouts/popover-template/app-deploystatus-popover.html"},a.delApp=function(e,t){var n=e.name+" 앱을";o.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:n,type:t}}}}).result.then(function(t){if(t){i.delete({id:e.id},P.loadAll,A);var n=function(e){h()};r.onError("결과는 잠시 후 새로고침으로 확인하십시오.<br/>[삭제 처리 실패]가 발생했을 경우,<br/>재처리를 시도하십시오.","","redeploy",n,"삭제안내")}})}}angular.module("portalApplicationApp").controller("AdminAppManagementController",e),e.$inject=["$state","Organization","$stateParams","$scope","$uibModal","AdminAppService","CommonUtil","Code"]}(),function(){"use strict";function e(e){e.state("admin-apps",{parent:"admin",url:"/admin/apps?size&page&totalLength",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/apps/admin-apps.html",controller:"AdminAppManagementController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("app-management"),
e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){return e("/api/admin/apps",null,{list:{method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},apiList:{url:"/api/apps/apis",method:"GET",isArray:!0},delete:{url:"/api/admin/apps/:id",method:"DELETE",params:{id:"@id"}},redeploy:{url:"/api/apps/:id/redeploy",method:"POST",params:{id:"@id"}},deployFailList:{url:"/api/apps/:id/redeploy",method:"GET",isArray:!0,params:{id:"@id"}}})}angular.module("portalApplicationApp").factory("AdminAppService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,n,a,o){function i(t){t.tooltipOpen?t.tooltipOpen=!1:(s.metricsList.forEach(function(e){e.tooltipOpen=!1}),e.showDetail({id:t.billingPolicyId,orgId:t.orgId}).$promise.then(function(e){s.billingPolicy=e,t.tooltipOpen=!0}))}function r(){s.page=s.currentPage-1,s.clickSearchButton()}function l(e){s.condition.orgId=e.orgId,s.condition.appId=e.appId,s.condition.apiId=e.apiId;var t=$.extend({auth:"admin"},s.condition);n.trend(t).$promise.then(function(t){o.open({templateUrl:"app/templates/modal/trend-chart.html",controller:"ApiTrendModalController",controllerAs:"vm",size:"lg",resolve:{items:function(){return{metrics:e,trend:t,condition:s.condition}}}})})}$("[type='number']").keydown(function(e){e.preventDefault()});var s=this;s.size=10,s.page=0,s.currentPage=s.page+1,s.pageChanged=r,s.success=!1,s.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",s.condition={},s.showApiTrend=l,s.tooltipControl=i,s.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},s.clickSearchButton=function(e){e&&(s.page=0,s.currentPage=1,s.selectedOrganization=null);var t=$.extend({auth:"admin",filterOrgId:s.selectedOrganization?s.selectedOrganization.id:null,page:s.page,size:s.size,sort:s.sort},s.condition);n.query(t,function(t,n){s.metricsList=t.billingMetrics,e?s.metricsList&&0!=s.metricsList.length?(s.success=!0,s.totalItems=n("x-total-count"),s.organizationList=t.organizations):(s.success=!1,s.alertMessage="데이터가 존재하지 않습니다."):s.totalItems=n("x-total-count")})},s.selectingOrg=function(){s.page=0,s.currentPage=1,s.clickSearchButton()},s.downloadExcel=function(){var e=$.extend({auth:"admin",filterOrgId:s.selectedOrganization?s.selectedOrganization.id:null},s.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/admin/reports/billings/excel?"+t,"_blank")};var c=new Date;s.condition.fromTime=new Date(c.getFullYear(),c.getMonth(),c.getDate()-1,0,0,0),s.condition.toTime=new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0),t.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),s.fromDateOpen=!s.fromDateOpen,s.toDateOpen=!1},t.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),s.toDateOpen=!s.toDateOpen,s.fromDateOpen=!1}}angular.module("portalApplicationApp").controller("AdminBillingController",e),e.$inject=["Billing","$scope","ReportBilling","AdminReportService","$uibModal"]}(),function(){"use strict";function e(e,t){function n(){var e=$.extend({},o.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/admin/reports/billings/trend/excel?"+t,"_blank")}function a(){e.close()}var o=this;o.title="["+t.metrics.orgName+"] "+t.metrics.appName,o.data=[{key:t.metrics.apiName,values:t.trend}],o.condition=t.condition,o.ok=a,o.downloadExcel=n,o.options={chart:{type:"multiBarChart",height:200,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,duration:0,stacked:!0,showControls:!1,xAxis:{showMaxMin:!0,tickFormat:function(e){var t="%m / %d";return d3.time.format(t)(new Date(e))},rotateLabels:-16},yAxis:{tickFormat:function(e){return d3.format(",5d")(e)}},x:function(e){return e[0]},y:function(e){return e[1]}}}}angular.module("portalApplicationApp").controller("ApiTrendModalController",e),e.$inject=["$uibModalInstance","items"]}(),function(){"use strict";function e(e){e.state("admin-billing",{parent:"admin",url:"/admin/billing",data:{authorities:["ROLE_ADMIN"]},views:{"content@":{templateUrl:"app/admin/billing/admin-billing.html",controller:"AdminBillingController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a){function o(){r.page=r.currentPage-1,r.clickSearchButton()}function i(e){r.condition.sender=e.sender,r.condition.receiver=e.receiver;var n=$.extend({auth:"admin"},r.condition);t.trend(n).$promise.then(function(t){a.open({templateUrl:"app/templates/modal/trend-chart.html",controller:"AdminTokenTrendModalController",controllerAs:"vm",size:"lg",resolve:{items:function(){return{metrics:e,trend:t,condition:r.condition}}}})})}$("[type='number']").keydown(function(e){e.preventDefault()});var r=this;r.size=10,r.page=0,r.currentPage=r.page+1,r.pageChanged=o,r.success=!1,r.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",r.condition={},r.showTokenTrend=i,r.clickSearchButton=function(e){e&&(r.page=0,r.currentPage=1);var n=$.extend({auth:"admin",page:r.page,size:r.size,sort:r.sort},r.condition);t.query(n,function(e,t){r.metricsList=e,r.metricsList&&0!=r.metricsList.length?(r.success=!0,r.totalItems=t("x-total-count"),r.metricsList.forEach(function(e){e.issuerName=e.issuer?e.issuer.name:e.sender,e.requesterName=e.requester?e.requester.name:e.receiver})):(r.success=!1,r.alertMessage="데이터가 존재하지 않습니다.")})},r.downloadExcel=function(){var e=$.extend({},r.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("/api/admin/reports/tokens/excel?"+t,"_blank")};var l=new Date;r.condition.fromTime=new Date(l.getFullYear(),l.getMonth(),l.getDate()-1,0,0,0),r.condition.toTime=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),e.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),r.fromDateOpen=!r.fromDateOpen,r.toDateOpen=!1},e.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),r.toDateOpen=!r.toDateOpen,r.fromDateOpen=!1}}angular.module("portalApplicationApp").controller("AdminBillingTokenController",e),e.$inject=["$scope","ReportToken","AdminReportService","$uibModal"]}(),function(){"use strict";function e(e,t){function n(){var e=$.extend({},o.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/admin/reports/tokens/trend/excel?"+t,"_blank")}function a(){e.close()}var o=this;o.title=t.metrics.issuerName+" -> "+t.metrics.requesterName,o.data=[{key:"발행횟수",values:t.trend}],o.condition=t.condition,o.downloadExcel=n,o.ok=a,o.options={chart:{type:"multiBarChart",height:200,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,duration:0,stacked:!0,showControls:!1,xAxis:{showMaxMin:!0,tickFormat:function(e){var t="%m / %d";return d3.time.format(t)(new Date(e))},rotateLabels:-16},yAxis:{tickFormat:function(e){return d3.format(",5d")(e)}},x:function(e){return e[0]},y:function(e){return e[1]}}}}angular.module("portalApplicationApp").controller("AdminTokenTrendModalController",e),e.$inject=["$uibModalInstance","items"]}(),function(){"use strict";function e(e){e.state("admin-billing-token",{parent:"admin",url:"/admin/billing-token",data:{authorities:["ROLE_ADMIN"]},views:{"content@":{templateUrl:"app/admin/billing-token/admin-billing-token.html",controller:"AdminBillingTokenController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d){function m(e){switch(e){case"admin-portal-terms":x.current={state:"Market 이용안내",title:"제목",kind:"portal-terms"};break;case"admin-service-package":x.current={state:"서비스",title:"서비스명",kind:"service-package"};break;case"admin-privacy-policy":x.current={state:"개인정보 처리방침",title:"제목",kind:"privacy-policy"};break;case"admin-agreeform":x.current={state:"개인정보 수집동의서",title:"제목",kind:"agreeform"};break;case"admin-popup-notice":x.current={state:"팝업 공지",title:"제목",kind:"popup-notice"};break;case"admin-news-stand":x.current={state:"뉴스 스탠드",title:"제목",kind:"news-stand"}}}function g(){m(l.current.name),x.condition.kind=angular.copy(x.current.kind),i(function(){"service-package"==x.condition.kind&&f(),O(0)})}function f(){r.getByTitle({title:"공통템플릿",kind:"service-package"}).$promise.then(function(e){x.commonTemplate=e})}function h(){d.onError("이미지크기가 "+d.fileSize({fileSize:n.editorImageFileSize})+"를 초과했습니다.")}function v(e,t){x.condition.sort=d.sorting(x.condition.sort,e,t),x.condition.page=0,x.currentPage=1,O()}function A(){return"service-package"==x.current.kind&&!x.contents.contentsIcon||"news-stand"!=x.current.kind&&!x.contents.contentsBody}function y(){u.open({templateUrl:"app/admin/contents/managing-categories.html",controller:"ManagingCategoriesController",controllerAs:"vm",backdrop:"static",size:"lg"}).result.then(function(e){})}function b(){u.open({templateUrl:"app/admin/contents/mapping-contents.html",controller:"MappingContentsController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedContents:{data:x.contents,type:"mappingApiGroups"}}}).result.then(function(e){x.contents.apiGroups=e})}function P(e,n,o){r.settingUse({id:e.id,useYn:n,showYn:o},function(){O(),"service-package"==e.kind&&t.allContents({kind:"service-package",noContentsBody:!0,noContentsIcon:!0}).$promise.then(function(e){a.serviceCategories=e,l.reload()})},E)}function w(){t.allContents({kind:"service-package",useYn:"Y",noContentsBody:!0,noContentsIcon:!0}).$promise.then(function(e){e.length?u.open({templateUrl:"app/admin/contents/contents-priority.html",controller:"ContentsPriorityController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{items:{data:e}}}).result.then(function(e){e&&r.settingPriority(e,function(){l.reload()},E)}):d.onError("공개용 컨텐츠를 먼저 설정하십시오.")})}function C(){x.readOnly=!1}function O(e){e>=0&&(x.condition.page=e,x.currentPage=e+1),x.showDiv=!1,r.allContents(x.condition,I,E)}function I(e,t){x.totalItems=t("X-Total-Count"),x.contentsList=e}function E(e){d.onError(e.data.description)}function T(){x.condition.page=x.currentPage-1,O()}function L(e){"service-package"==x.current.kind&&r.listCategories().$promise.then(function(t){x.allCategories=t,e&&e.serviceClassifyList&&e.serviceClassifyList.length>0&&e.serviceClassifyList.forEach(function(e){x.allCategories.some(function(t){return e.id==t.id&&(t.checked=!0),e.id==t.id})})})}function k(){x.readOnly=!1,x.showDiv=!0,x.mode="register",x.contents={apiGroups:[]},"service-package"==x.current.kind&&x.commonTemplate&&(x.contents.contentsBody=x.commonTemplate.contentsBody,x.original=angular.copy(x.contents),i(function(){$("#contentsBody").html(x.commonTemplate.contentsBody)})),L()}function S(e){x.showDiv=!0,x.mode="edit",x.readOnly=!1,x.contents=e,x.original=angular.copy(e),i(function(){$("#contentsBody").html(x.contents.contentsBody),"service-package"==e.kind&&$("#contentsIcon").html(x.contents.contentsIcon)}),L(e)}function U(e){var t="Y"==e.useYn?"현재 사용중인 컨텐츠입니다.<br/>그래도":"해당 컨텐츠를",n=function(t){t&&r.delContents({id:e.id},function(){l.reload()},E)};d.deleteModal(t,n)}function D(){x.contents="register"==x.mode&&"service-package"!=x.current.kind?{}:angular.copy(x.original),L(x.contents),i(function(){o($("#summernoteEditor").contents())(c),"service-package"==x.contents.kind&&o($("#iconEditor").contents())(c)})}function z(e){u.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{item:{contents:e,type:"contentsManagement"}}})}function R(){x.contents.kind=x.current.kind,"service-package"==x.current.kind&&(x.contents.serviceClassifyList=x.allCategories.filter(function(e){return e.checked})),"register"==x.mode?r.addContents(x.contents,function(){g()}):r.editContents(x.contents,O)}var x=this;x.authorities=["ROLE_ADMIN"],x.totalItems=null,x.size=10,x.page=0,x.sort="id,desc",x.sorting=v,x.pageChanged=T,x.readOnlyToggle=C,x.save=R,x.clear=D,x.readOnly=!0,x.loadAll=O,x.setPriority=w,x.checkValid=A,x.serviceCategoryTitles=n.serviceCategoryTitles,m(l.current.name),x.condition={kind:x.current.kind,size:x.size,page:x.page,sort:x.sort},"/"==a.fromState.url&&g(),c.$on("$stateChangeSuccess",g),x.delContents=U,x.addContents=k,x.editContents=S,x.showContents=z,x.mappingApiGroups=b,x.manageCategories=y,x.settingUse=P,x.maximumImageFileSizeCheck=h,x.iconEditorToolbar={toolbar:[["insert",["picture"]]],lang:"ko-KR",maximumImageFileSize:n.editorImageFileSize,callbacks:{onImageUploadError:x.maximumImageFileSizeCheck}},x.summernoteToolbar={toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph","lineheight"]],["height",["height"]],["table",["table"]],["insert",a.check_ie9?["link","video","hr"]:["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],lang:"ko-KR",callbacks:{onImageUploadError:x.maximumImageFileSizeCheck}}}angular.module("portalApplicationApp").controller("ContentsManagementController",e),e.$inject=["ApiGroup","GeneralInfo","CommonConstants","$rootScope","$compile","$timeout","ContentsManagement","$state","$stateParams","$scope","Api","$uibModal","CommonUtil"]}(),function(){"use strict";function e(e){return e("/api/admin/contents",null,{allContents:{method:"GET",isArray:!0,param:{kind:"@kind"}},addContents:{method:"POST"},editContents:{method:"PUT"},delContents:{url:"/api/admin/contents/:id",method:"DELETE",params:{id:"@id"}},getByTitle:{url:"/api/contents/search",method:"GET",param:{title:"@title",kind:"@kind"}},settingUse:{url:"/api/admin/contents/:id/settinguse",method:"PUT",params:{id:"@id",useYn:"@useYn",showYn:"@showYn"}},settingPriority:{url:"/api/admin/contents/setting-priority",method:"PUT"},listCategories:{url:"/api/admin/contents/categories",method:"GET",isArray:!0},addCategories:{url:"/api/admin/contents/categories",method:"POST"},editCategories:{url:"/api/admin/contents/categories",method:"PUT"},delCategories:{url:"/api/admin/contents/categories/:id",method:"DELETE",params:{id:"@id"}}})}angular.module("portalApplicationApp").factory("ContentsManagement",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){e.state("admin-contents-management",{abstract:!0,parent:"admin",data:{authorities:["ROLE_ADMIN"],thirdDepth:[{name:"admin-service-package",url:"admin-service-package"},{name:"admin-popup-notice",url:"admin-popup-notice"},{name:"admin-news-stand",url:"admin-news-stand"},{name:"admin-service-category",url:"admin-service-category"},{name:"admin-portal-terms",url:"admin-portal-terms"},{name:"admin-privacy-policy",url:"admin-privacy-policy"},{name:"admin-agreeform",url:"admin-agreeform"}],depth:[1,2,3,4]},views:{"content@":{templateUrl:"app/admin/contents/contents-management.html",controller:"ContentsManagementController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api"),e.refresh()}]}}).state("admin-popup-notice",{parent:"admin-contents-management",url:"/admin/contents-management/popup-notice"}).state("admin-service-package",{parent:"admin-contents-management",url:"/admin/contents-management/service-package"}).state("admin-service-category",{parent:"admin-contents-management",url:"/admin/contents-management/service-category",views:{"content@":{templateUrl:"app/admin/contents/managing-categories.html",controller:"ManagingCategoriesController",controllerAs:"vm"}}}).state("admin-portal-terms",{parent:"admin-contents-management",url:"/admin/contents-management/portal-terms"}).state("admin-privacy-policy",{parent:"admin-contents-management",url:"/admin/contents-management/privacy-policy"}).state("admin-agreeform",{parent:"admin-contents-management",url:"/admin/contents-management/agreeform"}).state("admin-news-stand",{parent:"admin-contents-management",url:"/admin/contents-management/news-stand"})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(e,t,n){switch(t){case"usePriority":e.sort(function(e,t){return e.usePriority>t.usePriority?n?-1:1:e.usePriority<t.usePriority?n?1:-1:e.title>t.title?1:e.title<t.title?-1:0});break;case"showPriority":e.sort(function(e,t){return e.showPriority>t.showPriority?n?-1:1:e.showPriority<t.showPriority?n?1:-1:e.title>t.title?1:e.title<t.title?-1:0})}}function r(){n.dismiss()}function l(){s.finalList=[];var t=e.defer();t.promise.then(function(){s.showList.forEach(function(e,t){e.showPriority=d3.format("03")(t+1)})}).then(function(){s.useList.forEach(function(e,t){s.showList.some(function(t){return t.id==e.id&&(e.showPriority=t.showPriority),t.id==e.id}),e.usePriority=d3.format("03")(t+1),s.finalList.push({id:e.id,usePriority:e.usePriority,showPriority:e.showPriority})})}).then(function(){n.close(s.finalList)}),t.resolve()}var s=this;s.clear=r,s.confirm=l,a&&(s.showList=a.data.filter(function(e){return"Y"==e.showYn}),s.useList=angular.copy(a.data),i(s.showList,"showPriority"),i(s.useList,"usePriority")),s.sortableOptions={placeholder:"app-ph",connectWith:".apps-container"}}angular.module("portalApplicationApp").controller("ContentsPriorityController",e),e.$inject=["$q","$scope","$uibModalInstance","items","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a){function o(){n.listCategories().$promise.then(function(e){u.allCategories=e})}function i(e,n){var o=!1,i=[];switch(e){case"1":n&&"edit"==n?t.result1.some(function(e){return i.some(function(t){return o=t.name==e.name}),o||i.push(e),o}):t.result1.some(function(t){return t.name==u.input[e-1]&&(o=!0),t.name==u.input[e-1]});break;case"2":n&&"edit"==n?t.result2.some(function(e){return i.some(function(t){return o=t.name==e.name}),o||i.push(e),o}):t.result2.some(function(t){return t.name==u.input[e-1]&&(o=!0),t.name==u.input[e-1]});break;case"3":n&&"edit"==n?t.result3.some(function(e){return i.some(function(t){return o=t.name==e.name}),o||i.push(e),o}):t.result3.some(function(t){return t.name==u.input[e-1]&&(o=!0),t.name==u.input[e-1]})}return!!o&&(a.onError("동일 카테고리에 같은 이름이 존재합니다."),!0)}function r(e){i(e)||n.addCategories({name:u.input[e-1],classifyNumber:e},function(){c(e)},p)}function l(e,a){"cancel"==a?(o(),u.inputDisabled[e-1]=!1):"save"==a?i(e,"edit")||n.editCategories("1"==e?t.result1:"2"==e?t.result2:t.result3,function(){c(e)},p):u.inputDisabled[e-1]=!0}function s(e){n.delCategories({id:e.id},o,p)}function c(e){u.input[e-1]="",u.inputDisabled[e-1]=!1,o()}function p(e){a.onError(e.data.description)}var u=this;u.addCategories=r,u.editCategories=l,u.delCategories=s,u.serviceCategoryTitles=e.serviceCategoryTitles,u.input=[],u.inputDisabled=[],o()}angular.module("portalApplicationApp").controller("ManagingCategoriesController",e),e.$inject=["CommonConstants","$scope","ContentsManagement","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){function s(e){e.checked?u.result.push(e):u.result.splice(u.result.indexOf(e),1)}function c(){n.dismiss()}function p(){n.close(u.result)}var u=this;u.clear=c,u.save=p,u.selectedContents=a,u.checkingOneCheckBox=s,u.result=[],a&&"mappingApiGroups"==a.type&&(u.title="연동 API 그룹 선택",e.listForAdmin().$promise.then(function(e){u.apiGroups=d3.nest().key(function(e){return a.data.apiGroups.forEach(function(t){e.id==t.id&&(e.checked=!0,u.result.push(e))}),e.organization.name}).entries(e)})),u.contentsMappingApigroupPopover={templateUrl:"app/layouts/popover-template/contents-mapping-apigroup-popover.html"}}angular.module("portalApplicationApp").controller("MappingContentsController",e),e.$inject=["ApiGroup","$scope","$uibModalInstance","selectedContents","Principal","ApprovalLine","Api","CommonUtil"]}(),function(){"use strict";function e(e){e.state("docs",{parent:"admin",url:"/docs",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/docs/docs.html"}},resolve:{translatePartialLoader:["$translate",function(e){return e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(){o.listCluster().$promise.then(function(e){b.clusters=e,b.clusters.forEach(function(e,t){e.gateways=o.list({clusterId:e.id})})})}function d(){b.isOpenMonitoring&&o.healthcheck().$promise.then(function(e){b.results=e}).catch(y)}function m(e){b.selectCluster=e,e.selected=!0}function g(e){e.selected=!1,i.open({templateUrl:"app/admin/gatewayclusters/cluster-share.html",controller:"ClusterShareController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{cluster:e}}}).result.then(function(e){b.loadAll()})}function f(e){e&&(e.selected=!1),i.open({templateUrl:"app/admin/gatewayclusters/gateway-dialog.html",controller:"GatewayDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{cluster:e,mode:"register"}}}).result.then(function(e){b.loadAll()})}function h(e,t,n){t.selected=!1;var a=n?n.name+" 게이트웨이를":t.name+" 클러스터를";i.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:a,type:e}}}}).result.then(function(e){n?o.delete({clusterId:t.id,gatewayId:n.id},A,y):o.deleteCluster({clusterId:t.id},A,y)})}function v(e,t){e.selected=!1,i.open({templateUrl:"app/admin/gatewayclusters/gateway-dialog.html",controller:"GatewayDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{cluster:e,gateway:t}}}).result.then(function(e){b.loadAll()})}function A(e){b.loadAll()}function y(e){n.onError(e.data.description)}var b=this;b.authorities=["ROLE_ADMIN"],b.add=f,b.remove=h,b.edit=v,b.loadAll=u,b.loadAll(),b.viewMenu=m,b.shareCluster=g,b.showGWMonitoring=d,b.isOpenMonitoring=!0,d(),b.currentDate=new Date,b.dynamicPopover={templateUrl:"app/layouts/popover-template/gateway-popover.html"}}angular.module("portalApplicationApp").controller("GatewayClusterController",e),e.$inject=["$rootScope","$interval","CommonUtil","$scope","Gateway","$uibModal","Principal","ParseLinks","AlertService","$state","JhiLanguageService"]}(),function(){"use strict";function e(e){e.state("admin-gatewayclusters",{parent:"admin",url:"/admin/gatewayclusters",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/gatewayclusters/admin-gatewayclusters.html",controller:"GatewayClusterController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("gateway"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(){u.checkedList=u.orgList.filter(function(e){return 1==e.checked}),o.shareCluster({clusterId:n.cluster.id},u.checkedList,c,p)}function s(){t.dismiss("cancel")}function c(e){u.isSaving=!1,t.close(e)}function p(t){u.isSaving=!1,e.onError(t.data.description)}var u=this;u.languages=null,u.authorities=["ROLE_ADMIN"],u.save=l,a.providers().$promise.then(function(e){u.orgList=e,o.sharingOrgs({clusterId:n.cluster.id}).$promise.then(function(e){u.sharingOrgs=e,u.orgList.forEach(function(e){e.checked=!1,u.sharingOrgs.forEach(function(t){t.id==e.id&&(e.checked=!0)})})})}),u.clear=s,r.getAll().then(function(e){u.languages=e})}angular.module("portalApplicationApp").controller("ClusterShareController",e),e.$inject=["CommonUtil","$uibModalInstance","selections","Org","Gateway","AlertService","JhiLanguageService"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){"register"==p.mode?"gateway"==p.ApiName?a.create({clusterId:n.cluster.id},p.gateway,s,c):a.createCluster(p.cluster,s,c):"gateway"==p.ApiName?a.update({clusterId:n.cluster.id,gatewayId:n.gateway.id},p.gateway,s,c):a.updateCluster({clusterId:n.cluster.id},p.cluster,s,c)}function l(){p.cluster="update"==p.mode?n.cluster:{},p.gateway="update"==p.mode?n.gateway:{},t.dismiss("cancel")}function s(e){p.isSaving=!1,t.close(e)}function c(t){p.isSaving=!1,e.onError(t.data.description)}var p=this;p.languages=null,p.authorities=["ROLE_ADMIN"],p.mode=void 0==n.mode?"update":"register",p.ApiName=void 0==n.cluster?"gateway.cluster":"update"==p.mode&&void 0==n.gateway?"gateway.cluster":"gateway",p.save=r,p.clear=l,p.cluster="update"==p.mode?angular.copy(n.cluster):{},p.gateway="update"==p.mode?angular.copy(n.gateway):{},i.getAll().then(function(e){p.languages=e})}angular.module("portalApplicationApp").controller("GatewayDialogController",e),e.$inject=["CommonUtil","$uibModalInstance","selections","Gateway","AlertService","JhiLanguageService"]}(),function(){"use strict";function e(e){function t(t,a){e.changeLevel({name:t,level:a},function(){n.loggers=e.findAll()})}var n=this;n.changeLevel=t,n.loggers=e.findAll()}angular.module("portalApplicationApp").controller("LogsController",e),e.$inject=["LogsService"]}(),function(){"use strict";function e(e){var t=e("management/jhipster/logs",{},{findAll:{method:"GET",isArray:!0},changeLevel:{method:"PUT"}});return t}angular.module("portalApplicationApp").factory("LogsService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){e.state("logs",{parent:"admin",url:"/logs",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/logs/logs.html",controller:"LogsController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("logs"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){n.onError("이미지크기가 "+n.fileSize({fileSize:e.editorImageFileSize})+"를 초과했습니다.")}function l(){a.open({templateUrl:"app/admin/mailtemplates/select-receivers-noti.html",controller:"SelectReceiversNotiController",controllerAs:"vm",backdrop:"static",size:"xl"}).result.then(function(e){o.sendNotification(e,h,v)})}function s(e,t){A.condition.sort=n.sorting(A.condition.sort,e,t,"code,asc"),A.condition.page=0,A.currentPage=1,c()}function c(){A.editShow=!1,o.getDetail({code:"SEND_NOTIFICATION"}).$promise.then(function(e){A.notiTemplate=e}),o.list(A.condition,function(e,t){A.mailTemplates=e,A.totalItems=t("x-total-count"),A.smsOnOff={code:"SMS_ON_OFF",smsContents:t("SMS_ON_OFF")}})}function p(){A.condition.page=A.currentPage-1,c()}function u(e){a.open({templateUrl:"app/admin/mailtemplates/mail-template-popup.html",controller:"MailTemplatePopupController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{selections:{template:e}}}).result.then(function(e){o.update({code:e.code},e,h,v)})}function d(e){var t="해당 템플릿을",a=function(t){t&&o.delete({code:e.code},function(){c(0)},v)};n.deleteModal(t,a)}function m(){o.update({code:A.smsOnOff.code},A.smsOnOff,h,v)}function g(){o.update({code:A.selections.code},A.selections,h,v)}function f(){A.editShow=!1,A.loadAll()}function h(){A.editShow=!1,A.loadAll()}function v(e){n.onError(e.data.description)}var A=this;A.authorities=["ROLE_ADMIN"],A.maximumImageFileSizeCheck=r,A.summernoteToolbar={toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph","lineheight"]],["height",["height"]],["table",["table"]],["insert",t.check_ie9?["link","video","hr"]:["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],lang:"ko-KR",maximumImageFileSize:e.editorImageFileSize,callbacks:{onImageUploadError:A.maximumImageFileSizeCheck}},A.size=10,A.page=0,A.sort="code,asc",A.sorting=s,A.condition={size:A.size,page:A.page,sort:A.sort},A.clear=f,A.save=g,A.saveSmsOnOff=m,A.pageChanged=p,A.popupTemplate=u,A.delTemplate=d,A.sendNoti=l,A.loadAll=c,A.loadAll()}angular.module("portalApplicationApp").controller("MailTemplateController",e),e.$inject=["CommonConstants","$rootScope","CommonUtil","$uibModal","MailTemplate","Principal"]}(),function(){"use strict";function e(e){e.state("admin-mailtemplates",{parent:"admin",url:"/admin/mailtemplates",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/mailtemplates/admin-mailtemplates.html",controller:"MailTemplateController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("mail-template"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){t.onError("파일사이즈가 "+t.fileSize({fileSize:e.editorImageSize})+"를 초과했습니다.")}function r(){s.selections.template.emailAddress=s.email+"@shinhan.com",a.close(s.selections.template)}function l(){s.selections=o,a.dismiss()}var s=this;s.selections=angular.copy(o),s.templateName=angular.copy(o.template.name),s.clear=l,s.save=r,s.maximumFileSizeError=i,s.summernoteToolbar={toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["alignment",["ul","ol","paragraph","lineheight"]],["help",["help"]],["height",["height"]],["fontclr",["color"]],["table",["table"]],["insert",n.check_ie9?["link","video","hr"]:["link","picture","video","hr"]],["view",["fullscreen","codeview"]]],lang:"ko-KR",maximumImageFileSize:e.editorImageSize,callbacks:{onImageUploadError:s.maximumFileSizeError}},s.email=s.selections.template.emailAddress.split("@")[0]}angular.module("portalApplicationApp").controller("MailTemplatePopupController",e),e.$inject=["CommonConstants","CommonUtil","$rootScope","$uibModalInstance","selections"]}(),function(){"use strict";function e(e){var t=e("/api/emails/templates/:code",{},{list:{method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},create:{method:"POST"},update:{method:"PUT",params:{code:"@code"}},delete:{method:"DELETE",params:{code:"@code"}},getDetail:{method:"GET",params:{code:"@code"}},sendNotification:{url:"/api/notification",method:"POST"}});return t}angular.module("portalApplicationApp").factory("MailTemplate",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,n,a,o){function i(e){e?e.values.forEach(function(t){t.checked=e.checked,l(t)}):p.users.filter(function(e){return r(e)}).forEach(function(e){e.checked=p.checkedAllOrgs,i(e)})}function r(e){return"null"!=e.key}function l(e){e.checked?p.result.push(e):p.result.splice(p.result.indexOf(e),1),p.result.length||(p.checkedAllOrgs=!1)}function s(){n.dismiss()}function c(){n.close(p.result)}var p=this;p.clear=s,p.save=c,p.excludeNull=r,p.checkingAll=i,p.checkingOneCheckBox=l,p.result=[],a.listAllForAdmin({size:0,page:0,sort:"id,desc"}).$promise.then(function(e){p.users=d3.nest().key(function(e){return e.organization||(e.organization={name:"null"}),e.organization.name}).entries(e)})}angular.module("portalApplicationApp").controller("SelectReceiversNotiController",e),e.$inject=["MailTemplate","$scope","$uibModalInstance","User","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e,t){y.condition.sort=i.sorting(y.condition.sort,e,t),y.condition.page=0,y.currentPage=1,h()}function l(e){n.changeSet({id:e}).$promise.then(function(e){y.changeSets=e.changeSets})}function s(e){if("ACTIVE"==e.state){var t=function(t){
t&&n.activateForAdmin({orgId:e.id,mode:"deactivate"},h,A)};i.onError("해당기관이 가진 API, APP의 상태도<br/>비활성화 됩니다.<br/>그래도 비활성화 하시겠습니까?","sm","orgDeactivate",t,"비활성 처리 안내")}else n.activateForAdmin({orgId:e.id,mode:"activate"},h,A)}function c(){y.currentPage=1,y.condition={type:y.searchingOrgType,name:"name"==y.searchingColumn?y.searchingText:"",licenseNumber:"licenseNumber"==y.searchingColumn?y.searchingText:"",size:y.size,page:0,sort:y.condition.sort},h()}function p(){y.condition.page=y.currentPage-1,h()}function u(){e.dismissAll()}function d(e){y.Org=e,l(e.id),a.open({templateUrl:"app/admin/organizations/org-detail-view.html",scope:t,backdrop:"static",size:"md"})}function m(e){var t={withdrawalId:e.id,password:y.loginPassword,history:!!e.history&&e.history};n.getAccountNumber(t,function(e){y.thisAccountNumber=e.accountNumber,y.loginPassword=null,y.initSearch=!1},function(t){e.isOpen=!1,A(t)})}function g(e){y.initSearch=!0,y.loginPassword="",m(e)}function f(){var e="/api/admin/organizations/search/excel",t=$.param(y.condition,!0);window.open(e+"?"+t,"_blank")}function h(e){e>=0&&(y.condition.page=e,y.currentPage=e+1),n.searchForAdmin(y.condition,v,A)}function v(e,t){y.totalItems=t("X-Total-Count"),y.Orgs=e}function A(e){i.onError(e.data.description)}var y=this;y.authorities=["ROLE_ADMIN"],y.Orgs=[],y.fileDown=i.fileDown,y.fileSize=i.fileSize,y.totalItems=null,y.size=10,y.page=0,y.sort="id,desc",y.pageChanged=p,y.sorting=r,y.condition={type:y.searchingOrgType,name:"name"==y.searchingColumn?y.searchingText:"",licenseNumber:"licenseNumber"==y.searchingColumn?y.searchingText:"",size:y.size,page:y.page,sort:y.sort},y.activate=s,y.accountNumberSearch=g,y.getAccountNumber=m,y.clear=u,y.loadAll=h,y.searching=c,y.detailView=d,y.downloadExcel=f,y.loadAll(),y.orgTypes=[{name:"PROVIDER",ko:"제공기관"},{name:"PARTNER",ko:"이용기관"}],y.searchColumns=[{name:"name",ko:"기관이름"},{name:"licenseNumber",ko:"사업자등록번호"}],y.accountNumberPopover={templateUrl:"app/layouts/popover-template/account-number-popover.html"},t.checkedAll=function(){y.Orgs.filter(function(e){e.checked=t.orgAllCheck})},t.orgManageModal=function(e){a.open({templateUrl:"app/admin/organizations/orgManagementEdit-dialog.html",controller:"OrgManagementEditDialogController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{selectOrg:e}}).result.then(function(e){"create"==e?h(0):h()})},t.orgTotalDelete=function(){y.Orgs.filter(function(e){return e.checked}).forEach(function(e){e.checked=!1,t.orgDeleteModal(e)}),t.orgAllCheck=!1},t.orgDeleteModal=function(e,t){var o="[ "+e.name+" ] : 선택하신 기관의 모든 정보가 삭제됩니다. 그래도 ";a.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:o,type:t}}}}).result.then(function(t){t&&n.deleteForAdmin({orgId:e.id},function(){h(0)},A)})}}angular.module("portalApplicationApp").controller("AdminOrganizationController",e),e.$inject=["$uibModalStack","$scope","Organization","$uibModal","AlertService","CommonUtil"]}(),function(){"use strict";function e(e){e.state("admin-organizations",{parent:"admin",url:"/admin/organizations",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/organizations/admin-organizations.html",controller:"AdminOrganizationController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-organizations"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t=e("/api/organizations",{},{query:{method:"GET",isArray:!0},save:{method:"POST"},update:{method:"PUT"},delete:{url:"/api/organizations/:id",method:"DELETE",id:"@id"},users:{url:"/api/organizations/users",method:"GET",isArray:!0},setManager:{url:"/api/organizations/:orgId/users/:userId/setmanager",method:"GET",params:{orgId:"@orgId",userId:"@userId"}},moveUser:{url:"/api/admin/users/:userId/move",method:"GET",params:{userId:"@userId",organizationId:"@organizationId"}},providers:{url:"/api/organizations/providers",method:"GET",isArray:!0},forums:{url:"/api/organizations/forums",method:"GET",isArray:!0}});return t}angular.module("portalApplicationApp").factory("Org",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s){function c(e){t.account&&(window.location="/files/download/"+e.id)}function p(e){U.providerChecked=!1,U.providers.forEach(function(t){t.id==e.id?(U.providerChecked=!0,t.checked=!0):t.checked=!1})}function u(){U.Org.code=angular.copy(U.orgCode),U.Org.gatewayDomainName=angular.copy(U.orgGWDomainName),U.flagOfRegister&&(U.Org.orgWithdrawals=[])}function d(){U.deletion=!1,U.files=[{data:null}],void 0!=o?(U.flagOfRegister=!1,U.mode="edit",U.Org=angular.copy(o),U.Org.checkState=angular.copy(U.Org.state),U.Org.attachFileIds=[],U.orgCode=angular.copy(U.Org.code),U.orgGWDomainName=angular.copy(U.Org.gatewayDomainName),i.providers().$promise.then(function(e){U.providers=e,e.forEach(function(e){e.checked=!1,U.Org.reservedProviders&&U.Org.reservedProviders.forEach(function(t){t.id==e.id&&(e.checked=!0,U.providerChecked=!0)})})}),U.Org.mainPhone&&U.Org.mainPhone.split("-").forEach(function(e,t){U.mainPhone[t]=e}),U.Org.licenseNumber&&U.Org.licenseNumber.split("-").forEach(function(e,t){U.licenseNumber[t]=e}),U.Org.corpRegNumber&&U.Org.corpRegNumber.split("-").forEach(function(e,t){U.corpRegNumber[t]=e}),f()):(U.providers=i.providers(),U.mode="register",U.Org={orgWithdrawals:[],attachFileIds:[]})}function m(e){var t=function(){U.Org.orgWithdrawals.splice(U.Org.orgWithdrawals.indexOf(e),1)};e.id?i.checkWithdrawalAccountUsed({withdrawalId:e.id},t,w):t()}function g(){var e=U.Org.orgWithdrawals.filter(function(e){return e.accountAlias==U.newW.accountAlias||e.accountNumber==U.newW.accountNumber});if(e.length>0)l.modalOne("계좌별칭 또는 계좌번호가 중복됩니다.");else{var t=function(){U.newW.isDefault=0==U.Org.orgWithdrawals.length,U.Org.orgWithdrawals.push(U.newW),U.newW=null};i.checkWithdrawalAccountUsed({accountNumber:U.newW.accountNumber},t,w)}}function f(){i.usersForAdmin({orgId:U.Org.id}).$promise.then(function(e){U.originalUsers=angular.copy(e),U.users=e,U.users.forEach(function(e,t){e.manager&&(U.manager=e)})}),r.listAllForAdmin().$promise.then(function(e){U.availableUsers=e.filter(function(e){return null==e.organization&&e.authorities.indexOf("ROLE_ADMIN")<0&&e.authorities.indexOf("ROLE_MANAGER")<0})})}function h(){if(U.availableUsers&&0!=U.availableUsers.length){var e=U.Org.name+" : 사용자 추가";n.open({templateUrl:"app/services/common/select-modal.html",controller:"selectModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{items:function(){return{data:{name:e,availableUsers:U.availableUsers},category:"orgAddUsers",type:"orgAddUsers"}}}}).result.then(function(e){"cancel"!=e&&v(e.orgUsers)})}else l.onError("현재 추가 가능한 사용자가 없습니다.")}function v(e){e.forEach(function(e,t){U.users.push(e),U.availableUsers.splice(U.availableUsers.indexOf(e),1)})}function A(e,t){var n="[ "+e.fullName+" ] : 선택하신 user를",a=function(n){U.users.splice(t,1),U.availableUsers.push(e)};l.deleteModal(n,a)}function y(e){U.users.forEach(function(e){e.isManager=!1}),e.isManager=!0}function b(){a.dismiss("cancel")}function P(e){a.close(e)}function w(e){l.onError(e.data.description)}function C(){var e=function(e){e?U.Org.checkState="INACTIVE":U.Org.checkState="ACTIVE"};l.onError("해당기관이 가진 API, APP의 상태도<br/>비활성화 됩니다.<br/>그래도 비활성화 하시겠습니까?","sm","orgDeactivate",e,"비활성 처리 안내")}function O(){var n=!1;if($("input[type=file].file-input").each(function(t){$(this).val()?navigator.userAgent.indexOf("MSIE 9.0")<0&&$(this)[0].files[0].size>=e.attachFileSize?U.violationOfSize=!0:n=!0:$(this).attr("disabled","disabled")}),U.violationOfSize)return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),l.onError("파일사이즈는 "+l.fileSize({fileSize:e.attachFileSize})+"를 넘을 수 없습니다."),void(U.violationOfSize=!1);var a=l.getCookie("XSRF-TOKEN");n?($("#fileForm").ajaxForm({url:"/files/account_register/upload?_csrf="+a,enctype:"multipart/form-data",type:"post",dataType:"json",data:{type:"organization"},success:function(e){U.Org.attachFileIds=e,I(),t.$apply()},error:function(e){return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),navigator.userAgent.indexOf("MSIE 9.0")!==-1?void l.onError("업로드 대상 파일을 다시 확인해 주십시오."):void(500==e.status?l.onError("업로드 대상 파일을 다시 확인해 주십시오."):l.onError(e.responseJSON.description))}}),$("#fileForm").submit()):I()}function I(){U.Org.attachFileList&&U.Org.attachFileList.forEach(function(e,t){U.Org.attachFileIds.push(e.id)}),U.Org.licenseNumber="3"==U.licenseNumber.length?U.licenseNumber.join("-"):null,U.Org.corpRegNumber="2"==U.corpRegNumber.length?U.corpRegNumber.join("-"):null,U.Org.mainPhone="3"==U.mainPhone.length?U.mainPhone.join("-"):null,"PROVIDER"==U.Org.type?U.Org.orgWithdrawals=[]:U.Org.reservedProviders=U.providers.filter(function(e){return 1==e.checked}),U.Org.id?(U.Org.attachFileList=[],U.users.filter(function(e){return e.isManager}).forEach(function(e){i.setManagerForAdmin({orgId:U.Org.id,userId:e.id})}),E()):i.createForAdmin(U.Org,function(){P("create")},w)}function E(){U.Org.apiPlans&&U.Org.apiPlans.forEach(function(e){delete e.organization}),i.updateForAdmin(U.Org,function(){P("update")},w)}function T(e,t){U.licenseNumberLength=[],U.corpRegNumberLength=[],U.mainPhoneLength=[],U.lengthChecked=!1,t.forEach(function(t){"licenseNumber"==e?t&&U.licenseNumberLength.push(t):"corpRegNumber"==e?t&&U.corpRegNumberLength.push(t):"mainPhone"==e&&t&&U.mainPhoneLength.push(t)}),1!=U.licenseNumberLength.length&&2!=U.licenseNumberLength.length||(U.lengthChecked=!0),1==U.corpRegNumberLength.length&&(U.lengthChecked=!0),1!=U.mainPhoneLength.length&&2!=U.mainPhoneLength.length||(U.lengthChecked=!0)}function L(e){var t={withdrawalId:e.id,password:U.loginPassword,history:!!e.history&&e.history};i.getAccountNumber(t,function(e){U.thisAccountNumber=e.accountNumber,U.loginPassword=null,U.initSearch=!1},function(t){e.isOpen=!1,w(t)})}function k(e){U.initSearch=!0,U.loginPassword="",L(e)}function S(e){U.Org.orgWithdrawals.forEach(function(e){e.isDefault=!1}),e.isDefault=!0}var U=this;U.authorities=["ROLE_ADMIN"],U.clear=b,U.languages=null,U.save=I,U.addWithdrawal=g,U.delWithdrawal=m,U.accountNumberSearch=k,U.getAccountNumber=L,U.setDefaultWithdrawalAccount=S,U.setManager=y,U.delUser=A,U.addUsers=h,U.fileDown=c,U.fileSize=l.fileSize,U.deactivateInfo=C,U.mainPhone=[],U.licenseNumber=[],U.corpRegNumber=[],U.districtNums=e.districtNums,U.cellIdentifyingNums=e.cellIdentifyingNums,U.flagOfRegister=!0,U.delInput=l.delInput,U.selectFile=l.selectFile,U.init=d,U.checkProvider=p,U.checkBoxClickProvider=u,U.uploadFiles=O,U.init(),t.addFileInput=function(e,t){if(!U.deletion){var n=e.target.id.split("-")[1];l.addFileInput(n,U.files,t)}},s.getAll().then(function(e){U.languages=e}),U.lengthCheck=T,U.accountNumberPopover={templateUrl:"app/layouts/popover-template/account-number-popover.html"}}angular.module("portalApplicationApp").controller("OrgManagementEditDialogController",e),e.$inject=["CommonConstants","$scope","$uibModal","$uibModalInstance","selectOrg","Organization","User","CommonUtil","JhiLanguageService"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s){function c(){v.setHours(0),v.setMinutes(0),v.setSeconds(0),h.startTime=v,h.endTime=v}function p(){h.plan=l.data?angular.copy(l.data):{quotaEnabled:!1,rateLimitEnabled:!1},i.dismiss("cancel")}function u(e){h.isSaving=!1,i.close(e)}function d(t){h.isSaving=!1,e.onError(t.data.description)}function m(t){if(h.plan.quotaValue&&h.plan.quotaValue.toString().match(",")){var a=angular.copy(h.plan.quotaValue);h.plan.quotaValue=h.plan.quotaValue.replace(/,/g,"")}if(h.plan.maxRequestRate&&h.plan.maxRequestRate.toString().match(",")){var o=angular.copy(h.plan.maxRequestRate);h.plan.maxRequestRate=h.plan.maxRequestRate.replace(/,/g,"")}if(h.plan.quotaValue){if(isNaN(Number(h.plan.quotaValue)))return e.onError("할당량의 입력값이 잘못되었습니다."),h.plan.quotaValue=null,void(o&&(h.plan.maxRequestRate=o));if(Number(h.plan.quotaValue)>h.quotaValueLimit)return e.onError("할당량의 입력값이 범위를 초과했습니다."),h.plan.quotaValue=null,void(o&&(h.plan.maxRequestRate=o))}if(h.plan.maxRequestRate){if(isNaN(Number(h.plan.maxRequestRate)))return e.onError("초당 처리량의 입력값이 잘못되었습니다."),h.plan.maxRequestRate=null,void(a&&(h.plan.quotaValue=a));if(Number(h.plan.maxRequestRate)>h.maxRequestRateLimit)return e.onError("초당 처리량의 입력값이<br/>범위를 초과했습니다."),h.plan.maxRequestRate=null,void(a&&(h.plan.quotaValue=a))}"accountPlan"==t||(h.plan.controlTime?(h.plan.startTime=n("date")(h.startTime,"HH:mm:ss"),h.plan.endTime=n("date")(h.endTime,"HH:mm:ss")):(h.plan.startTime=null,h.plan.endTime=null),null!=l.data?s.update({isGlobal:!0},h.plan,function(){u("update")},d):s.save({isGlobal:!0},h.plan,function(){u("create")},d))}function g(e){45==e.keyCode&&e.preventDefault()}function f(e,n,a){t.$watch(function(){1==a?h.plan.quotaValue=null==numeral(h.plan.quotaValue).value()?null:numeral(h.plan.quotaValue).value()>n?numeral(n).format("0,0"):numeral(h.plan.quotaValue).format("0,0"):h.plan.maxRequestRate=null==numeral(h.plan.maxRequestRate).value()?null:numeral(h.plan.maxRequestRate).value()>n?numeral(n).format("0,0"):numeral(h.plan.maxRequestRate).format("0,0")})}var h=this;h.clear=p,h.languages=null,h.planType=l.type,h.authorities=["ROLE_ADMIN"],h.quotaValueLimit=999999999,h.maxRequestRateLimit=999999999,h.keypressWatch=g,h.keyupWatch=f,h.plan=l.data?angular.copy(l.data):{},h.save=m,r.getAll().then(function(e){h.languages=e}),h.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],h.timeOptions={hstep:["1","2"],mstep:["0","15","30","45"],sstep:["0","15","30","45"]},h.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],h.initTime=c;var v=new Date;if(l.data&&l.data.controlTime){var A=l.data.startTime.split(":"),y=l.data.endTime.split(":");v.setHours(A[0]),v.setMinutes(A[1]),v.setSeconds(A[2]),h.startTime=v;var v=new Date;v.setHours(y[0]),v.setMinutes(y[1]),v.setSeconds(y[2]),h.endTime=v}else h.initTime();t.hstep=1,t.mstep=1,t.sstep=1,l.data&&angular.element(document).ready(function(){d3.selectAll("#number").each(function(e){var t=$(this).val(),n=d3.format(",")(t);$(this).val(n)})}),numeral.zeroFormat(""),numeral.nullFormat("")}angular.module("portalApplicationApp").controller("AdminPlanEditDialogController",e),e.$inject=["CommonUtil","$scope","$filter","$log","$stateParams","$uibModalInstance","JhiLanguageService","selectPlan","apiPlans"]}(),function(){"use strict";function e(e){e.state("admin-plan",{abstract:!0,parent:"admin",data:{thirdDepth:[{name:"admin-api-plan",url:"admin-api-plan"}],depth:[1,2,3,4]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){v.condition.page=v.currentPage-1,v.checkingChangedInternal(!0)}function r(e,t,n){switch(t){case"checked":e.sort(function(e,t){return e.checked>t.checked?n?-1:1:e.checked<t.checked?n?1:-1:e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0});break;case"selectedAppUnmapping":e.sort(function(e,t){return e.selectedAppUnmapping>t.selectedAppUnmapping?n?-1:1:e.selectedAppUnmapping<t.selectedAppUnmapping?n?1:-1:e.appUnmapping>t.appUnmapping?n?-1:1:e.appUnmapping<t.appUnmapping?n?1:-1:e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0});break;case"fullName":e.sort(function(e,t){return e.fullName>t.fullName?n?-1:1:e.fullName<t.fullName?n?1:-1:0});break;case"name":e.sort(function(e,t){return e.name>t.name?n?-1:1:e.name<t.name?n?1:-1:0})}}function l(){v.availableAppList=[],v.availableAppList=v.appList.filter(function(e){return $.inArray(e.organization.id,v.condition.orgIdList)>-1}),0!=v.condition.orgIdList.length&&v.condition.orgIdList.length!=v.organizationList.length||angular.copy(v.appList,v.availableAppList),r(v.availableAppList,"fullName")}function s(){v.condition.appIdList.length>0?v.availableApiList.forEach(function(e){e.selectedAppUnmapping=!0,v.availableAppList.some(function(t){return $.inArray(t.id,v.condition.appIdList)>-1&&t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.selectedAppUnmapping=!1),e.id==t.api.id}),!e.selectedAppUnmapping})}):v.availableApiList.forEach(function(e){e.selectedAppUnmapping=!0,v.availableAppList.some(function(t){return t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.selectedAppUnmapping=!1),e.id==t.api.id}),!e.selectedAppUnmapping})}),r(v.availableApiList,"selectedAppUnmapping")}function c(e,t,n){switch(t){case"org":v.isOrgAllChecked=!1,v.searchOrgText=null;break;case"app":v.isAppAllChecked=!1,v.searchAppText=null;break;case"api":v.isApiAllChecked=!1,v.searchApiText=null}e.forEach(function(e){e.checked=!1})}function p(e,t,n){e.filter(function(e){return n(e)}).forEach(function(e){e.checked=t})}function u(e,t){"app"==e?(l(),c(v.availableAppList,"app"),m("app",!1)):(s(),c(v.availableApiList,"api",t),m("api"))}function d(e){switch(e){case"org":p(v.organizationList,v.isOrgAllChecked,v.filterOrganization),m("org",!1,"checkingAll");break;case"app":p(v.availableAppList,v.isAppAllChecked,v.filterApp),m("app",!1,"checkingAll");break;case"api":p(v.availableApiList,v.isApiAllChecked,v.filterApi),m("api","checkingAll")}}function m(e,n,a){switch(e){case"org":v.condition.orgIdList=v.organizationList.filter(function(e){return e.checked}).map(function(e){return e.id}),n&&0==v.condition.orgIdList.length&&t.onError("기관을 먼저 선택하십시오.");break;case"app":v.condition.appIdList=v.availableAppList.filter(function(e){return e.checked}).map(function(e){return e.id}),n&&0==v.condition.appIdList.length&&t.onError("기관과 앱을 먼저 선택하십시오.");break;case"api":v.condition.apiIdList=v.availableApiList.filter(function(e){return e.checked}).map(function(e){return e.id})}}function g(){e(function(){d3.select("svg > .nvd3 > g > .nv-focus > .nv-y > .nv-axis > g > text.nv-axislabel").attr("transform","rotate(0)").attr("x",-10).attr("y",-10)}),v.options.chart.yAxis.axisLabel=v.forChart.valueName.indexOf("Time")>-1?"단위 (초)":""}function f(){v.isAutoMode&&v.checkingChangedInternal()}function h(e){return!e.filter(function(e){return!e.checked}).length}$("input[id=time]").keydown(function(e){e.preventDefault()});var v=this;v.afterSearch=!1,v.pageChanged=i,v.checkingChanged=f,v.getSizeChecked=m,v.arraySorting=r,v.getUnmappingListFlag=!1,v.getMappingListFlag=!1,v.page=0,v.size=5;var A={};v.condition={groupBy:"ORGANIZATION",size:v.size,page:v.page},v.forChart={valueName:"attemptedCount"},v.isAutoMode=!1,v.options={chart:{type:"stackedAreaChart",height:480,margin:{top:0,right:10,bottom:40,left:90},x:function(e){return e[0]},y:function(e){var t=v.forChart.valueName.indexOf("Time")>-1?1e3:1;return e[1][v.forChart.valueName]/t},useVoronoi:!1,clipEdge:!0,duration:0,useInteractiveGuideline:!0,xAxis:{showMaxMin:!0,tickFormat:function(e){var t=v.condition.daily?"%Y/%m/%d":"%Y/%m/%d %Hh";return d3.time.format(t)(new Date(e))},rotateLabels:-16,rotateYLabel:!0,tickValues:function(e){if(!e)return[];var t=d3.extent(e[0].values,function(e){return e[0]}),n=v.condition.daily?864e5:36e5,a=t[1]-t[0],o=parseInt(a/n);if(o<1)return t;o=Math.min(o,6);var i=parseInt(a/o/n)*n;return d3.range(t[0],t[1],i)}},yAxis:{showMaxMin:!1,tickFormat:function(e){return v.forChart.valueName.indexOf("Min")>-1?d3.format(",.3f")(e):v.forChart.valueName.indexOf("Time")>-1?d3.format(",.2f")(e):d3.format(",")(e)},axisLabel:""},zoom:{enabled:!1,scaleExtent:[1,10],useFixedDomain:!1,useNiceScale:!1,horizontalOff:!1,verticalOff:!0,unzoomEventType:"dblclick.zoom"},controlLabels:{stacked:"스택",expanded:"확장"},controlOptions:["Stacked","Expanded"]}},t.underLoading(),o.organizations().$promise.then(function(e){v.organizationList=e,o.apps().$promise.then(function(e){v.appList=e,v.appList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name}),o.apis().$promise.then(function(e){v.apiList=e,v.apiList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name,e.appUnmapping=!0,v.appList.some(function(t){return t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.appUnmapping=!1),e.id==t.api.id}),!e.appUnmapping})}),r(v.organizationList,"name"),v.availableApiList=angular.copy(v.apiList),v.condition.orgIdList=[],v.condition.appList=[],v.condition.apiList=[],t.completeLoading(),v.isOrgAllChecked=!0,v.isAppAllChecked=!0,v.isApiAllChecked=!1,d("org"),l(),d("app"),s(),d("api")})})}),v.orgOrderByChecked=!0,v.orgOrderByName=!0,v.appOrderByChecked=!0,v.appOrderByFullName=!0,v.apiOrderByChecked=!0,v.apiOrderByFullName=!0,v.apiOrderBySelectedAppUnmapping=!0,v.checkingAllCheckBox=function(e){switch(e){case"org":d("org"),u("app"),u("api","org");break;case"app":d("app"),u("api"),v.isAppAllChecked&&f();break;case"api":d("api"),v.isApiAllChecked&&f()}},v.checkingOneCheckBox=function(e){switch(e){case"org":v.isOrgAllChecked=!1,m("org",!1),u("app"),u("api","org"),$("#appScroll").scrollTop(0),$("#apiScroll").scrollTop(0);break;case"app":v.isAppAllChecked=!1,m("app"),u("api"),$("#apiScroll").scrollTop(0),f();break;case"api":v.isApiAllChecked=!1,m("api"),f()}},v.changeValueName=function(){v.chartApi.refresh(),g()},v.checkingChangedInternal=function(e){m("org"),m("app"),m("api"),e?(v.condition.page=v.currentPage-1,A.page=v.condition.page):(v.currentPage=1,v.condition.page=0,v.condition.size=v.size,A=angular.copy(v.condition)),A.orgIdList.length>0&&A.appIdList.length>0?(t.underLoading(),e||v.availableApiList.length!=A.apiIdList.length||(A.apiIdList=[]),a.query(A,function(e,n){v.data=e.map(function(e){return{key:A.total?"합계":e.key.name,values:e.values}}),v.totalItems=A.total?-1:n("x-total-count"),g(),t.completeLoading(),v.afterSearch=!0})):t.onError("하나 이상의 기관과 앱을 선택하십시오.")},v.filterOrganization=function(e){return v.searchOrgText?(v.organizationList[0].id==e.id&&(v.resultSignFilteredOrg=!1),e.name.toLowerCase().indexOf(v.searchOrgText.toLowerCase())>-1&&(v.resultSignFilteredOrg=!0),e.name.toLowerCase().indexOf(v.searchOrgText.toLowerCase())>-1):(v.resultSignFilteredOrg=!0,!0)},v.filterApp=function(e){return!v.organizationList||0==v.organizationList.length||(v.searchAppText?(v.availableAppList[0].id==e.id&&(v.resultSignFilteredApp=!1),e.name.toLowerCase().indexOf(v.searchAppText.toLowerCase())>-1&&(v.resultSignFilteredApp=!0),e.name.toLowerCase().indexOf(v.searchAppText.toLowerCase())>-1):(v.resultSignFilteredApp=!0,!0))},v.filterApi=function(e){return v.searchApiText?(v.availableApiList[0].id==e.id&&(v.resultSignFilteredApi=!1),v.getUnmappingListFlag?((e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),(e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1):v.getMappingListFlag?(!e.appUnmapping&&!e.selectedAppUnmapping&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),!(e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1):(e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1)):(v.resultSignFilteredApi=!0,v.getUnmappingListFlag?e.appUnmapping||e.selectedAppUnmapping:!v.getMappingListFlag||!(e.appUnmapping||e.selectedAppUnmapping))},v.filteringCheckSize=function(e,t){switch(e){case"org":v.resultSizeOfOrgs=t.length,v.isOrgAllChecked=h(t);break;case"app":v.resultSizeOfApps=t.length,v.isAppAllChecked=h(t);break;case"api":v.resultSizeOfApis=t.length,v.isApiAllChecked=h(t),v.unmappedApis=v.availableApiList.filter(function(e){return e.appUnmapping||e.selectedAppUnmapping})}},v.downloadExcel=function(){window.open("api/metrics/excel","_blank")};var y=new Date;v.condition.fromTime=new Date(y.getFullYear(),y.getMonth(),y.getDate()-1,0,0,0),v.condition.toTime=new Date(y.getFullYear(),y.getMonth(),y.getDate(),0,0,0),v.setToTime=function(){var e=new Date(v.condition.fromTime.getTime()+31536e6);v.condition.toTime>e?v.condition.toTime=e:v.condition.toTime<v.condition.fromTime&&(v.condition.toTime=v.condition.fromTime),n.toDateOptions.maxDate=e>new Date?new Date:e,n.toDateOptions.minDate=v.condition.fromTime},n.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),v.fromDateOpen=!v.fromDateOpen,v.toDateOpen=!1},n.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),v.toDateOpen=!v.toDateOpen,v.fromDateOpen=!1},n.fromDateOptions={showWeeks:!1,maxDate:new Date,minDate:new Date(2016,12,1)},n.toDateOptions={showWeeks:!1,maxDate:new Date,minDate:v.condition.fromTime}}angular.module("portalApplicationApp").controller("AdminReportController",e),e.$inject=["$timeout","CommonUtil","$scope","Metrics","AdminReportService"]}(),function(){"use strict";function e(e){return e("/api/admin/reports/:type",null,{organizations:{method:"GET",isArray:!0,params:{type:"organizations"}},apps:{method:"GET",isArray:!0,params:{type:"apps"}},apis:{method:"GET",isArray:!0,params:{type:"apis"}}})}angular.module("portalApplicationApp").factory("AdminReportService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){e.state("admin-report",{parent:"admin",url:"/admin/report",data:{authorities:["ROLE_ADMIN"]},views:{"content@":{templateUrl:"app/admin/report/admin-report.html",controller:"AdminReportController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("report"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(){m.releaseAll=!m.releaseAll,m.authList.forEach(function(e){e.values.forEach(function(e){e.disabled||(e.checked=!m.releaseAll)})})}function o(t,n){e.list().$promise.then(function(e){m.roles=e,m.roles.sort(function(e,t){return e.organizationType>t.organizationType?-1:e.organizationType<t.organizationType?1:e.name>t.name?1:e.name<t.name?-1:0}),t?m.showAuth(t):n?i(m.roles[0]):m.showAuth(m.roles[0])})}function i(t){e.listAuth().$promise.then(function(e){e.forEach(function(e,t){e.title=e.kind.name}),m.listAuth=e,m.authList=d3.nest().key(function(e){return e.title}).entries(e),r(t)})}function r(t){m.roleSelected=t,e.roleAuth({roleCode:t.code}).$promise.then(function(e){g=e;var n=[];m.listAuth.forEach(function(e,a){var o=!1;"PROVIDER"!=t.organizationType&&"통계"!=e.title&&"사용자"!=e.title&&"앱"!=e.title&&(o=!0);var i=0;g.forEach(function(t,a){t.code==e.code&&(t.checked=!0,t.title=e.title,t.disabled=o,i=1,n.push(t))}),0==i&&n.push({code:e.code,name:e.name,title:e.title,checked:!1,disabled:o,kind:{code:e.kind.code,name:e.kind.name}})}),m.authList=d3.nest().key(function(e){return e.title}).entries(n)}),m.role=t,m.releaseAll=!0}function l(){var t=[];m.authList.forEach(function(e,n){e.values.forEach(function(e,n){e.checked&&t.push(e)})});var a={code:m.role.code,name:m.role.name,description:m.role.description,authorities:t};e.update(a,function(e){e&&n.onError("변경사항이 저장되었습니다.","","",null,"변경 확인")})}function s(){t.open({templateUrl:"app/admin/roles/role-dialog.html",controller:"RoleDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{mode:"register",allData:m.roles}}}).result.then(function(e){m.loadAll(e)})}function c(e){t.open({templateUrl:"app/admin/roles/role-dialog.html",controller:"RoleDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{mode:"edit",role:e,allData:m.roles}}}).result.then(function(e){m.loadAll(e)})}function p(n){var a="[ "+n.name+" ] 역할을";t.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:a,type:"delete"}}}}).result.then(function(){e.delete({roleId:n.code},u,d)})}function u(){m.loadAll()}function d(e){n.onError(e.data.description)}var m=this;m.authorities=["ROLE_ADMIN"],m.register=s,m.remove=p,m.edit=c,m.showAuth=r,m.update=l,m.loadAll=o,m.loadAll(null,!0),m.releaseAll=!0,m.selectAll=a;var g=[]}angular.module("portalApplicationApp").controller("AdminRoleController",e),e.$inject=["Role","$uibModal","CommonUtil"]}(),function(){"use strict";function e(e){e.state("admin-roles",{parent:"admin",url:"/admin/roles",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/roles/admin-roles.html",controller:"AdminRoleController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-roles"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){var t=!1,o=!1;if("register"==p.mode){if(n.allData.some(function(e){return e.name==p.role.name&&(t=!0),e.code==p.role.code&&(o=!0),t||o}),t)return void e.onError("역할이름이 중복되었습니다.");if(o)return void e.onError("역할코드가 중복되었습니다.");a.create(p.role,s,c)}else{if(n.allData.some(function(e){return n.role.name!=p.role.name&&e.name==p.role.name&&(t=!0),n.role.code!=p.role.code&&e.code==p.role.code&&(o=!0),t||o}),t)return void e.onError("역할이름이 중복되었습니다.");if(o)return void e.onError("역할코드가 중복되었습니다.");a.update(p.role,s,c)}}function l(){p.role="edit"==p.mode?n.role:{},t.dismiss("cancel")}function s(e){p.isSaving=!1,t.close(e)}function c(t){p.isSaving=!1,e.onError(t.data.description)}var p=this;p.languages=null,p.authorities=["ROLE_ADMIN"],p.mode=n.mode,p.save=r,p.clear=l,p.role="edit"==p.mode?angular.copy(n.role):{organizationType:"PROVIDER"},i.getAll().then(function(e){p.languages=e})}angular.module("portalApplicationApp").controller("RoleDialogController",e),e.$inject=["CommonUtil","$uibModalInstance","selections","Role","AlertService","JhiLanguageService"]}(),function(){"use strict";function e(e,t,n,a){function o(e,t){c.condition.sort=a.sorting(c.condition.sort,e,t),c.condition.page=0,c.currentPage=1,i()}function i(e){e>=0&&(c.condition.page=e,c.currentPage=e+1),n.list(c.condition,l,s)}function r(){c.condition.page=c.currentPage-1,i()}function l(e,t){c.scopes=e,c.totalItems=t("x-total-count")}function s(e){a.onError(e.data.description)}var c=this;c.loadAll=i,c.authorities=["ROLE_ADMIN"],c.size=10,c.page=0,c.sort="id,desc",c.sorting=o,c.condition={size:c.size,page:c.page,sort:c.sort},c.pageChanged=r,c.loadAll(),e.editScope=function(e){t.open({templateUrl:"app/admin/scope-management/scope-management-dialog.html",controller:"ScopeManagementDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:e}}).result.then(function(e){"create"==e?i(0):i()})},e.deleteScope=function(e){var t=e.name+" SCOPE을",o=function(t){t&&n.delete({id:e.id},function(){i(0)},s)};a.deleteModal(t,o)}}angular.module("portalApplicationApp").controller("ScopeManagementController",e),e.$inject=["$scope","$uibModal","Scopes","CommonUtil"]}(),function(){"use strict";function e(e){return e("api/admin/scopes",null,{list:{method:"GET",isArray:!0},create:{method:"POST"},update:{url:"/api/admin/scopes/:id",method:"PUT",params:{id:"@id"}},delete:{url:"/api/admin/scopes/:id",method:"DELETE",params:{id:"@id"}}})}angular.module("portalApplicationApp").factory("Scopes",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){e.state("admin-scope-management",{parent:"admin",url:"/admin/scope-management",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/scope-management/admin-scope-management.html",controller:"ScopeManagementController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("scope"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),
e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){c.scope=a,t.dismiss()}function r(e){t.close(e)}function l(t){e.onError(t.data.description)}function s(){a?o.update(c.scope,r,l):o.create(c.scope,function(){r("create")},l)}var c=this;c.clear=i,c.languages=null,c.authorities=["ROLE_ADMIN"],c.selections=a,c.scope=a?angular.copy(a):{},c.save=s,n.getAll().then(function(e){c.languages=e})}angular.module("portalApplicationApp").controller("ScopeManagementDialogController",e),e.$inject=["CommonUtil","$uibModalInstance","JhiLanguageService","selections","Scopes"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c){function p(e,n){T.condition.sort=t.sorting(T.condition.sort,e,n),T.condition.page=0,T.currentPage=1,y()}function u(e){return"PROVIDER"==e?"제공기관":"PARTNER"==e?"이용기관":""}function d(e){switch(e.state){case"ACTIVE":return"userManagement.active";case"INACTIVE":return"userManagement.inactive";case"REGISTERING":return"userManagement.registering";case"WITHDRAWING":return"userManagement.withdrawing"}}function m(e){var n="ACTIVE"==e.state?e.login+" 의 사용자 상태를<br/>비활성으로 변경하시겠습니까?":e.login+" 의 사용자 상태를<br/>활성으로 변경하시겠습니까?",a=function(t){t&&(e.state="ACTIVE"==e.state?"INACTIVE":"ACTIVE",o.updateForAdmin(e,function(){T.loadAll()},O))};t.onError(n,"sm","changeStatus",a,"사용자 상태 변경")}function g(e){e.gatewayAlertReceive=!e.gatewayAlertReceive,o.updateForAdmin(e,function(){T.loadAll()},O)}function f(e){return e.authorities.indexOf("ROLE_ADMIN")>-1}function h(e){var t=!f(e);o.setAdmin({userId:e.id,flag:t},function(){T.loadAll()},O)}function v(){T.currentPage=1,T.condition={searchFieldType:T.searchingColumn,searchText:T.searchingText,state:T.searchingState,roleCode:T.searchingRoleCode,type:T.searchingOrgType,size:T.size,page:0,sort:T.condition.sort},y()}function A(){var e="/api/admin/users/excel",t=$.param(T.condition,!0);window.open(e+"?"+t,"_blank")}function y(e){e>=0&&(T.condition.page=e,T.currentPage=e+1),o.listAllForAdmin(T.condition,C,O)}function b(e){n.open({templateUrl:"app/admin/users/user-manage-detail.html",controller:"AdminUserDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{user:e,type:"detailView"}}}).result.then(function(e){e&&T.loadAll()})}function P(t){n.open({templateUrl:"app/admin/users/user-manage-dialog.html",controller:"AdminUserDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{roles:T.roles,user:t,refOrg:e.account.organization,isAdmin:T.isAdmin}}}).result.then(function(e){"create"==e?y(0):y()})}function w(e){var t=e.login+" 정보를";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:t,type:"delete"}}}}).result.then(function(t){t&&o.deleteForAdmin({userId:e.id},function(){y(0)},O)})}function C(e,t){T.totalItems=t("X-Total-Count"),T.users=e}function O(e){t.onError(e.data.description)}function I(){T.user={id:null,login:null,firstName:null,lastName:null,email:null,activated:null,langKey:null,createdBy:null,createdDate:null,lastModifiedBy:null,lastModifiedDate:null,resetDate:null,resetKey:null,authorities:null}}function E(){T.condition.page=T.currentPage-1,y()}var T=this;T.authorities=["ROLE_USER_VIEW","ROLE_ADMIN"],T.languages=null,T.loadAll=y,T.setActive=m,T.setGAReceive=g,T.userFlagOfAdmin=f,T.setAdmin=h,T.displayActivated=d,T.clear=I,T.searching=v,T.size=10,T.page=0,T.sort="id,desc",T.pageChanged=E,T.sorting=p,T.condition={searchFieldType:T.searchingColumn,searchText:T.searchingText,state:T.searchingState,roleCode:T.searchingRoleCode,type:T.searchingOrgType,size:T.size,page:T.page,sort:T.sort},T.showDetail=b,T.editUser=P,T.delUser=w,T.checkOrgType=u,T.downloadExcel=A,a.hasAuthority("ROLE_ADMIN").then(function(e){e?T.isAdmin=!0:(T.searchColumns.pop(),a.hasAuthority("ROLE_USER_MODIFY").then(function(e){e&&(T.isModifier=!0)})),T.loadAll()}),T.orgTypes=[{name:"PROVIDER",ko:"제공기관"},{name:"PARTNER",ko:"이용기관"}],T.roles=i.list(),T.states=[{value:"ACTIVE",ko:"활성"},{value:"INACTIVE",ko:"비활성"},{value:"REGISTERING",ko:"등록진행중"},{value:"WITHDRAWING",ko:"탈퇴진행중"}],T.searchColumns=[{name:"ID",ko:"아이디"},{name:"NAME",ko:"닉네임"},{name:"EMAIL",ko:"이메일"},{name:"ORGNAME",ko:"기관명"}]}angular.module("portalApplicationApp").controller("AdminUserController",e),e.$inject=["$scope","CommonUtil","$uibModal","Principal","User","Role","AlertService","$state","$stateParams","JhiLanguageService"]}(),function(){"use strict";function e(e){e.state("admin-users",{parent:"admin",url:"/admin/users?page&sort",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/users/admin-users.html",controller:"AdminUserController",controllerAs:"vm"}},params:{page:{value:"1",squash:!0},size:{value:"10",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("user-management"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(){c.list().$promise.then(function(e){y.roles=e.filter(function(e){return!y.user.organization||e.organizationType==y.user.organization.type})})}function d(){switch(y.user.state){case"ACTIVE":return"활성";case"INACTIVE":return"비활성";case"REGISTERING":return"등록 진행중";case"WITHDRAWING":return"탈퇴 진행중"}}function m(){y.saveRoleAdmin||(y.user=i.user),o.close("cancel")}function g(e){o.close(e)}function f(e){y.noSetAdmin?t.onError(e.data.description):(s.setAdmin({userId:y.user.id,flag:b}),t.onError(e.data.description))}function h(){i.type&&"detailView"==i.type?s.setAdmin({userId:y.user.id,flag:!y.flagOfAdmin},function(){y.flagOfAdmin=!y.flagOfAdmin,y.saveRoleAdmin=!0},f):b!=y.flagOfAdmin?s.setAdmin({userId:y.user.id,flag:y.flagOfAdmin},function(){y.noSetAdmin=!1,v()},f):v()}function v(){(y.modifyMainPhone||y.flagOfRegister)&&(y.user.mainPhone="3"==y.mainPhone.length?y.mainPhone[0]+"-"+y.mainPhone[1]+"-"+y.mainPhone[2]:null),(y.modifyCellPhone||y.flagOfRegister)&&(y.user.cellPhone="3"==y.cellPhone.length?y.cellPhone[0]+"-"+y.cellPhone[1]+"-"+y.cellPhone[2]:null),(y.modifyEmail||y.flagOfRegister)&&(y.user.email=y.email),y.user.state=y.user.active?"ACTIVE":"INACTIVE",i.user?s.updateForAdmin(y.user,g,f):s.saveForAdmin(y.user,function(){g("create")},f)}function A(e,t){y.cellPhoneLength=[],y.mainPhoneLength=[],y.lengthChecked=!1,t.forEach(function(t){"cellPhone"==e?t&&y.cellPhoneLength.push(t):"mainPhone"==e&&t&&y.mainPhoneLength.push(t)}),1!=y.cellPhoneLength.length&&2!=y.cellPhoneLength.length||(y.lengthChecked=!0),1!=y.mainPhoneLength.length&&2!=y.mainPhoneLength.length||(y.lengthChecked=!0)}var y=this;if(y.authorities=["ROLE_USER_VIEW","ROLE_ADMIN"],y.clear=m,y.languages=null,y.save=v,y.displayActivated=d,y.findRolesByOrgType=u,y.setAdmin=h,y.user={},y.mainPhone=[],y.cellPhone=[],y.flagOfOrg=!1,y.modifyEmail=!1,y.isAdmin=i.isAdmin,y.roles=i.roles,y.orgs=y.isAdmin?l.query():[],y.flagOfRegister=!0,y.districtNums=e.districtNums,y.cellIdentifyingNums=e.cellIdentifyingNums,i.user){y.user=angular.copy(i.user),y.user.active="ACTIVE"==i.user.state,y.flagOfOrg=!0,y.flagOfRegister=!1,y.orgs.push(y.user.organization);var b=i.user.authorities.indexOf("ROLE_ADMIN")>-1;y.flagOfAdmin=angular.copy(b)}else i.refOrg&&(y.user.organization=i.refOrg,y.orgs.push(y.user.organization),y.flagOfOrg=!0);y.emailTooltip=!1,y.mode=y.flagOfRegister?"register":"edit",p.getAll().then(function(e){y.languages=e}),y.noSetAdmin=!0,y.lengthCheck=A}angular.module("portalApplicationApp").controller("AdminUserDialogController",e),e.$inject=["CommonConstants","CommonUtil","$state","$stateParams","$uibModalInstance","selections","Principal","Org","User","Role","JhiLanguageService"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(){t.dismiss("cancel")}function s(e){t.close(e)}function c(t){e.onError(t.data.description)}function p(e){u.app.id?a.update(u.app,s,c):a.create(u.app,s,c)}n||(n={version:1});var u=this;u.authorities=["ROLE_APP_CREATE"],u.app=n,u.clear=l,u.languages=null,u.save=p,u.requiredAuths=["NONE","API_KEY","OAUTH1","OAUTH2"],o.getAll().then(function(e){u.languages=e})}angular.module("portalApplicationApp").controller("AppDialogController",e),e.$inject=["CommonUtil","$uibModalInstance","selectApp","Apps","JhiLanguageService","apiPlans","$timeout"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d){function m(e){var t={message:"승인받지 못한 수정사항을<br/>원래 정보로 롤백하시겠습니까?<br/><br/>'예'를 선택하여 롤백하면,<br/>[상세보기]창(앱 이름클릭)에서<br/>변경요청내용이 삭제됩니다.<br/>------------------------------------------------<br/>다시 수정하여 승인을 재요청하시려면<br/>'아니오'를 누르십시오.",title:"롤백 확인",button:{text1:"예",text2:"아니오"},callback:function(t){t&&c.deleteLatestHistory({id:e.id},ye,be)}};d.modalTwo(t)}function g(e){r.active=e}function f(e){return e.key.indexOf("RESERVED")<0}function h(e){return[!!e.apiPlan,e.api.termsOfUse&&!!e.consentTerm,e.api.organization.name+e.api.name]}function v(e,t){Oe.condition.sort=d.sorting(Oe.condition.sort,e,t),Oe.condition.page=0,Oe.currentPage=1,B()}function A(){Oe.needWhiteList=!1,Oe.apiList.some(function(e){return e.api.needWhiteList&&(Oe.needWhiteList=!0),Oe.needWhiteList})}function y(e){e.openDeployStatus?e.openDeployStatus=!1:(e.openDeployStatus=!0,c.deployFailList({id:e.id}).$promise.then(function(t){e.deployFailOrgs=t}).catch(function(e){d.onError(e.data.description)}))}function b(e){if("DELETE_FAIL"==e.status){c.delete({id:e.id},Oe.loadAll,be);var t=function(e){B()};d.onError("삭제를 다시 시도합니다.<br/>결과는 잠시 후 새로고침으로 확인하십시오.","","redeploy",t,"삭제 재처리")}else c.redeploy({id:e.id},P,be)}function P(){var e=function(e){s.reload()};d.onError("재처리를 시도합니다.<br/>결과는 잠시 후 새로고침으로 확인하십시오.","","redeploy",e,"재처리")}function w(e,t){var n="";return 1==t?(Oe.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(Oe.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function C(){var e=!1;return Oe.apiList&&0!=Oe.apiList.length?Oe.apiList.some(function(t){return(t.api.termsOfUse&&!t.consentTerm||!t.apiPlan)&&(e=!0),e}):e=!0,e}function O(){Oe.searchApi=Oe.searchApi.organization?Oe.searchApi:{}}function I(e,t){var n=function(n){n&&c.changeStatus({appId:e.id,toStatus:t},Oe.loadAll,function(e){d.onError(e.data.description)})},a="",o="";"suspend"==t?(a="[ "+e.name+" ] <br/><br/>사용중인 APP 서비스를<br/>일시중지 하시겠습니까?",o="서비스 일시중지"):(a="[ "+e.name+" ] <br/><br/>사용 중지된 APP 서비스를<br/>재시작 하시겠습니까?",o="서비스 재시작"),d.onError(a,"","changeStatus",n,o)}function E(){Oe.isOpen=!1,Oe.popOpen=!1}function T(){return Oe.password&&""!=Oe.password.trim()?void c.getSecret({id:Oe.appDetail.id,password:Oe.password},function(e){Oe.secret=e.secret,Oe.password=null,Oe.initSecret=!1},be):(Oe.tooltipIsOpen=!0,void $("#password").focus())}function L(){c.regenSecret({id:Oe.appDetail.id},function(e){Oe.secret=e.secret},be)}function k(){Oe.isOpen=!0,Oe.initSecret=!0,Oe.password=""}function S(){c.genkey({id:Oe.appDetail.id},function(e){Oe.appDetail.appKey=e.appKey})}function U(){Oe.appDetail.whiteList?Oe.whiteList=Oe.appDetail.whiteList.split("|"):Oe.whiteList=[]}function D(){Oe.needWhiteList?Oe.appDetail.whiteList=Oe.whiteList.length?Oe.whiteList.join("|").trim():null:Oe.appDetail.whiteList=null}function z(){if(""!=Oe.whiteIp){if(4!=Oe.whiteIp.split(".").filter(function(e){return e==Number(e).toString()&&Number(e)<256}).length)return d.onError("입력하신 IP의 형식이 올바르지 않습니다."),!1;if($.inArray(Oe.whiteIp,Oe.whiteList)>-1)return d.onError("IP 주소를 중복 입력하셨습니다."),!1;Oe.whiteList.push(Oe.whiteIp),Oe.whiteIp=""}}function R(e){Oe.whiteList.splice(e,1)}function x(){Oe.selectedScopes=[],t.scopeTypes().$promise.then(function(e){Oe.scopes=e,Oe.scopes.forEach(function(e){e.checked=!1,e.isDisabled=!1,e.usableScope=!0}),Oe.appScopes.length>0&&Oe.appScopes.forEach(function(e){e.checked=!1,e.isDisabled=!1,Oe.scopes.some(function(t){return e.scope==t.scope&&(e.isDisabled=!0,t.isDisabled=!0,t.usableScope=!0,Oe.selectedScopes.push(t)),e.scope==t.scope}),e.isDisabled||Oe.selectedScopes.push(e)}),Oe.isScopeOpen=!1})}function N(e){Oe.scopes.filter(function(e){return!e.isDisabled}).forEach(function(t){t.checked=e})}function M(){Oe.scopes.filter(function(e){return 1==e.checked&&!e.isDisabled}).forEach(function(e){Oe.selectedScopes.push(e),e.isDisabled=!0}),Oe.isScopeOpen=!1}function F(t){if(1==Oe.selectedScopes.length)Oe.tooltipIsOpen=!0,e(function(){Oe.tooltipIsOpen=!1},500);else if(t.usableScope)G(t);else{var n="해당 항목은 현재 SCOPE관리 대상에서 제외되어 있습니다. 삭제하실 경우 재선택할 수 없습니다. 그래도",a=function(e){e&&G(t)};d.deleteModal(n,a)}}function G(e){Oe.selectedScopes.splice(Oe.selectedScopes.indexOf(e),1),e.checked=!1,Oe.allSelect=!1,e.isDisabled=!1}function j(){Oe.depart=null,Oe.depart2=null,Oe.searchApi2=null,Oe.searchApi3=null,Oe.searchApi=null,Oe.searchGroup=null}function _(e){d.underLoading("underLoading",{top:"72px",left:"-1px",width:"100.2%",height:"92%"},"50%"),Oe.showDetail=!0,j(),c.search({id:e.id},function(e){Oe.appDetail=e,Oe.appDetail.oAuthScope?Oe.appDetail.oAuthScope.split(" ").forEach(function(e){Oe.appScopes.push({scope:e})}):Oe.appScopes=[],Oe.apiList=Oe.appDetail.appApiMappings,Oe.apiList.length>0&&Oe.apiList.forEach(function(e){e.consentTerm=!0,e.isOpen=!1}),d.completeLoading(),Oe.apiLoad(),Oe.scopesLoad(),U()})}function q(e){e.usablePlan=!1,e.api.applicablePlans.some(function(t){return e.apiPlan&&e.apiPlan.id==t.id&&(e.usablePlan=!0),e.apiPlan&&e.apiPlan.id==t.id})}function V(){Oe.currentPage=1,Oe.condition={appName:Oe.appName,status:Oe.status?Oe.status:null,size:Oe.stateParams.size,page:0,sort:Oe.condition.sort},B()}function B(e){Oe.showDetail=!1,Oe.serverIp=[],Oe.appScopes=[],e>=0&&(Oe.condition.page=e,Oe.currentPage=e+1),"appManage"==Oe.state.current.name?c.orgList(Oe.condition,function(e,t){Oe.apps=e,Oe.totalItems=t("x-total-count")}):c.myList(Oe.condition,function(e,t){Oe.apps=e,Oe.totalItems=t("x-total-count")})}function W(e){return!Oe.group.isPrivate||e.isPrivate}function Y(){Oe.condition.page=Oe.currentPage-1,B()}function H(e){l.open({templateUrl:"app/app-management/app-manage/app-dialog.html",controller:"AppDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectApp:e}}).result.then(function(e){Oe.alerts.push({type:"success",message:"앱("+e.name+")이 추가되었습니다."}),Oe.loadAll(0)})}function K(e,t){var n=e.name+" 앱을";l.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:n,type:t}}}}).result.then(function(t){if(t){c.delete({id:e.id},function(){Oe.loadAll()},be);var n=function(e){B()};d.onError("결과는 잠시 후 새로고침으로 확인하십시오.<br/>[삭제 처리 실패]가 발생했을 경우,<br/>재처리를 시도하십시오.","","redeploy",n,"삭제안내")}})}function J(e){c.search({id:e.id},function(e){l.open({templateUrl:"app/app-management/app-manage/app-view.html",controller:"AppViewController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectApp:e}}).result.then(function(e){Oe.loadAll()})})}function X(){o.dismissAll()}function Z(){Oe.currentPageOfAvailableApis=1,Oe.conditionForAvailableApis={orgId:Oe.searchApi&&Oe.searchApi.organization?Oe.searchApi.organization.id:null,apiName:Oe.searchApi?Oe.searchApi.name:null,size:Oe.sizeForAvailableApis,page:0,sort:Oe.sortForAvailableApis},ne()}function Q(){Oe.conditionForAvailableApis.page=Oe.currentPageOfAvailableApis-1,ne()}function ee(){Oe.currentPageOfAvailableGroups=1,Oe.conditionForAvailableGroups={orgId:Oe.searchGroup&&Oe.searchGroup.organization?Oe.searchGroup.organization.id:null,apiGroupName:Oe.searchGroup&&Oe.searchGroup.name?Oe.searchGroup.name:null,size:Oe.sizeForAvailableGroups,page:0,sort:Oe.sortForAvailableGroups},ae()}function te(){Oe.conditionForAvailableGroups.page=Oe.currentPageOfAvailableGroups-1,ae()}function ne(){d.underLoading("underLoading",{top:"72px",left:"-1px",width:"100.2%",height:"92%"},"50%"),Oe.apiUnit=!0,c.apiList(Oe.conditionForAvailableApis,function(e,t){Oe.availableList=e,Oe.availableList.forEach(function(e,t){e.currentSelected=!1,Oe.apiList&&Oe.apiList.some(function(t){return t.api.id==e.id&&(e.currentSelected=!0),t.api.id==e.id})}),Oe.totalAvailableApis=t("x-total-count"),d.completeLoading()}),Oe.orgIdListSet=Oe.apiList,Oe.apiListSet=Oe.apiList,de("origin",!1,Oe.groupIds),de("new",!1,Oe.groupIds2),me("origin",!1,Oe.groupIds),me("new",!1,Oe.groupIds2)}function ae(){d.underLoading("underLoading",{top:"72px",left:"-1px",width:"100.2%",height:"92%"},"50%"),Oe.apiUnit=!1,c.apigroups(Oe.conditionForAvailableGroups,function(e,t){Oe.availableList=e,Oe.totalAvailableGroups=t("x-total-count"),d.completeLoading()})}function oe(e){return!Oe.searchApi||e.name.indexOf(Oe.searchApi)>=0}function ie(e,t){var n=t.apis;Oe.apiList&&Oe.apiList.forEach(function(e,t){n=n.filter(function(t){return e.api.id!=t.id})});var a={message:"선택하신 그룹의 API 중에서<br/>신규추가될 API는 "+n.length+"개<br/>이미추가된 API는 "+(t.apis.length-n.length)+"개<br/><br/>확인을 누르면 신규API가 테이블상단에 추가됩니다.",title:"선택 확인",button:{text1:"확인",text2:"취소"},callback:function(a){a&&n.forEach(function(n,a){"RUNNING"==n.status&&re(e,n,t)}),Oe.apiListInit=Oe.apiList.filter(function(e){return!e.groupId}),Oe.apiListInit2=Oe.apiList.filter(function(e){return!!e.groupId})}};Oe.newApiList2=n,d.modalTwo(a)}function re(e,t,n){t.currentSelected||(Oe.selectedApi=t,n?Oe.selectedGroupApi=n.id:t.currentSelected=!0,le())}function le(){Oe.apiList.unshift({api:Oe.selectedApi,groupId:Oe.selectedGroupApi,apiPlan:1==Oe.selectedApi.applicablePlans.length?Oe.selectedApi.applicablePlans[0]:null}),Oe.showPlan=!1,Oe.selectedApi=[],Oe.newApiList3=Oe.apiList,me("new",!1,Oe.groupIds2)}function se(e){return!!e.id}function ce(e){return!(!e.groupId&&e.id)}function pe(e){return null==Oe.depart||Oe.depart.name==e.api.organization.name}function ue(e){return null==Oe.depart2||Oe.depart2.name==e.api.organization.name}function de(e,t,n){switch(e){case"origin":Oe.orgIdList=Oe.apiList.filter(function(e){return!e.groupId&&e.consentTerm}).map(function(e){return e.id});break;case"new":Oe.orgIdList2=Oe.apiList.filter(function(e){return!(!e.groupId&&e.id)&&e.consentTerm}).map(function(e){return e.id})}}function me(e,t,n){switch(e){case"origin":Oe.orgIdListInit=Oe.apiList.filter(function(e){return!(e.groupId||!e.id)&&e}).map(function(e){return e.id});break;case"new":Oe.orgIdListInit2=Oe.apiList.filter(function(e){return!(!e.groupId&&e.id)&&e}).map(function(e){return e.id})}}function ge(e){return!e.filter(function(e){return!e.consentTerm}).length}function fe(e){switch(e){case"origin":he(Oe.apiList,Oe.isOrgAllChecked,Oe.groupIds),de("origin",!1,Oe.groupIds);break;case"new":he(Oe.apiList,Oe.isNewAllChecked,Oe.groupIds2),de("new",!1,Oe.groupIds2)}}function he(e,t,n){e.filter(function(e){return n(e)}).forEach(function(e){e.consentTerm=t})}function ve(e,t){Oe.apiList.splice(Oe.apiList.indexOf(t),1),Oe.apiUnit&&Oe.availableList.some(function(e){return t.api.id==e.id&&(e.currentSelected=!1),t.api.id==e.id}),de("origin",!1,Oe.groupIds),me("origin",!1,Oe.groupIds),me("new",!1,Oe.groupIds2)}function Ae(){Oe.apiList.forEach(function(e){e.api.termsOfUse&&(e.api.termsOfUse.attachFileList=null),e.api.attachFileList=null,e.api.specFile=null}),Oe.appDetail.appApiMappings=Oe.apiList,Oe.appDetail.oAuthCallbackUrl="",""==Oe.appDetail.oAuthScope;Oe.appDetail.status;D(),c.update(Oe.appDetail,ye,be)}function ye(){Oe.showDetail=!1,Oe.serverIp=[],Oe.loadAll()}function be(e){Oe.isOpen=!1,Oe.popOpen=!1,d.onError(e.data.description)}function Pe(e){c.search({id:e.id},function(t){e=t,l.open({templateUrl:"app/services/common/request-approval.html",controller:"ReqApprovalController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selection:{data:e,type:"app"}}}).result.then(function(e){Oe.alerts.push({type:"success",message:e.description}),Oe.loadAll()})})}function we(e){e.termsOfUse&&p.getTermsContent({id:e.termsOfUse.id}).$promise.then(function(e){l.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}})})}function $e(){Oe.isTermsOpen=!1}function Ce(e){Oe.alerts.splice(e,1)}var Oe=this;Oe.state=s,Oe.stateParams=i,Oe.dialogApp=H,Oe.delApp=K,Oe.viewApp=J,Oe.clear=X,Oe.authorities=["ROLE_APP_VIEW"],Oe.appStatus=t.appStatusTypes(),Oe.statusFiltering=f,Oe.pageChanged=Y,Oe.sorting=v,Oe.searching=V,Oe.showDetail=!1,Oe.show=_,Oe.genkey=S,Oe.getWhiteList=U,Oe.setWhiteList=D,Oe.addWhiteList=z,Oe.delWhiteList=R,Oe.filterApi=oe,Oe.save=Ae,Oe.requestApproval=Pe,Oe.isOpen=!1,Oe.getSecret=T,Oe.regenSecret=L,Oe.clickSecretButton=k,Oe.initSecret=!1,Oe.completeSecret=E,Oe.changeStatus=I,Oe.checkApiPlan=q,Oe.closeTerm=$e,Oe.showTermsContent=we,Oe.termContent="약관을 선택해주세요.",Oe.activeTabIndex=0,Oe.checkSearch=O,Oe.checkInvalidApi=C,Oe.scopesLoad=x,Oe.applicationScopes=M,Oe.checkAll=N,Oe.deleteScope=F,Oe.filter=w,Oe.apiListOrderBy=h,Oe.redeploy=b,Oe.getDeployFailList=y,Oe.checkNeedWhiteList=A,Oe.gotoTab=g,Oe.apiFilter=W,Oe.group={},Oe.groupIds=se,Oe.groupIds2=ce,Oe.selectFilter=pe,Oe.selectFilter2=ue,Oe.rollback=m,Oe.providers=n.providers(),Oe.alerts=[],Oe.serverIp=[],Oe.closeAlert=Ce,Oe.whiteList=[],Oe.isOrgAllChecked=!0,Oe.isNewAllChecked=!1,Oe.orgIdList=[],Oe.orgIdListSet2=[],Oe.orgIdList2=[],Oe.getSizeChecked=de,Oe.getSizeChecked2=me,Oe.condition={appName:Oe.appName,status:Oe.status?Oe.status:null,size:Oe.stateParams.size,page:Oe.stateParams.page,sort:Oe.stateParams.sort},Oe.loadAll=B,Oe.loadAll(),Oe.appDeployStatus={templateUrl:"app/layouts/popover-template/app-deploystatus-popover.html"},Oe.secretPopover={templateUrl:"app/layouts/popover-template/secret-popover.html"},Oe.apiplanPopover={templateUrl:"app/layouts/popover-template/app-apiplan-popover.html"},Oe.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"},Oe.scopePopover={templateUrl:"app/layouts/popover-template/app-scope-popover.html"},a.hasAuthority("ROLE_APP_MODIFY").then(function(e){e&&(Oe.appModifyAuthority=!0)}),Oe.needWhiteList=!1,Oe.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],Oe.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],Oe.removeApi=ve,Oe.apiLoad=ne,Oe.apiGroupsLoad=ae,Oe.selectApi=re,Oe.selectGroupApi=ie,Oe.showPlan=!1,Oe.sizeForAvailableApis=20,Oe.pageForAvailableApis=0,Oe.sortForAvailableApis="name,asc",Oe.searchingForAvailableApis=Z,Oe.pageChangedForAvailableApis=Q,Oe.sizeForAvailableGroups=20,Oe.pageForAvailableGroups=0,Oe.sortForAvailableGroups="name,asc",Oe.searchingForAvailableGroups=ee,Oe.pageChangedForAvailableGroups=te,Oe.conditionForAvailableApis={orgId:Oe.searchApi&&Oe.searchApi.organization?Oe.searchApi.organization.id:null,apiName:Oe.searchApi?Oe.searchApi.name:null,size:Oe.sizeForAvailableApis,page:Oe.pageForAvailableApis,sort:Oe.sortForAvailableApis},Oe.conditionForAvailableGroups={orgId:Oe.searchGroup&&Oe.searchGroup.organization?Oe.searchGroup.organization.id:null,apiGroupName:Oe.searchGroup&&Oe.searchGroup.name?Oe.searchGroup.name:null,size:Oe.sizeForAvailableGroups,page:Oe.pageForAvailableGroups,sort:Oe.sortForAvailableGroups},Oe.filteringCheckSize=function(e,t){switch(e){case"origin":Oe.resultSizeOfOrgs=t.length,Oe.isOrgAllChecked=ge(t);break;case"new":Oe.resultSizeOfOrgs2=t.length,Oe.isNewAllChecked=ge(t)}},Oe.checkingAllCheckBox=function(e){switch(e){case"origin":fe("origin");break;case"new":fe("new")}},Oe.checkingOneCheckBox=function(e){switch(e){case"origin":Oe.isOrgAllChecked=!1,de("origin",!1,se);break;case"new":Oe.isNewAllChecked=!1,de("new",!1,ce)}}}angular.module("portalApplicationApp").controller("AppManageController",e),e.$inject=["$timeout","Code","Organization","Principal","$uibModalStack","$stateParams","$scope","$uibModal","$state","Apps","Api","ApiGroup","CommonUtil"]}(),function(){"use strict";function e(e){e.state("appManage",{parent:"appManagement",url:"/apps/organization?size&page&sort",data:{authorities:["ROLE_APP_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/app-management/app-manage/app-manage.html",controller:"AppManageController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("app-management"),t.addPart("approval"),t.addPart("api"),e.refresh()}]}}).state("appMine",{parent:"appManagement",url:"/apps/mine?size&page&sort",data:{authorities:["ROLE_APP_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/app-management/app-manage/app-manage.html",controller:"AppManageController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("app-management"),t.addPart("approval"),t.addPart("api"),e.refresh()}]}}).state("appOrg",{parent:"appManagement",url:"/app-org",data:{authorities:["ROLE_APP_CREATE"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/app-management/app-manage/app-manage.html",controller:"AppManageController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("app-management"),t.addPart("approval"),t.addPart("api"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(e,t){var n="";return 1==t?(w.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(w.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function d(e){e.tooltipOpen?e.tooltipOpen=!1:(w.apiList.forEach(function(e){e.api.tooltipOpen=!1}),s.getAttachFiles({apiId:e.id}).$promise.then(function(t){w.selectedApi=t,e.tooltipOpen=!0}))}function m(e){w.existingScope=!1,w.scopes.some(function(t){return t.scope==e.scope&&(w.existingScope=!0,e.name=t.name),t.scope==e.scope})}function g(e){e.fromInfos=e.from?e.from.split(" | "):null,e.toInfos=e.to?e.to.split(" | "):null}function f(){w.isOpen=!1,w.popOpen=!1}function h(){w.isOpen=!0,w.initSecret=!0,w.password=""}function v(){return w.password&&""!=w.password.trim()?void l.getSecret({id:w.appDetail.id,password:w.password},function(e){w.secret=e.secret,w.password=null,w.initSecret=!1},y):(w.tooltipIsOpen=!0,void $("#password").focus())}function A(){n.dismiss("cancel")}function y(e){w.popOpen=!1,p.onError(e.data.description)}function b(e){e.termsOfUse&&s.getTermsContent({id:e.termsOfUse.id}).$promise.then(function(e){a.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){})})}function P(){w.isTermsOpen=!1}o||(o={version:1});var w=this;w.state=r,w.authorities=["ROLE_APP_VIEW"],w.appDetail=o,w.apiList=w.appDetail.appApiMappings,w.clear=A,w.closeTerm=P,w.showTermsContent=b,w.clickSecretButton=h,w.completeSecret=f,w.getSecret=v,w.splitContents=g,w.parsingScopeValue=m,w.tooltipControl=d,w.fileDown=p.fileDown,w.fileSize=p.fileSize,w.filter=u,w.apiAttachFileListPopover={templateUrl:"app/layouts/popover-template/api-attachfilelist-popover.html"},w.apiplanPopover={templateUrl:"app/layouts/popover-template/apiplan-popover.html"},w.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],w.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],l.changeSet({id:w.appDetail.id}).$promise.then(function(e){w.changeSets=e.changeSets}),e.hasAuthority("ROLE_ADMIN").then(function(e){e&&(w.isAdmin=!0)}),w.isManagerOrUser=e.hasAnyAuthority(["ROLE_MANAGER","ROLE_USER"]),w.whiteList=w.appDetail.whiteList?w.appDetail.whiteList.split("|"):[],w.scopes=t.scopeTypes(),w.appScopes=[],w.appDetail.oAuthScope&&w.appDetail.oAuthScope.split(" ").forEach(function(e){w.appScopes.push({scope:e})}),w.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"},w.secretPopover={templateUrl:"app/layouts/popover-template/secret-popover.html"}}angular.module("portalApplicationApp").controller("AppViewController",e),e.$inject=["Principal","Code","$uibModalInstance","$uibModal","selectApp","$scope","$state","Apps","Api","ApiGroup","CommonUtil"]}(),function(){"use strict";function e(){return{scope:!0,restrict:"EAC",controller:t}}function t(e){e.tabs={index:0,count:0},this.headIndex=0,this.bodyIndex=0,this.getTabHeadIndex=function(){return e.tabs.count=++this.headIndex},this.getTabBodyIndex=function(){return++this.bodyIndex}}function n(){return{scope:!1,restrict:"EAC",require:"^ngTabs",link:function(e,t,n,a){var o=a.getTabHeadIndex(),i=n.ngTabHead,r=/[-*\/%^=!<>&|]/.test(i)?e.$eval(i):!!i;e.tabs.index=e.tabs.index||(r?o:null),t.bind("click",function(){e.tabs.index=o,e.$$phase||e.$apply()}),e.$watch("tabs.index",function(){t.toggleClass("active",e.tabs.index===o)})}}}function a(){return{scope:!1,restrict:"EAC",require:"^ngTabs",link:function(e,t,n,a){var o=a.getTabBodyIndex();e.$watch("tabs.index",function(){t.toggle(e.tabs.index===o)})}}}angular.module("portalApplicationApp").directive("ngTabs",e),t.$inject=["$scope"],angular.module("portalApplicationApp").directive("ngTabHead",n),angular.module("portalApplicationApp").directive("ngTabBody",a)}(),function(){"use strict";function e(e){e.showAsToast(!1)}angular.module("portalApplicationApp").config(e),e.$inject=["AlertServiceProvider"]}(),function(){"use strict";function e(e,t){e.debugInfoEnabled(t)}angular.module("portalApplicationApp").config(e),e.$inject=["$compileProvider","DEBUG_INFO_ENABLED"]}(),function(){"use strict";function e(e,t,n,a){n.setMatchlist([/.*api.*/,/.*protected.*/],!0),e.otherwise("/"),t.interceptors.push("errorHandlerInterceptor"),t.interceptors.push("authExpiredInterceptor"),t.interceptors.push("notificationInterceptor"),a.type("boolean",{name:"boolean",decode:function(e){return e===!0||"true"===e},encode:function(e){return e?1:0},equals:function(e,t){return this.is(e)&&e===t},is:function(e){return[!0,!1,0,1].indexOf(e)>=0},pattern:/bool|true|0|1/})}angular.module("portalApplicationApp").config(e),e.$inject=["$urlRouterProvider","$httpProvider","httpRequestInterceptorCacheBusterProvider","$urlMatcherFactoryProvider"]}(),function(){"use strict";function e(e,t){e.setKeyPrefix("jhi-"),t.setKeyPrefix("jhi-")}angular.module("portalApplicationApp").config(e),e.$inject=["$localStorageProvider","$sessionStorageProvider"]}(),function(){"use strict";function e(e,t,n){function a(a){return n.indexOf(e.getObject(a))===-1&&(t.info('Resetting invalid cookie language "'+e.getObject(a)+'" to prefered language "ko"'),e.putObject(a,"ko")),e.getObject(a)}function o(t,n){e.putObject(t,n)}return{get:a,put:o}}angular.module("portalApplicationApp").factory("translationStorageProvider",e),e.$inject=["$cookies","$log","LANGUAGES"]}(),function(){"use strict";function e(e,t){e.useLoader("$translatePartialLoader",{urlTemplate:"i18n/{lang}/{part}.json"}),e.preferredLanguage("ko"),e.useStorage("translationStorageProvider"),e.useSanitizeValueStrategy("escaped"),e.addInterpolation("$translateMessageFormatInterpolation"),t.localeLocationPattern("i18n/angular-locale_{{locale}}.js"),t.useCookieStorage(),t.storageKey("NG_TRANSLATE_LANG_KEY")}angular.module("portalApplicationApp").config(e),e.$inject=["$translateProvider","tmhDynamicLocaleProvider"]}(),function(){"use strict";function e(e,t){e.itemsPerPage=t.itemsPerPage,e.previousText="«",e.nextText="»"}angular.module("portalApplicationApp").config(e),e.$inject=["uibPagerConfig","paginationConstants"]}(),function(){"use strict";function e(e,t){e.itemsPerPage=t.itemsPerPage,
e.maxSize=10,e.boundaryLinks=!0,e.firstText="«",e.previousText="‹",e.nextText="›",e.lastText="»"}angular.module("portalApplicationApp").config(e),e.$inject=["uibPaginationConfig","paginationConstants"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c){function p(){e.VERSION=c;var t=e.$on("$stateChangeStart",function(t,n,i,c){e.toState=n,e.toStateParams=i,e.fromState=c,n.external&&(t.preventDefault(),r.open(n.url,"_self")),s.isIdentityResolved()&&l.authorize(),o.getCurrent().then(function(e){a.use(e)})}),n=e.$on("$stateChangeSuccess",function(e,t,n,a,o){var r="global.title";t.data.pageTitle&&(r=t.data.pageTitle),i.updateTitle(r)});e.$on("$destroy",function(){angular.isDefined(t)&&null!==t&&t(),angular.isDefined(n)&&null!==n&&n()})}return{initialize:p}}angular.module("portalApplicationApp").factory("stateHandler",e),e.$inject=["$rootScope","$state","$sessionStorage","$translate","JhiLanguageService","translationHandler","$window","Auth","Principal","VERSION"]}(),function(){"use strict";function e(e,t,n,a){function o(){var t=e.$on("$translateChangeSuccess",function(){i()});e.$on("$destroy",function(){angular.isDefined(t)&&null!==t&&t()})}function i(e){!e&&n.$current.data&&n.$current.data.pageTitle&&(e=n.$current.data.pageTitle),a(e||"global.title").then(function(e){t.document.title=e})}return{initialize:o,updateTitle:i}}angular.module("portalApplicationApp").factory("translationHandler",e),e.$inject=["$rootScope","$window","$state","$translate"]}(),function(){"use strict";function e(e,t,n){function a(e){if(403===e.status||401===e.status&&angular.isDefined(e.data.path)&&e.data.path.indexOf("/api/authentication")===-1){var a=n.get("Auth"),o=n.get("$state"),i=n.get("$uibModalStack"),r=n.get("CommonUtil");return a.logout(),o.go("login"),i.dismissAll(),r.onError("세션이 종료되었습니다.<br/>다시 로그인 하시기 바랍니다."),t.resolve(e)}return t.reject(e)}var o={responseError:a};return o}angular.module("portalApplicationApp").factory("authExpiredInterceptor",e),e.$inject=["$rootScope","$q","$injector"]}(),function(){"use strict";function e(e,t){function n(n){return 401===n.status&&(""===n.data||n.data.path&&0===n.data.path.indexOf("/api/account"))||t.$emit("portalApplicationApp.httpError",n),e.reject(n)}var a={responseError:n};return a}angular.module("portalApplicationApp").factory("errorHandlerInterceptor",e),e.$inject=["$q","$rootScope"]}(),function(){"use strict";function e(e,t){function n(e){var n=e.headers("X-portalApplicationApp-alert");return angular.isString(n)&&t.success(n,{param:e.headers("X-portalApplicationApp-params")}),e}var a={response:n};return a}angular.module("portalApplicationApp").factory("notificationInterceptor",e),e.$inject=["$q","AlertService"]}(),function(){"use strict";function e(e,t,n,a){function o(e,n,a){n=n?n:e,i.alerts.push(t.add({type:"danger",msg:n,params:a,timeout:5e3,toast:t.isToast(),scoped:!0},i.alerts))}var i=this;i.alerts=[];var r=n.$on("portalApplicationApp.httpError",function(e,t){var n;switch(e.stopPropagation(),t.status){case 0:o("Server not reachable","error.server.not.reachable");break;case 400:var i=t.headers("X-portalApplicationApp-error"),r=t.headers("X-portalApplicationApp-params");if(i){var l=a.instant("global.menu.entities."+r);o(i,i,{entityName:l})}else if(t.data&&t.data.fieldErrors)for(n=0;n<t.data.fieldErrors.length;n++){var s=t.data.fieldErrors[n],c=s.field.replace(/\[\d*\]/g,"[]"),p=a.instant("portalApplicationApp."+s.objectName+"."+c);o("Field "+p+" cannot be empty","error."+s.message,{fieldName:p})}else t.data&&t.data.message?o(t.data.message,t.data.message,t.data):o(t.data);break;case 404:o("Not found","error.url.not.found");break;default:o(t.data&&t.data.message?t.data.message:angular.toJson(t))}});e.$on("$destroy",function(){angular.isDefined(r)&&null!==r&&(r(),i.alerts=[])})}var t={template:'<div class="alerts" ng-cloak=""><div ng-repeat="alert in $ctrl.alerts" ng-class="[alert.position, {\'toast\': alert.toast}]"><uib-alert ng-cloak="" type="{{alert.type}}" close="alert.close($ctrl.alerts)"><pre>{{ alert.msg }}</pre></uib-alert></div></div>',controller:e};angular.module("portalApplicationApp").component("jhiAlertError",t),e.$inject=["$scope","AlertService","$rootScope","$translate"]}(),function(){"use strict";function e(e,t){var n=this;n.alerts=t.get(),e.$on("$destroy",function(){n.alerts=[]})}var t={template:'<div class="alerts" ng-cloak=""><div ng-repeat="alert in $ctrl.alerts" ng-class="[alert.position, {\'toast\': alert.toast}]"><uib-alert ng-cloak="" type="{{alert.type}}" close="alert.close($ctrl.alerts)"><pre ng-bind-html="alert.msg"></pre></uib-alert></div></div>',controller:e};angular.module("portalApplicationApp").component("jhiAlert",t),e.$inject=["$scope","AlertService"]}(),function(){"use strict";function e(){function e(e,t,n){function a(){return g}function o(){h=[]}function i(){return h}function r(e,t,n){return this.add({type:"success",msg:e,params:t,timeout:v,toast:g,position:n})}function l(e,t,n){return this.add({type:"danger",msg:e,params:t,timeout:v,toast:g,position:n})}function s(e,t,n){return this.add({type:"warning",msg:e,params:t,timeout:v,toast:g,position:n})}function c(e,t,n){return this.add({type:"info",msg:e,params:t,timeout:v,toast:g,position:n})}function p(e){var n={type:e.type,msg:t.trustAsHtml(e.msg),id:e.alertId,timeout:e.timeout,toast:e.toast,position:e.position?e.position:"top right",scoped:e.scoped,close:function(e){return d(this.id,e)}};return n.scoped||h.push(n),n}function u(t,a){t.alertId=f++,t.msg=n.instant(t.msg,t.params);var o=this,i=this.factory(t);return t.timeout&&t.timeout>0&&e(function(){o.closeAlert(t.alertId,a)},t.timeout),i}function d(e,t){var n=t?t:h;return m(n.map(function(e){return e.id}).indexOf(e),n)}function m(e,t){return t.splice(e,1)}var g=this.toast,f=0,h=[],v=5e3;return{factory:p,isToast:a,add:u,closeAlert:d,closeAlertByIndex:m,clear:o,get:i,success:r,error:l,info:c,warning:s}}this.toast=!1,this.$get=e,this.showAsToast=function(e){this.toast=e},e.$inject=["$timeout","$sce","$translate"]}angular.module("portalApplicationApp").provider("AlertService",e)}(),function(){"use strict";function e(){function e(e,t,n,o){o&&(o.$validators.maxbytes=function(e){return o.$isEmpty(e)||a(e)<=n.maxbytes})}function t(e,t){return t.indexOf(e,t.length-e.length)!==-1}function n(e){return t("==",e)?2:t("=",e)?1:0}function a(e){return e.length/4*3-n(e)}var o={restrict:"A",require:"?ngModel",link:e};return o}angular.module("portalApplicationApp").directive("maxbytes",e)}(),function(){"use strict";function e(){function e(e,t,n,o){o&&(o.$validators.minbytes=function(e){return o.$isEmpty(e)||a(e)>=n.minbytes})}function t(e,t){return t.indexOf(e,t.length-e.length)!==-1}function n(e){return t("==",e)?2:t("=",e)?1:0}function a(e){return e.length/4*3-n(e)}var o={restrict:"A",require:"?ngModel",link:e};return o}angular.module("portalApplicationApp").directive("minbytes",e)}(),function(){"use strict";angular.module("portalApplicationApp").constant("paginationConstants",{itemsPerPage:10,perPageOptions:[{val:10,display:"10개씩 보기"},{val:25,display:"25개씩 보기"},{val:50,display:"50개씩 보기"},{val:100,display:"100개씩 보기"}]})}(),function(){"use strict";function e(){function e(e,t,n,a){t.find(".form-group").each(function(){var t=angular.element(this),n=t.find("input[ng-model],textarea[ng-model],select[ng-model]");n.length>0&&n.each(function(){var n=angular.element(this),o=n.attr("name");e.$watch(function(){return a[o].$invalid&&a[o].$dirty},function(e){t.toggleClass("has-error",e)})})})}var t={restrict:"A",require:"form",link:e};return t}angular.module("portalApplicationApp").directive("showValidation",e)}(),function(){"use strict";angular.module("portalApplicationApp").constant("LANGUAGES",["ko","en"])}(),function(){"use strict";function e(e,t,n){function a(t){e.use(t),n.set(t)}var o=this;o.changeLanguage=a,o.languages=null,t.getAll().then(function(e){o.languages=e})}angular.module("portalApplicationApp").controller("JhiLanguageController",e),e.$inject=["$translate","JhiLanguageService","tmhDynamicLocale"]}(),function(){"use strict";function e(){function e(e){return{ca:"Català",cs:"Český",da:"Dansk",de:"Deutsch",el:"Ελληνικά",en:"English",es:"Español",fr:"Français",gl:"Galego",hu:"Magyar",hi:"हिंदी",it:"Italiano",ja:"日本語",ko:"한국어",mr:"मराठी",nl:"Nederlands",pl:"Polski","pt-br":"Português (Brasil)","pt-pt":"Português",ro:"Română",ru:"Русский",sk:"Slovenský",sv:"Svenska",ta:"தமிழ்",tr:"Türkçe","zh-cn":"中文（简体）","zh-tw":"繁體中文"}[e]}return e}angular.module("portalApplicationApp").filter("findLanguageFromKey",e)}(),function(){"use strict";function e(e,t,n,a){function o(){var t=e.defer();return t.resolve(a),t.promise}function i(){var t=e.defer(),a=n.storage().get("NG_TRANSLATE_LANG_KEY");return t.resolve(a),t.promise}var r={getAll:o,getCurrent:i};return r}angular.module("portalApplicationApp").factory("JhiLanguageService",e),e.$inject=["$q","$http","$translate","LANGUAGES"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(){return e.needSecondaryAuthUsers.indexOf(g.userId)>-1}function s(){g.credentials={userId:null,password:null,rememberMe:!0},g.authenticationError=!1}function c(e){e&&e.preventDefault(),""!==g.userId&&""!==g.password&&o.secondaryAuthenticateForLogin({userId:g.userId,password:g.password}).then(function(){window.localStorage.setItem("loginStatus","success"),g.authenticationError=!1,g.isSecondAuthRequested=!0,a(function(){$("div.login-wrap > div > input[id=authNumber]").focus()},500),m()}).catch(function(e){g.authNumber="",g.authenticationError=!0,g.isSecondAuthRequested=!1,e.data.message&&"User withdrawing"==e.data.message?g.authenticationErrorMessage="login.messages.error.withdrawing":e.data.message&&"User registering"==e.data.message?g.authenticationErrorMessage="login.messages.error.registering":(g.authenticationErrorMessage=e.data.description,"운영자가 아닙니다."==g.authenticationErrorMessage&&(g.forAdmin=!1))})}function p(e){e&&e.preventDefault(),""!==g.userId&&""!==g.password&&o.login({userId:g.userId,password:g.password,authNumber:g.authNumber,rememberMe:g.rememberMe}).then(function(){if(window.localStorage.setItem("loginStatus","success"),g.authenticationError=!1,t.$broadcast("authenticationSuccess"),o.getPreviousState()){var e=o.getPreviousState();o.resetPreviousState(),"register"==e.name||"requestReset"==e.name||"login"==e.name?n.go("home"):n.go(e.name,e.params)}else n.go("home")}).catch(function(e){g.authNumber="",g.authenticationError=!0,g.isSecondAuthRequested=!1,e.data.message&&"User withdrawing"==e.data.message?g.authenticationErrorMessage="login.messages.error.withdrawing":e.data.message&&"User registering"==e.data.message?g.authenticationErrorMessage="login.messages.error.registering":(g.authenticationErrorMessage="login.messages.error.authentication",g.authenticationErrorMessage=e.data.message)})}function u(){n.go("register")}function d(){n.go("requestReset")}function m(){g.msecPerMinute=18e4,g.msecPerSecond=1e3;var e=r(function(){g.msecPerMinute=g.msecPerMinute-g.msecPerSecond,g.msecPerMinute<=0&&(g.isSecondAuthRequested=!1,r.cancel(e)),g.authenticationError&&r.cancel(e),t.$on("$stateChangeSuccess",function(){r.cancel(e)})},1e3)}var g=this;g.cancel=s,g.secondaryAuthenticate=c,g.login=p,g.register=u,g.requestResetPassword=d,g.needSecondaryAuth=l,g.authenticationError=!1,g.isSecondAuthRequested=!1,g.credentials={},g.password=null,g.authNumber=null,g.rememberMe=!0,g.userId=null,a(function(){angular.element("#userId").focus()}),i.getProfileInfo().then(function(e){g.profileInfos=e})}angular.module("portalApplicationApp").controller("LoginController",e),e.$inject=["CommonConstants","$rootScope","$state","$timeout","Auth","ProfileService","$interval"]}(),function(){"use strict";function e(e){function t(){null===a&&(a=e.open({animation:!0,templateUrl:"app/components/login/login.html",controller:"LoginController",controllerAs:"vm",backdrop:"static",resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("login"),e.refresh()}]}}),a.result.then(o,o))}var n={open:t},a=null,o=function(){a=null};return n}angular.module("portalApplicationApp").factory("LoginService",e),e.$inject=["$uibModal"]}(),function(){"use strict";function e(e){e.state("login",{parent:"app",url:"/login",data:{authorities:[],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/components/login/login3.html",controller:"LoginController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("login"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a){function o(){t.close(!1)}function i(){t.close(!0)}var r=this;r.yes=i,r.clear=o,r.params=n,r.type=a,r.messages=n.message?n.message.split("<br/>"):[],0==a?(r.params.title=n.title?n.title:"알림",r.params.timeout&&e(function(){t.close(!1)},r.params.timeout)):1==a?(r.params.title=n.title?n.title:"알림",r.params.button={text:n.button?n.button.text:"닫기"}):(r.params.title=n.title?n.title:"삭제확인",r.params.button={text1:n.button&&n.button.text1?n.button.text1:"예",text2:n.button&&n.button.text2?n.button.text2:"아니오"})}angular.module("portalApplicationApp").controller("ModalController",e),e.$inject=["$timeout","$uibModalInstance","params","type"]}(),function(){"use strict";function e(){return{link:function(e,t,n){var a=e.$eval(n.onChangeFile);t.bind("change",a)}}}function t(e){return{scope:{ngEnter:"&"},link:function(t,n,a){var o=function(n){13===n.keyCode&&(t.ngEnter(),t.$apply(),n.preventDefault(),e.unbind("keydown keypress",o))};e.bind("keydown keypress",o)}}}function n(e,t,n,a){function o(e){$("#hiddenInputFile-"+e).click()}function i(e,t,a){var o=$("#hiddenInputFile-"+e).val().split("\\");$("#viewInputFile"+e).val(o[o.length-1]),""!=o[0]&&n(function(){a||t.push({data:null}),e<1e3?t[e].data=!0:t[e-1e3].data=!0})}function r(e,t,n,a){"edit"==n?a.attachFileList.splice(e,1):($("#hiddenInputFile-"+e).val(null),t.splice(e,1))}function l(){n(function(){$("html, body").scrollTop(0)})}function s(e,t,n,a){a=!1;var t=t||{},e=e||"uiViewContent",o=t.top||"76px",i=t.left||"0px",r=t.width||"100.1%",l=t.height||"94%",n=n||"40%",s=$('<div id = "loading" class="loading" style="top:'+o+"; left:"+i+"; width:"+r+"; height:"+l+'"><img id="loading_img" alt="loading" src="/img/portal/underloading.gif" style="top:'+n+'"/></div>').appendTo($("#"+e)).hide();s.show()}function c(){$("#loading").remove(),$("#loading_img").remove(),$("#loading_logo").remove()}function p(e,t,n,a){var o="sort-position glyphicon glyphicon-triangle-bottom",i="sort-position glyphicon glyphicon-triangle-top",r=n?n:t,l=null;return e.indexOf(t)>-1?(l=e.indexOf(",desc")>-1?"A":"N","A"==l?($("i#"+r).removeClass(o),$("i#"+r).addClass(i),e=t+",asc"):($("i#"+r).removeClass(i),$("i#"+r).addClass(o),$("i").removeClass("sort"),e=a||"id,desc")):($("i").removeClass("sort"),$("i#"+r).removeClass(i),$("i#"+r).addClass(o),$("i#"+r).addClass("sort"),e=t+",desc"),e}function u(e){var t,n,a,o=document.cookie.split(";");for(t=0;t<o.length;t++)if(n=o[t].substr(0,o[t].indexOf("=")),a=o[t].substr(o[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return decodeURI(a)}function d(e,t,n){if(n){var a=new Date;a.setDate(a.getDate()+n),window.localStorage.setItem(e+t,a.toGMTString())}else window.localStorage.setItem(e,t)}function m(e){return window.localStorage.getItem(e)}function g(e){window.localStorage.removeItem(e)}function f(e){var t=window.localStorage.getItem(e);d(t,"done",1),self.close()}function h(t,n){("success"==window.localStorage.getItem("loginStatus")||e.account)&&(window.location=(n?n:"/files/download/")+t.id)}function v(e){var t=0,n=function(e){return t=Math.floor(e/1024)};return 0==n(e.fileSize)?e.fileSize+"bytes":t<1024?t+"kb":n(t)+"mb"}function A(e){"string"==typeof e&&(e={message:e}),t.open({templateUrl:"app/components/modal/modal.html",controller:"ModalController",controllerAs:"vm",animation:!1,backdrop:"static",size:e.size?e.size:"sm",resolve:{params:e,type:0}}).result.then(function(t){e.callback&&e.callback(t)})}function y(e){"object"!=typeof e&&(e={message:e}),t.open({templateUrl:"app/components/modal/modal.html",controller:"ModalController",controllerAs:"vm",backdrop:"static",size:e.size?e.size:"sm",resolve:{params:e,type:1}}).result.then(function(t){e.callback&&e.callback(t)})}function b(e){t.open({templateUrl:"app/components/modal/modal.html",controller:"ModalController",controllerAs:"vm",backdrop:"static",size:e.size?e.size:"sm",resolve:{params:e,type:2}}).result.then(function(t){e.callback&&e.callback(t)})}function P(e,n,a,o,i){t.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:n?n:"sm",resolve:{items:function(){return{type:a?a:"error",message:e,title:i}}}}).result.then(function(e){o(e)})}function w(e,n){t.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:e,type:"delete"}}}}).result.then(function(e){n(e)})}function C(e,n){t.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:e,type:"unuse"}}}}).result.then(function(e){n(e)})}function O(e){e=String(e);var t=e.replace(/[^(\d.)]+/g,"");return t}function I(e){e=String(e);var t=e.replace(/(\d)(?=(?:\d{3})+(?!\d))/g,"$1,");return t}var E={underLoading:s,completeLoading:c,sorting:p,getCookie:u,getStorage:m,setStorage:d,removeStorage:g,fileDown:h,fileSize:v,closeDays:f,modalZero:A,modalOne:y,modalTwo:b,onError:P,deleteModal:w,unuseModal:C,commaSplit:O,commaBind:I,scrollTop:l,selectFile:o,addFileInput:i,delInput:r};return E}angular.module("portalApplicationApp").factory("CommonUtil",n).directive("onChangeFile",e).directive("ngEnter",t),e.$inject=[],t.$inject=["$document"],n.$inject=["$rootScope","$uibModal","$timeout","$document"]}(),function(){"use strict";function e(){function e(e){for(var t,a,o,i,r,l,s,c="",p=0;p<e.length;)t=e.charCodeAt(p++),a=e.charCodeAt(p++),o=e.charCodeAt(p++),i=t>>2,r=(3&t)<<4|a>>4,l=(15&a)<<2|o>>6,s=63&o,isNaN(a)?l=s=64:isNaN(o)&&(s=64),c=c+n.charAt(i)+n.charAt(r)+n.charAt(l)+n.charAt(s);return c}function t(e){var t,a,o,i,r,l,s,c="",p=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<e.length;)i=n.indexOf(e.charAt(p++)),r=n.indexOf(e.charAt(p++)),l=n.indexOf(e.charAt(p++)),s=n.indexOf(e.charAt(p++)),t=i<<2|r>>4,a=(15&r)<<4|l>>2,o=(3&l)<<6|s,c+=String.fromCharCode(t),64!==l&&(c+=String.fromCharCode(a)),64!==s&&(c+=String.fromCharCode(o));return c}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a={decode:t,encode:e};return a}angular.module("portalApplicationApp").factory("Base64",e)}(),function(){"use strict";function e(){function e(e){return null!==e&&(e=e.toLowerCase(),e=e.substring(0,1).toUpperCase()+e.substring(1)),e}return e}angular.module("portalApplicationApp").filter("capitalize",e)}(),function(){"use strict";function e(e){function t(e){return angular.isString(e)?e.length<30?e:e?e.substring(0,15)+"..."+e.slice(-10):"":""}function n(e){function t(e,t){return t.indexOf(e,t.length-e.length)!==-1}function n(e){return t("==",e)?2:t("=",e)?1:0}function a(e){return e.length/4*3-n(e)}function o(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" bytes"}return angular.isString(e)?o(a(e)):""}function a(t,n){e.open("data:"+t+";base64,"+n,"_blank","height=300,width=400")}function o(e,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){var n=e.target.result.substr(e.target.result.indexOf("base64,")+"base64,".length);t(n)}}var i={abbreviate:t,byteSize:n,openFile:a,toBase64:o};return i}angular.module("portalApplicationApp").factory("DataUtils",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){function t(e){return e?new Date(e):null}function n(e){if(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}return null}function a(t){return t?e("date")(t,"yyyy-MM-dd"):null}function o(){return"yyyy-MM-dd"}var i={convertDateTimeFromServer:t,convertLocalDateFromServer:n,convertLocalDateToServer:a,dateformat:o};return i}angular.module("portalApplicationApp").factory("DateUtils",e),e.$inject=["$filter"]}(),function(){"use strict";var e={template:'<div class="info">Showing {{(($ctrl.page - 1) * $ctrl.itemsPerPage) == 0 ? 1 : (($ctrl.page - 1) * $ctrl.itemsPerPage + 1)}} - {{($ctrl.page * $ctrl.itemsPerPage) < $ctrl.queryCount ? ($ctrl.page * $ctrl.itemsPerPage) : $ctrl.queryCount}} of {{$ctrl.queryCount}} items.</div>',bindings:{page:"<",queryCount:"<total",itemsPerPage:"<"}};angular.module("portalApplicationApp").component("jhiItemCount",e)}(),function(){"use strict";function e(){function e(e){var t=e.split(",");return!(t.length>1)||"asc"===e.split(",").slice(-1)[0]}function t(e){return parseInt(e)}function n(e){var t=e.split(",");return t.length>1&&t.pop(),t.join(",")}var a={parseAscending:e,parsePage:t,parsePredicate:n};return a}angular.module("portalApplicationApp").factory("PaginationUtil",e)}(),function(){"use strict";function e(){function e(e){if(0===e.length)throw new Error("input must not be of zero length");var t=e.split(","),n={};return angular.forEach(t,function(e){var t=e.split(">;");if(2!==t.length)throw new Error('section could not be split on ">;"');var a=t[0].replace(/<(.*)/,"$1").trim(),o={};a.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,a){o[t]=a});var i=o.page;angular.isString(i)&&(i=parseInt(i));var r=t[1].replace(/rel="(.*)"/,"$1").trim();n[r]=i}),n}var t={parse:e};return t}angular.module("portalApplicationApp").factory("ParseLinks",e)}(),function(){"use strict";function e(){function e(e,t,n,a){t.bind("click",function(){a.sort(n.jhSortBy)})}var t={restrict:"A",scope:!1,require:"^jhSort",link:e};return t}angular.module("portalApplicationApp").directive("jhSortBy",e)}(),function(){"use strict";function e(){var e={restrict:"A",scope:{predicate:"=jhSort",ascending:"=",callback:"&"},controller:t,controllerAs:"vm",bindToController:!0};return e}function t(e,t){function n(e){var t=e.find("span.glyphicon"),n="glyphicon-sort",a="glyphicon-sort-by-attributes",o="glyphicon-sort-by-attributes-alt",i=n+" "+o,l=a;r.ascending||(i=n+" "+a,l=o),r.resetClasses(),t.removeClass(i),t.addClass(l)}function a(){var e=t.find("span.glyphicon"),n="glyphicon-sort",a="glyphicon-sort-by-attributes",o="glyphicon-sort-by-attributes-alt";e.removeClass(a+" "+o),e.addClass(n)}function o(t){t!==r.predicate?r.ascending=!0:r.ascending=!r.ascending,r.predicate=t,e.$apply(),r.callback()}function i(e){r.resetClasses(),e&&"_score"!==e[0]&&r.applyClass(t.find("th[jh-sort-by='"+e[0]+"']"))}var r=this;r.applyClass=n,r.resetClasses=a,r.sort=o,r.triggerApply=i,e.$watchGroup(["vm.predicate","vm.ascending"],r.triggerApply),r.triggerApply()}angular.module("portalApplicationApp").directive("jhSort",e),t.$inject=["$scope","$element"]}(),function(){"use strict";function e(){function e(e,t,n){if(isNaN(t))return e;if(t<=0)return"";if(e&&e.length>t){if(e=e.substring(0,t),n)for(;" "===e.charAt(e.length-1);)e=e.substr(0,e.length-1);else{var a=e.lastIndexOf(" ");a!==-1&&(e=e.substr(0,a))}return e+"..."}return e}return e}angular.module("portalApplicationApp").filter("characters",e)}(),function(){"use strict";function e(){function e(e,t){if(isNaN(t))return e;if(t<=0)return"";if(e){var n=e.split(/\s+/);n.length>t&&(e=n.slice(0,t).join(" ")+"...")}return e}return e}angular.module("portalApplicationApp").filter("words",e)}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u){function d(){b.isAdmin?i.usersForAdmin({orgId:b.forum.owner.id}).$promise.then(function(e){e=e.filter(function(e){return"ACTIVE"==e.state}),b.forum.writableUsers.length>0?e.forEach(function(e,t){b.forum.writableUsers.some(function(t){return t.id==e.id&&(P=1),t.id==e.id}),0==P&&b.availableUsers.push(e),P=0}):b.availableUsers=e}):i.users().$promise.then(function(e){e=e.filter(function(e){return"ACTIVE"==e.state}),b.forum.writableUsers.length>0?e.forEach(function(e,t){b.forum.writableUsers.some(function(t){return t.id==e.id&&(P=1),t.id==e.id}),0==P&&b.availableUsers.push(e),P=0}):b.availableUsers=e})}function m(){if(b.availableUsers&&0!=b.availableUsers.length){var n="게시글 작성가능자 추가";t.open({templateUrl:"app/services/common/select-modal.html",controller:"selectModalController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{items:function(){return{data:{name:n,availableUsers:b.availableUsers},category:"orgAddUsers",type:"orgAddUsers"}}}}).result.then(function(e){"cancel"!=e&&g(e.orgUsers)})}else e.onError("현재 추가 가능한 사용자가 없습니다.")}function g(e){e.forEach(function(e,t){b.forum.writableUsers.push(e),b.availableUsers=b.availableUsers.filter(function(t){return t.id!=e.id})})}function f(e){b.forum.writableUsers.splice(b.forum.writableUsers.indexOf(e),1),"ACTIVE"==e.state&&b.availableUsers.push(e)}function h(){b.forum=b.flag?o.forum:{},u.dismiss("cancel")}function v(e){u.close(e)}function A(t){e.onError(t.data.description)}function y(){b.forum.owner||(b.forum.isAnonymousWritable=!b.forum.isAdminWritable),b.forum.api&&(b.forum.api.attachFileList=null,b.forum.api.specFile=null),b.flag?a.update(b.forum,v,A):a.create(b.forum,v,A)}var b=this;b.authorities=["ROLE_FORUM_CREATE"],b.clear=h,b.languages=null,b.save=y,b.addUsers=m,b.findAvailableUsers=d,b.removeWriter=f,b.forum={},b.flag=!1,b.flagOfOrg=!1,b.orgs=i.providers(),b.isAdmin=!!(n.account&&n.account.authorities.indexOf("ROLE_ADMIN")>-1)||o.isAdmin,o.forum?(b.forum=angular.copy(o.forum),b.flag=!0,b.flagOfOrg=!0,o.forum.owner?(o.forum.owner.id!=b.forum.owner.id?(b.availableUsers=[],b.forum.writableUsers=[]):(b.availableUsers=[],b.forum.writableUsers=angular.copy(o.forum.writableUsers)),d()):b.forum.isAdminWritable=!b.forum.isAnonymousWritable):o.refOrg,b.availableUsers=[];var P=0;p.getAll().then(function(e){b.languages=e})}angular.module("portalApplicationApp").controller("ForumEditController",e),e.$inject=["CommonUtil","$uibModal","$scope","Forum","selections","Organization","Principal","LoginService","$state","$interval","JhiLanguageService","$uibModalInstance"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(e){b.searchForum=b.searchForum.owner?b.searchForum:{}}function d(e){c.open({templateUrl:"app/forum/forum/forum-edit.html",controller:"ForumEditController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{forum:e,refOrg:b.refOrg}}}).result.then(function(){g()})}function m(e){var n=e.title+" 포럼을";c.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:n,type:"delete"}}}}).result.then(function(n){n&&o.delete({id:e.id},function(){g(),t.paramUrl={link:"deletion"},y()},h)})}function g(){e.underLoading("underLoading",{top:"0px",left:"0px",height:"100%"},"50px",!1),b.providers=[],o.listPublic().$promise.then(function(n){b.commonForums=n,b.commonForums.push({id:999,title:"1:1 문의하기",description:"1:1 문의하기",isAnonymousWritable:!1,isApiDeleted:!1,isConfigurable:!1,isPrivate:!1,isWritable:!0}),b.providers=[{originalId:0,id:0,title:"공통",child:b.commonForums}],i.providersForums().$promise.then(function(n){f(n,"originalId"),b.providers=b.providers.concat(n),t.paramUrl&&"postDetail"==t.paramUrl.link?b.accordionUI({originalId:t.paramUrl.ownerId,fromDetail:!0}):b.accordionUI(b.providers[0]),e.completeLoading()})})}function f(e,t,n){switch(t){case"originalId":e.sort(function(e,t){return e.originalId>t.originalId?n?-1:1:e.originalId<t.originalId?n?1:-1:0});break;case"id":e.sort(function(e,t){return e.id>t.id?n?-1:1:e.id<t.id?n?1:-1:0})}}function h(t){e.onError(t.data.description)}function v(e){e.originalId!=b.selectId&&(b.selectId2=null,e.accordion=!1),e.fromDetail?a(function(){b.providers.some(function(e){return e.originalId==t.paramUrl.ownerId&&(b.selectId=e.originalId,e.accordion=!0),e.originalId==t.paramUrl.ownerId})}):e.child&&(b.selectId=e.originalId,e.accordion=!e.accordion)}function A(e){e.id!=b.selectId2&&(b.selectId2=null,b.selectForum=null,e.accordion=!1),e.child?(b.selectId2=e.id,b.selectForum=e,e.accordion=!e.accordion):"공통"!=e.title&&(b.selectId2=e.id,b.selectForum=e,y(e))}function y(e){e?(t.paramUrl={ownerId:e.owner?e.owner.id:null,forumOwner:e.owner?e.owner.name:null,forumId:e.id,forumTitle:e.title,isWritable:e.isWritable},"question"!=n.$current.self.name&&999==e.id?n.go("question",t.paramUrl):999==e.id?n.reload("question",t.paramUrl):"post"!=n.$current.self.name?n.go("post",t.paramUrl):n.reload("post",t.paramUrl)):"home"==t.paramUrl.link?"post"==t.paramUrl.url?n.go("post",t.paramUrl):n.go("post.detail",t.paramUrl):"deletion"==t.paramUrl.link?(t.paramUrl={forumId:"all",forumTitle:"포럼 전체"},n.reload("post",{forumId:"all",forumTitle:"포럼 전체"})):"postDetail"!=t.paramUrl.link&&(t.paramUrl={forumId:"all",forumTitle:"포럼 전체"},n.go("post",{forumId:"all",forumTitle:"포럼 전체"}))}var b=this;b.languages=null,b.remove=m,b.state=t.paramUrl,b.edit=d,b.checkSearch=u,b.accordionUI=v,b.accordionUI2=A,b.forumView=y,t.account&&(b.refOrg=t.account.organization,b.isAdmin=t.account.authorities.indexOf("ROLE_ADMIN")>-1,b.isForumCreator=t.account.authorities.indexOf("ROLE_FORUM_CREATE")>-1),"all"==t.paramUrl.forumId&&(b.selectId2=null),g(),l.getAll().then(function(e){b.languages=e}),y()}angular.module("portalApplicationApp").controller("ForumController",e),e.$inject=["CommonUtil","$rootScope","$state","$timeout","Forum","Organization","Api","JhiLanguageService","Principal","$uibModal","Post"]}(),function(){"use strict";function e(e){e.state("forumCommunity",{parent:"forum",url:"/forum-community",data:{pageTitle:"global.title"},views:{"contentAll@":{templateUrl:"app/forum/forum/forum.html",controller:"ForumController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("forum"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m,g,f){function h(){f.onError("이미지크기가 "+f.fileSize({fileSize:e.editorImageFileSize})+"를 초과했습니다.")}function v(e){return!x.searchCategory||e[1].indexOf(x.searchCategory)>-1}function A(){c.detail({forumId:x.forumId,postId:x.state.postId}).$promise.then(function(e){x.post=e,x.original=angular.copy(x.post),i(function(){$("#postContent").html(x.post.content)})})}function y(e){s.account&&s.account.organization&&t.availableForums().$promise.then(function(t){x.forums=t,x.forums.forEach(function(e){e.name=e.title}),o.open({templateUrl:"app/services/common/list-modal.html",controller:"listModalController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{items:function(){return{data:x.forums,type:"selection",title:"moveForum",list:e}}}}).result.then(function(t){c.move({forumId:e.forum.id,postId:e.id,targetForumId:t.id}).$promise.then(function(){x.goForumAll()})})})}function b(){a.paramUrl={forumId:"all",forumTitle:"포럼 전체"},d.go("post",a.paramUrl)}function P(e){var t="#content"+e.id;$(t).html(e.content)}function w(e,t){x.post.attachFileList.splice(t,1)}function C(e){s.account&&(window.location="/files/download/"+e.id)}function O(e){$("div.replyHide").hide(),"modify"==x.mode?x.addReply=e:x.addReply={}}function I(e,t){$("div.replyHide").hide(),x.addReply={},t?(x.addReply=angular.copy(e),x.mode="modify"):x.mode="register";var n="#reply"+e.id;$(n).show()}function E(e,t){e?D():(x.readOnly=e,f.scrollTop(),x.post=angular.copy(t),i(function(){$("#postContent").html(t.content)},200))}function T(e,t,n){var a="#"+e;$(a).attr("readonly",t),n&&$(a).val(n)}function L(e,t){"register"==x.mode||e==x.post?(c.commentW({forumId:x.forumId,postId:e.id},t,k),x.addReply={}):c.update({forumId:x.forumId,postId:e.id},t,k)}function k(e){e==x.post.id?(a.paramUrl={forumOwner:x.state.forumOwner,forumId:x.state.forumId,forumTitle:x.state.forumTitle,isWritable:x.state.isWritable,page:x.state.page,sort:x.state.sort},d.go("post")):(x.reply&&e.id&&(x.reply="",i(function(){n($("#commentContent").contents())(s);
})),A())}function S(e){a.paramUrl={ownerId:e&&e.owner?e.owner.id:0,forumOwner:e&&e.owner?e.owner.name:x.state.forumOwner,forumId:e?e.id:x.state.forumId,forumTitle:e?e.title:x.state.forumTitle,isWritable:e?e.isWritable:x.state.isWritable,sort:x.state.sort,link:"postDetail"},d.go("post"),e&&i(function(){d.reload("forumCommunity")})}function U(e){x.post.attachFileIds=e?e:[],x.post.attachFileList.forEach(function(e,t){x.post.attachFileIds.push(e.id)}),c.update({forumId:x.forumId,postId:x.post.id},x.post,D,function(e){f.onError(e.data.description)})}function D(){d.reload("post.detail")}function z(){var t=!1,n=0;if($("input[type=file].file-input").each(function(a){$(this).val()?navigator.userAgent.indexOf("MSIE 9.0")<0&&$(this)[0].files[0].size>=e.attachFileSize?x.violationOfSize=!0:(n+=$(this)[0].files[0].size,t=!0):$(this).attr("disabled","disabled")}),x.violationOfSize)return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),f.onError("각각의 파일은 "+f.fileSize({fileSize:e.attachFileSize})+"를 넘을 수 없습니다."),void(x.violationOfSize=!1);if(n>e.totalFileSize)return void f.onError("업로드 파일의 총 용량은 "+f.fileSize({fileSize:e.totalFileSize})+"를 넘을 수 없습니다.");var a=f.getCookie("XSRF-TOKEN");t?($("#fileForm").ajaxForm({url:"/files/upload?_csrf="+a,enctype:"multipart/form-data",type:"post",dataType:"json",data:{type:"forum"},success:function(e){U(e),s.$apply()},error:function(e){return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),navigator.userAgent.indexOf("MSIE 9.0")!==-1?void f.onError("업로드 대상 파일을 다시 확인해 주십시오."):void(500==e.status?f.onError("업로드 대상 파일을 다시 확인해 주십시오."):f.onError(e.responseJSON.description))}}),$("#fileForm").submit()):U()}function R(e){o.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:"이 글을",type:"delete"}}}}).result.then(function(){c.delete({forumId:x.forumId,postId:e}).$promise.then(function(t){k(e),x.mode="register"}).catch(function(e){f.onError(e.data.description)})})}var x=this;x.state=a.paramUrl,x.providers=t.providers(),x.allowedSelectCategoryForums=e.allowedSelectCategoryForums,x.allowedPrivateWritingForums=e.allowedPrivateWritingForums,x.allowedReplyWritingForums=e.allowedReplyWritingForums,x.delInput=f.delInput,x.selectFile=f.selectFile,x.fileSize=f.fileSize,x.deletion=!1,x.files=[{data:null}],s.addFileInput=function(e,t){if(!x.deletion){var n=e.target.id.split("-")[1];f.addFileInput(n,x.files,t)}},a.account?(x.user=a.account,x.isAdmin=a.account.authorities.indexOf("ROLE_ADMIN")>-1,x.isForumCreator=a.account.authorities.indexOf("ROLE_FORUM_CREATE")>-1):x.user={login:"-1"},x.languages=null,x.update=z,x.delPost=R,x.commentW=L,x.readOnlyToggle=E,x.readToggle=T,x.readOnly=!0,x.htmlContents=P,x.commentWShow=I,x.commentInputOff=O,x.viewForums=S,x.selectForum=y,x.maximumImageFileSizeCheck=h,x.summernoteToolbar={toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph","lineheight"]],["height",["height"]],["table",["table"]],["insert",a.check_ie9?["link","video","hr"]:["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],lang:"ko-KR",maximumImageFileSize:e.editorImageFileSize,callbacks:{onImageUploadError:x.maximumImageFileSizeCheck}},x.replyToolbar={toolbar:[["style",["bold","italic","underline"]],["fontclr",["color"]],["insert",a.check_ie9?["link"]:["link","picture"]]],lang:"ko-KR",maximumImageFileSize:e.editorImageFileSize,callbacks:{onImageUploadError:x.maximumImageFileSizeCheck}},x.mode="register",x.fileDown=C,x.delFile=w,x.init=A,x.categoryFilter=v,x.flag="all"==x.state.forumId,x.forumId="all"==x.state.forumId?x.state.idForviewAll:x.state.forumId,x.listTitle=x.flag?"포럼 전체":x.state.forumTitle,A(),x.goForumAll=b}angular.module("portalApplicationApp").controller("PostDetailController",e),e.$inject=["CommonConstants","Organization","$compile","$rootScope","$uibModal","$timeout","User","$stateParams","$scope","Post","Forum","Principal","$state","$interval","JhiLanguageService","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d){function m(){d.onError("이미지크기가 "+d.fileSize({fileSize:n.editorImageFileSize})+"를 초과했습니다.")}function g(e){return!y.searchCategory||e[1].indexOf(y.searchCategory)>-1}function f(){A()}function h(){var e="all"==y.state.forumId?y.forum.id:y.state.forumId;s.create({forumId:e},y.post,A)}function v(){var e=!1,t=0;if($("input[type=file].file-input").each(function(a){$(this).val()?navigator.userAgent.indexOf("MSIE 9.0")<0&&$(this)[0].files[0].size>=n.attachFileSize?y.violationOfSize=!0:(t+=$(this)[0].files[0].size,e=!0):$(this).attr("disabled","disabled")}),y.violationOfSize)return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),d.onError("첨부파일사이즈는 "+d.fileSize({fileSize:n.attachFileSize})+"를 넘을 수 없습니다."),void(y.violationOfSize=!1);if(t>n.totalFileSize)return void d.onError("업로드 파일의 총 용량은 "+d.fileSize({fileSize:n.totalFileSize})+"를 넘을 수 없습니다.");var a=d.getCookie("XSRF-TOKEN");e?($("#fileForm").ajaxForm({url:"/files/upload?_csrf="+a,enctype:"multipart/form-data",type:"post",dataType:"json",data:{type:"forum"},success:function(e){y.post.attachFileIds=e,h(),l.$apply()},error:function(e){return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),navigator.userAgent.indexOf("MSIE 9.0")!==-1?void d.onError("업로드 대상 파일을 다시 확인해 주십시오."):void(500==e.status?d.onError("업로드 대상 파일을 다시 확인해 주십시오."):d.onError(e.responseJSON.description))}}),$("#fileForm").submit()):h()}function A(e){p.go("post",{forumOwner:y.state.forumOwner,forumId:y.state.forumId,forumTitle:y.state.forumTitle,isWritable:y.state.isWritable})}var y=this;y.languages=null,y.save=v,y.state=i.paramUrl,y.allowedSelectCategoryForums=n.allowedSelectCategoryForums,y.allowedPrivateWritingForums=n.allowedPrivateWritingForums,y.clear=f,y.categoryFilter=g,y.setSecret=!1,y.flag="all"==y.state.forumId,y.providers=e.providers(),y.forum={},y.post={},y.delInput=d.delInput,y.selectFile=d.selectFile,y.deletion=!1,y.files=[{data:null}],l.addFileInput=function(e,t){if(!y.deletion){var n=e.target.id.split("-")[1];d.addFileInput(n,y.files,t)}},i.account?(y.user=i.account,y.isAdmin=i.account.authorities.indexOf("ROLE_ADMIN")>-1,y.isForumCreator=i.account.authorities.indexOf("ROLE_FORUM_CREATE")>-1):y.user={login:"-1"},y.maximumImageFileSizeCheck=m,y.summernoteToolbar={toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph","lineheight"]],["height",["height"]],["table",["table"]],["insert",i.check_ie9?["link","video","hr"]:["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],lang:"ko-KR",maximumImageFileSize:n.editorImageFileSize,callbacks:{onImageUploadError:y.maximumImageFileSizeCheck}},y.listTitle=y.flag?"포럼 전체":y.state.forumTitle}angular.module("portalApplicationApp").controller("PostNewController",e),e.$inject=["Organization","GeneralInfo","CommonConstants","$timeout","$compile","$rootScope","$stateParams","$scope","Post","Forum","$state","JhiLanguageService","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m){function g(e,t,n){switch(t){case"title":e.sort(function(e,t){return e.title>t.title?n?-1:1:e.title<t.title?n?1:-1:0});break;case"id":e.sort(function(e,t){return e.id>t.id?n?-1:1:e.id<t.id?n?1:-1:0})}}function f(){d.open({templateUrl:"app/forum/forum/forum-edit.html",controller:"ForumEditController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{forum:null,refOrg:O.refOrg}}}).result.then(function(){h()})}function h(){i.paramUrl={forumId:"all",forumTitle:"포럼 전체"},l.reload("forumCommunity",i.paramUrl)}function v(){O.currentPage=1,O.condition={forumId:O.flag?O.forumSelected:O.state.forumId,targetOrganizationId:O.providerSelected?O.providerSelected.id:null,writerName:O.writerSelected,postTitle:O.postTitleSelected,size:O.stateParams.size,page:0,sort:O.condition.sort},O.flag?A():y()}function A(){O.listTitle="포럼 전체",c.viewAll(O.condition,function(e,t){O.postlist=e,O.totalItems=t("x-total-count")})}function y(){O.listTitle=O.state.forumTitle,p.list(O.condition,function(e,t){O.postlist=e,O.totalItems=t("x-total-count")})}function b(e){"비밀글입니다."!=e.title&&("all"==i.paramUrl.forumId?i.paramUrl={forumId:"all",forumTitle:"포럼 전체",idForviewAll:e.forum.id,postId:e.id,page:O.condition.page,sort:O.stateParams.sort}:i.paramUrl={forumOwner:O.state.forumOwner,forumId:O.state.forumId,forumTitle:O.state.forumTitle,isWritable:O.state.isWritable,idForviewAll:e.forum.id,postId:e.id,page:O.condition.page,sort:O.stateParams.sort},l.go("post.detail"))}function P(e){var t="#content"+e.id;return"비밀글입니다."==e.title?"":$(t).html(e.content).text().slice(0,40)}function w(){$(window).scrollTop(0)}function C(){O.condition.page=O.currentPage-1,O.flag?A():y()}var O=this;O.languages=null,O.state=i.paramUrl,O.stateParams=r,O.allowedSelectCategoryForums=e.allowedSelectCategoryForums,O.allowedReplyWritingForums=e.allowedReplyWritingForums,O.gotoTop=w,O.gotoDetail=b,O.edit=f,O.contentSlice=P,O.pageChanged=C,O.loadAll=A,O.searchBoxView=!0,O.providers=t.providers(),O.flag="all"==O.state.forumId,O.condition={forumId:O.flag?O.forumSelected:O.state.forumId,targetOrganizationId:O.providerSelected?O.providerSelected.id:null,writerName:O.writerSelected,postTitle:O.postTitleSelected,size:O.stateParams.size,page:O.stateParams.page,sort:O.stateParams.sort},O.searching=v,O.goForumAll=h,O.isWritable=O.state.isWritable,c.list().$promise.then(function(e){O.forums=e.filter(function(e){return e.fullTitle=e.title,!0})}),i.account?(O.refOrg=i.account.organization,O.user=i.account,O.isAdmin=i.account.authorities.indexOf("ROLE_ADMIN")>-1,O.isForumCreator=i.account.authorities.indexOf("ROLE_FORUM_CREATE")>-1):O.user={login:"-1"},O.flag?A():O.state.forumOwner?p.postCategories({orgId:O.state.ownerId}).$promise.then(function(e){i.postCategories=e,O.postCategories=angular.copy(e),g(O.postCategories,"name"),O.postCategories.push([0,"미분류"]),y()}):y(),u.getAll().then(function(e){O.languages=e})}angular.module("portalApplicationApp").controller("PostController",e),e.$inject=["CommonConstants","Organization","GeneralInfo","CommonUtil","Principal","$rootScope","$stateParams","$state","$scope","Forum","Post","JhiLanguageService","$uibModal","$timeout"]}(),function(){"use strict";function e(e){e.state("post",{parent:"forumCommunity",data:{pageTitle:"global.title"},views:{"forumView@forumCommunity":{templateUrl:"app/forum/post/post.html",controller:"PostController",controllerAs:"vm"}},params:{isWritable:"@isWritable",forumTitle:"@forumTitle",forumId:"@forumId",forumOwner:"@forumOwner",sort:{value:"id,desc",squash:!0},size:{value:"10",squash:!0},page:{value:"0",squash:!0}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("post"),e.refresh()}]}}).state("post.new",{parent:"forumCommunity",data:{pageTitle:"global.title"},params:{isWritable:"@isWritable",forumTitle:"@forumTitle",forumId:"@forumId"},views:{"forumView@forumCommunity":{templateUrl:"app/forum/post/post-new.html",controller:"PostNewController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("post"),e.refresh()}]}}).state("post.detail",{parent:"forumCommunity",data:{pageTitle:"global.title"},params:{isWritable:"@isWritable",forumTitle:"@forumTitle",forumId:"@forumId"},views:{"forumView@forumCommunity":{templateUrl:"app/forum/post/post-detail.html",controller:"PostDetailController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("post"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m,g,f){function h(){c.detail({questionId:I.state.questionId}).$promise.then(function(e){I.question=e,I.original=angular.copy(I.question)})}function v(e){var t="#content"+e.id;$(t).html(e.content)}function A(e,t){e?reloadPost():(I.readOnly=e,I.post=angular.copy(t),i(function(){$("#postContent").html(t.content)},200))}function y(){d.go("question",{forumTitle:I.state.forumTitle})}function b(){o.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:"이 글을",type:"delete"}}}}).result.then(function(){c.delete({questionId:I.question.id},O,P)})}function P(e){f.modalOne(e.data.description)}function w(){c.createReply({questionId:I.question.id},I.questionReply,C)}function C(){a.paramUrl={forumTitle:I.state.forumTitle,page:I.state.page,sort:I.state.sort,questionId:I.question.id},d.reload("question.detail",a.paramUrl)}function O(){a.paramUrl={forumTitle:I.state.forumTitle,page:I.state.page,sort:I.state.sort,questionId:I.question.id},d.go("question")}var I=this;I.state=a.paramUrl,I.providers=t.providers(),I.searchTitleForCategoryForum=e.searchTitleForCategoryForum,I.delInput=f.delInput,I.selectFile=f.selectFile,I.fileSize=f.fileSize,I.deletion=!1,I.files=[{data:null}],s.addFileInput=function(e,t){if(!I.deletion){var n=e.target.id.split("-")[1];f.addFileInput(n,I.files,t)}},a.account?(I.user=a.account,I.isAdmin=a.account.authorities.indexOf("ROLE_ADMIN")>-1,I.isForumCreator=a.account.authorities.indexOf("ROLE_FORUM_CREATE")>-1):I.user={login:"-1"},I.languages=null,I.delQuestion=b,I.save=w,I.readOnlyToggle=A,I.readOnly=!0,I.htmlContents=v,I.clear=y,I.mode="register",I.init=h,I.listTitle=I.state.forumTitle,h()}angular.module("portalApplicationApp").controller("QuestionDetailController",e),e.$inject=["CommonConstants","Organization","$compile","$rootScope","$uibModal","$timeout","User","$stateParams","$scope","Question","Forum","Principal","$state","$interval","JhiLanguageService","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d){function m(){f()}function g(){s.create(h.question,f)}function f(e){p.go("question",{forumTitle:h.state.forumTitle})}var h=this;h.languages=null,h.save=g,h.state=i.paramUrl,h.clear=m,h.question={},i.account?(h.user=i.account,h.isAdmin=i.account.authorities.indexOf("ROLE_ADMIN")>-1,h.isForumCreator=i.account.authorities.indexOf("ROLE_FORUM_CREATE")>-1):h.user={login:"-1"},h.listTitle=h.state.forumTitle}angular.module("portalApplicationApp").controller("QuestionNewController",e),e.$inject=["Organization","GeneralInfo","CommonConstants","$timeout","$compile","$rootScope","$stateParams","$scope","Question","Forum","$state","JhiLanguageService","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m,g){function f(){y.currentPage=1,y.condition={writerName:y.writerSelected,title:y.titleSelected,size:y.stateParams.size,page:0,sort:y.condition.sort},h()}function h(){y.listTitle=y.state.forumTitle,u.list(y.condition,function(e,t){y.questionList=e,y.totalItems=t("x-total-count")})}function v(){r.paramUrl={forumTitle:y.state.forumTitle,questionId:y.condition.questionId,page:y.condition.page,sort:y.stateParams.sort},s.go("question.detail")}function A(){y.condition.page=y.currentPage-1,h()}var y=this;y.languages=null,y.state=r.paramUrl,y.stateParams=l,y.gotoDetail=v,y.pageChanged=A,y.condition={writerName:y.writerSelected,title:y.titleSelected,size:y.stateParams.size,page:y.stateParams.page,sort:y.stateParams.sort},y.searching=f,p.list().$promise.then(function(e){y.forums=e.filter(function(e){return e.fullTitle=e.owner?"["+e.owner.name+"] "+e.title:"[공통] "+e.title,!0})}),r.account?(y.user=r.account,y.isAdmin=r.account.authorities.indexOf("ROLE_ADMIN")>-1,y.isForumCreator=r.account.authorities.indexOf("ROLE_FORUM_CREATE")>-1):y.user={login:"-1"},h(),y.showPassword=function(e){y.condition.questionId=e,y.isAdmin?v():(m.open({templateUrl:"app/forum/question/question-password.html",scope:c,backdrop:"static",size:"md"}),g(function(){angular.element("#password").focus()},500))},y.passwordChk=function(){y.condition.password=y.password,u.password(y.condition,function(e,t){e.passwordChk?v():(o.onError("비밀번호가 틀렸습니다."),y.password="",y.clear())})},y.clear=function(){a.dismissAll()},d.getAll().then(function(e){y.languages=e})}angular.module("portalApplicationApp").controller("QuestionController",e),e.$inject=["CommonConstants","Organization","GeneralInfo","$uibModalStack","CommonUtil","Principal","$rootScope","$stateParams","$state","$scope","Forum","Question","JhiLanguageService","$uibModal","$timeout"]}(),function(){"use strict";function e(e){e.state("question",{parent:"forumCommunity",data:{pageTitle:"global.title"},views:{"forumView@forumCommunity":{templateUrl:"app/forum/question/question.html",controller:"QuestionController",controllerAs:"vm"}},params:{isWritable:"@isWritable",forumTitle:"@forumTitle",forumId:"@forumId",forumOwner:"@forumOwner",sort:{value:"id,desc",squash:!0},size:{value:"10",squash:!0},page:{value:"0",squash:!0}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("question"),e.refresh()}]}}).state("question.new",{parent:"forumCommunity",data:{pageTitle:"global.title"},params:{isWritable:"@isWritable",forumTitle:"@forumTitle",forumId:"@forumId"},views:{"forumView@forumCommunity":{templateUrl:"app/forum/question/question-new.html",controller:"QuestionNewController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("question"),e.refresh()}]}}).state("question.detail",{parent:"forumCommunity",data:{pageTitle:"global.title"},params:{isWritable:"@isWritable",forumTitle:"@forumTitle",forumId:"@forumId"},views:{"forumView@forumCommunity":{templateUrl:"app/forum/question/question-detail.html",controller:"QuestionDetailController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("question"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(){n.getForumsByApi({id:t.id}).$promise.then(function(e){i.forumList=e})}function o(){e.dismiss("cancel")}var i=this;i.clear=o,i.loadAll=a,a()}angular.module("portalApplicationApp").controller("apiForumController",e),e.$inject=["$uibModalInstance","api","Api"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s){function c(){O.apiGroupSelected=null,O.apiName=null,O.apiGroupName=null,O.apiPrivate=null,O.apiGroupPrivate=null,O.condition.page=0,O.condition.apiName=null,O.condition.apiGroupId=null,O.condition.apiGroupName=null,O.currentPage=1}function p(e){i.usedAppList({id:e.id}).$promise.then(function(e){O.apps=e,n.open({templateUrl:"app/api-services/api-service/api-app-list.html",scope:t,backdrop:"static",size:"md"})})}function u(){a.dismissAll()}function d(e){return!("신한저축은행"==e.name||"신한DS"==e.name)}function m(e){c(),O.isGroupView=e,e?A():v()}function g(e,t){O.condition.sort=l.sorting(O.condition.sort,e,t),O.condition.page=0,O.currentPage=1,O.isGroupView?A():v()}function f(e){i.getForumsByApi({id:e.id}).$promise.then(function(t){O.post=t,O.post.length>1?n.open({templateUrl:"app/api-service/api-forum-dialog.html",controller:"apiForumController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{api:e}}):1==O.post.length&&o.go("post",{forumId:O.post[0].id})})}function h(){O.currentPage=1,O.condition={orgId:O.organizationSelected.id,apiGroupId:O.apiGroupSelected?O.apiGroupSelected.id:null,apiName:O.apiName?O.apiName:null,apiPrivateOption:O.apiPrivate?O.apiPrivate:null,apiGroupPrivateOption:O.apiGroupPrivate?O.apiGroupPrivate:null,apiGroupName:O.apiGroupName?O.apiGroupName:null,proxy:O.proxyUrl,status:"RUNNING",size:O.stateParams.size,page:0,sort:O.condition.sort},O.isGroupView?A():v()}function v(){l.underLoading("underLoading",{top:"-2px",left:"200px",width:"83%",height:"86%"},"230px"),i.apisForPartners(O.condition,function(e,t){O.apis=e,O.totalItems=t("x-total-count"),l.completeLoading()})}function A(e){e>=0&&(O.condition.page=e,O.currentPage=e+1),l.underLoading("underLoading",{top:"-2px",left:"200px",width:"83%",height:"86%"},"230px"),r.listForPartnerPageable(O.condition,function(e,t){O.groups=e,O.totalItems=t("x-total-count"),l.completeLoading()})}function y(){O.condition.page=O.currentPage-1,O.isGroupView?A():v()}function b(){s.providers().$promise.then(function(e){P(e,"id"),O.organizations=e,w(O.organizations[2])})}function P(e,t,n){switch(t){case"id":e.sort(function(e,t){return e.id>t.id?n?-1:1:e.id<t.id?n?1:-1:0})}}function w(e){O.organizationSelected=e,c(),O.isGroupView||(O.apiGroups=r.listForPartner({orgId:e.id})),h()}function $(e){return t.account?void n.open({templateUrl:"app/api-services/api-service/api-view.html",controller:"ApiViewController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{selectedApi:{api:e,forPartner:!0}}}).result.then(function(e){v()}):void l.modalOne("자세한 정보를 보시려면<br/>로그인을 하시기 바랍니다.")}function C(e){O.apiName=null,O.proxyUrl=null,O.apiGroupSelected=e,h()}var O=this;O.stateParams=e,O.loadAllGroups=A,O.showDetailApi=$,O.showApis=C,O.setGroupView=m,O.orgFilter=d,O.showApps=p,O.showApiList=w,O.loadAll=v,O.pageChanged=y,O.condition={orgId:O.organizationSelected?O.organizationSelected.id:null,apiGroupId:O.apiGroupSelected?O.apiGroupSelected.id:null,apiName:O.apiName,apiPrivateOption:O.apiPrivate?O.apiPrivate:null,apiGroupPrivateOption:O.apiGroupPrivate?O.apiGroupPrivate:null,apiGroupName:O.apiGroupName,proxy:O.proxyUrl,status:"RUNNING",size:O.stateParams.size,page:O.stateParams.page,sort:O.stateParams.sort},O.goToPost=f,O.searching=h,O.sorting=g,O.clear=u,b(),O.isProvider=t.account&&(t.account.authorities.indexOf("ROLE_ADMIN")>-1||t.account.role.code.indexOf("OFFER")>-1)}angular.module("portalApplicationApp").controller("ApiServiceController",e),e.$inject=["$stateParams","$scope","$uibModal","$uibModalStack","$state","Api","ApiGroup","CommonUtil","Organization"]}(),function(){"use strict";function e(e){e.state("apiService",{parent:"apiServices",url:"/api-service?size&page",data:{pageTitle:"global.title"},views:{"contentAll@":{templateUrl:"app/api-services/api-service/api-service.html",controller:"ApiServiceController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api-service"),t.addPart("app-management"),t.addPart("api"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m){function g(e){e.value=numeral(e.value).format("0,0")}function f(e,t){var n="";return 1==t?(U.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(U.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function h(){s.scopeTypes().$promise.then(function(e){U.scopes=e,b()}).catch(E)}function v(e){o.account&&(window.location="/files/download/"+e.id)}function A(){U.api.id&&l.apiById({id:U.api.id}).$promise.then(function(e){U.api=e,h(),y()})}function y(){}function b(){U.api.id||u.listCluster().$promise.then(function(e){U.gatewayClusters=e,U.gatewayClusters&&1==U.gatewayClusters.length&&(U.api.gatewayCluster=U.gatewayClusters[0]),U.changeGatewayCluster()})}function P(){U.api.gatewayCluster?w():U.fragments=[]}function w(){null!=U.api.gatewayCluster.id&&u.listFragments({clusterId:U.api.gatewayCluster.id}).$promise.then(function(e){U.fragments=e,U.fragments&&1==U.fragments.length&&(U.api.fragments[0]||(U.api.fragments[0]={}),U.api.fragments[0].fragment=U.fragments[0],U.selectedFragment=U.fragments[0],U.fragmentDisabled=!0,U.changeFragment())})}function $(){u.listCluster().$promise.then(function(e){U.gatewayClusters=e,u.listFragments({clusterId:U.api.gatewayCluster.id}).$promise.then(function(e){U.fragments=e,U.fragments.some(function(e){return e.id==U.api.fragments[0].fragment.id&&(U.selectedFragment=e),e.id==U.api.fragments[0].fragment.id}),U.selectedFragment.parameters=[],U.selectedFragment.arguments.forEach(function(e){U.selectedFragment.parameters.push({key:e.name,label:e.label,type:e.type,value:"boolean"==e.type?"false":null})}),C()})})}function C(){U.api.fragments[0]||(U.selectedFragment.parameters=[],U.api.fragments[0]={fragment:U.selectedFragment}),U.api.fragments[0].fragment&&(null!=U.api.fragments&&U.api.fragments.length>0&&U.selectedFragment.name==U.api.fragments[0].fragment.name&&U.api.fragments[0].parameters&&U.api.fragments[0].parameters.length>0?U.selectedFragment.parameters.forEach(function(e){"apiScope"==e.key&&(e.value?(U.existingScope=!1,U.scopes.some(function(t){return t.scope==e.value&&(U.existingScope=!0),U.existingScope})):U.existingScope=!0),U.api.fragments[0].parameters.forEach(function(t){e.key==t.key&&(e.value=t.value,e.type=t.type,e.label=t.label,e.established=!0)})}):(U.selectedFragment.parameters=[],U.selectedFragment.arguments.forEach(function(e){U.selectedFragment.parameters.push({key:e.name,label:e.label,type:e.type,value:e.value})})))}function O(){a.dismiss("cancel")}function I(){t.dismiss(t.getTop().key)}function E(e){m.onError(e.data.description)}function T(){U.isTermsOpen=!1}function L(){U.isbillingPoliciesOpen=!1}function k(){U.api.termsOfUse&&l.getTermsContent({id:U.api.termsOfUse.id}).$promise.then(function(e){i.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){A()})})}function S(){U.isbillingPoliciesOpen=!(!U.api.billingPolicy||!U.api.billingPolicy.id),U.isbillingPoliciesOpen&&i.open({templateUrl:"app/services/common/billing-policy.html",scope:o,backdrop:"static",size:"md"}),U.billingPolicytooltipIsOpen=!U.isbillingPoliciesOpen,U.billingPolicytooltipIsOpen&&d(function(){U.billingPolicytooltipIsOpen=!1},100)}var U=this;m.getCookie("XSRF-TOKEN");if(r.forPartner){r=r.api,U.forPartner=!0,r.AddSettingsView=!1,U.mode="modify",U.api=angular.copy(r),U.termsOn=!!r.termsOfUse;r.name,r.urlPattern;U.api.fragments&&U.api.fragments.length&&$()}U.changeGatewayCluster=P,U.changeFragment=C,U.refreshFragment=$,U.clear=O,U.clearTopModal=I,U.languages=null,U.billingPolicies=null,U.closeTerm=T,U.closeBillingPolicy=L,U.selectedPlans=r?U.api.applicablePlans:[],U.isOpen=!1,U.allSelect=!1,U.showTermsContent=k,U.termContent="약관을 선택해주세요.",U.showBillingPolicies=S,U.billingPolicytooltipIsOpen=!1,U.isbillingPoliciesOpen=!1,U.loadAll=A,U.fileDown=v,U.fileSize=m.fileSize,U.filter=f,U.messageLimitCheckSize=20480,U.toNumFormat=g,U.api.fragments||(U.api.fragments=[]),U.api.gatewayCluster||(U.api.gatewayCluster=[]),U.gatewayClusterDisabled=0!=U.api.gatewayCluster.length,U.fragmentDisabled=0!=U.api.fragments.length,U.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],U.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],U.apiplanPopover={templateUrl:"app/layouts/popover-template/apiplan-popover.html"},U.sqlhelpPopover={templateUrl:"app/layouts/popover-template/sqlhelp-popover.html"},U.injectionhelpPopover={templateUrl:"app/layouts/popover-template/injectionhelp-popover.html"},U.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"}}angular.module("portalApplicationApp").controller("ApiViewController",e),e.$inject=["CommonConstants","$uibModalStack","$compile","$uibModalInstance","$scope","$uibModal","selectedApi","Api","Code","JhiLanguageService","apiPlans","Gateway","$timeout","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(){g.contents=o.allContents({kind:i.current.name,useYn:"Y"},d,m)}function d(e){e[0]&&$("#contentsBody").html(e[0].contentsBody)}function m(e){p.onError(e.data.description)}var g=this;l.$on("$stateChangeSuccess",function(){g.class="privacy-policy"==i.current.name||"portal-terms"==i.current.name?"col-md-10":"col-md-12",a(u)})}angular.module("portalApplicationApp").controller("GeneralInfoController",e),e.$inject=["CommonConstants","$rootScope","$compile","$timeout","GeneralInfo","$state","$stateParams","$scope","Api","$uibModal","CommonUtil"]}(),function(){"use strict";function e(e){return e("/api/contents/:id",null,{allContents:{method:"GET",isArray:!0,param:{kind:"@kind",noContentsBody:"@noContentsBody",noContentsIcon:"@noContentsIcon",useYn:"@useYn",showYn:"@showYn",sort:"@sort"}},providerContents:{url:"/api/contents/provider",method:"GET",isArray:!0,param:{kind:"@kind",noContentsBody:"@noContentsBody",noContentsIcon:"@noContentsIcon",orgName:"@orgName",useYn:"@useYn"}},addContents:{method:"POST"},editContents:{method:"PUT",params:{id:"@id"}},delContents:{method:"DELETE",params:{id:"@id"}},getOne:{method:"GET",param:{id:"@id"}},getByTitle:{url:"/api/contents/search",method:"GET",param:{title:"@title",kind:"@kind"}},listCategories:{url:"/api/contents/categories",method:"GET",isArray:!0},searchCategories:{url:"/api/contents/search-categories",method:"POST",isArray:!0},settingUse:{url:"/api/contents/:id/settinguse",method:"PUT",params:{id:"@id",useYn:"@useYn"}}})}angular.module("portalApplicationApp").factory("GeneralInfo",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){e.state("portal-terms",{parent:"app",url:"/portal-terms",views:{"content@":{templateUrl:"app/informations/general-info/general-info.html",controller:"GeneralInfoController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api-service"),e.refresh()}]}}).state("privacy-policy",{parent:"app",url:"/privacy-policy",views:{"content@":{templateUrl:"app/informations/general-info/general-info.html",controller:"GeneralInfoController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api-service"),e.refresh()}]}}).state("company-introduction",{parent:"app",url:"/company-introduction",views:{"content@":{templateUrl:"app/informations/general-info/general-info.html",controller:"GeneralInfoController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api-service"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("portalInfos",{abstract:!0,parent:"informations",data:{depth:[1,2,3]}}).state("portal-info",{parent:"portalInfos",url:"/portal-info",views:{"content@":{templateUrl:"app/informations/portal-info/portal-info.html",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api-service"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("register-step-info",{abstract:!0,parent:"informations",data:{}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("testbedInfos",{abstract:!0,parent:"informations",data:{depth:[1,2,3]}}).state("testbed-info",{parent:"testbedInfos",url:"/testbed-info",views:{"content@":{templateUrl:"app/informations/testbed-info/testbed-info.html",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api-service"),
e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("use-step-infos",{abstract:!0,parent:"informations",data:{depth:[1,2,3]}}).state("use-step-info",{parent:"use-step-infos",url:"/use-step-info",views:{"content@":{templateUrl:"app/informations/use-step-info/use-step-info.html",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("error",{parent:"app",url:"/error",data:{authorities:[],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/layouts/error/error.html"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("error"),e.refresh()}]}}).state("accessdenied",{parent:"app",url:"/accessdenied",data:{authorities:[]},views:{"content@":{templateUrl:"app/layouts/error/accessdenied.html"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("error"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e,t){n.contentId=t.id,o.go(e.url)}function l(e){if(e){var t=window.open("about:blank");t.location.href=e.url}}var s=this;s.scrollTop=e.scrollTop,s.gotoSite=l,s.gotoContents=r,s.familySites=[{name:"신한금융지주",url:"http://www.shinhangroup.com"},{name:"신한은행",url:"http://www.shinhan.com"},{name:"신한카드",url:"http://www.shinhancard.com"},{name:"신한금융투자",url:"http://www.shinhaninvest.com"},{name:"신한생명",url:"http://www.shinhanlife.co.kr"},{name:"신한DS",url:"http://www.shinhansys.co.kr"}],i.forumInit=function(){n.paramUrl={}}}angular.module("portalApplicationApp").controller("FooterController",e),e.$inject=["CommonUtil","GeneralInfo","$rootScope","Principal","$state","$scope"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e){return!e.subs&&(!(!m.isServiceCategory||a.contentId!=e.id)||(m.parent?"account"==m.parent.parent&&m.current.parent==e.name||"admin"==m.parent.parent&&m.current.parent==e.name||"app"==m.parent.parent&&m.current.name==e.name||"informations"==m.parent.parent&&m.parent.name==e.name:void 0))}function l(e){m.scrollTop(),m.isServiceCategory?(a.contentId=e.id,o.reload("service-package-info")):"approval"==e.url&&m.ofPartner&&!m.isManager?o.go("approvalHistory",{},{reload:!0}):"charge-manage"==e.url&&m.ofPartner?o.go("charge-search",{},{reload:!0}):o.go(e.url,{},{reload:!0})}function s(){"service-package-info"==o.current.name?(m.isServiceCategory=!0,m.rooScopeContentId=a.contentId,t.allContents({kind:"service-package",sort:"usePriority,asc",useYn:"Y",noContentsBody:!0,noContentsIcon:!0}).$promise.then(function(e){m.menus=e,m.menus.unshift({id:-1,url:"service-package",title:"서비스 조회"})})):(m.isServiceCategory=!1,m.parent=o.get(m.$state.current.parent),m.current=o.get(m.$state.current.name),m.menus=m.current.data.secondDepth,m.subMenus=m.parent.data.thirdDepth,m.menus&&u(m.parent.name,m.subMenus))}function c(){a.account&&(m.isAdmin=a.account.authorities.indexOf("ROLE_ADMIN")>-1,m.isManager=a.account.authorities.indexOf("ROLE_MANAGER")>-1||a.account.authorities.indexOf("ROLE_MANAGER_PROVIDER")>-1||a.account.authorities.indexOf("ROLE_MANAGER_PARTNER")>-1,a.account.organization&&(m.ofProvider="PROVIDER"==a.account.organization.type,m.ofPartner="PARTNER"==a.account.organization.type))}function p(e){return!a.account||(c(),m.isAdmin&&!a.account.organization?!("approvalRequest"==e.url||"approvalLine"==e.url):m.ofPartner?m.isManager?!("approvalLine"==e.url||"report-api-providing"==e.url||"report-billing-providing"==e.url||"charge-manage"==e.url||"charge-adjust"==e.url):!("approval"==e.url||"approvalLine"==e.url||"report-api-providing"==e.url||"report-billing-providing"==e.url||"charge-manage"==e.url||"charge-adjust"==e.url):m.ofProvider?!("charge-account"==e.url||"charge-search"==e.url):void 0)}function u(e,t){m.menus.forEach(function(n){n.hasSubs=!!o.get(n.name).data.thirdDepth,n.subs=null,n.name==e&&(n.subs=t,n.parent=e)})}function d(e){return!e.authority||a.account&&a.account.authorities&&a.account.authorities.indexOf(e.authority)>-1}var m=this;m.$state=o,m.exclude=p,m.authorityFilter=d,m.gotoContents=l,m.scrollTop=e.scrollTop,m.isActive=r,m.$rootScope=a,s(),a.$on("authenticationSuccess",function(){s()}),a.$on("logout",function(){s()}),a.$on("$stateChangeSuccess",function(e,t){s()}),c()}angular.module("portalApplicationApp").controller("LnbController",e),e.$inject=["CommonUtil","GeneralInfo","Principal","$rootScope","$state","ProfileService"]}(),function(){"use strict";function e(){function e(e,t,n){var a=n.activeLink,o=n.href;o=o.substring(1),e.location=location,e.$watch("location.path()",function(e){o===e?t.addClass(a):t.removeClass(a)})}var t={restrict:"A",link:e};return t}angular.module("portalApplicationApp").directive("activeLink",e)}(),function(){"use strict";function e(e,t,n){function a(t,a,o){var i=o.activeMenu;t.$watch(function(){return e.use()},function(e){i===e?(n.set(i),a.addClass("active")):a.removeClass("active")})}var o={restrict:"A",link:a};return o}angular.module("portalApplicationApp").directive("activeMenu",e),e.$inject=["$translate","$locale","tmhDynamicLocale"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m,g){function f(e,t,n,a){if(a){var o=t.thirdDepth.filter(y);a==o[o.length-1]&&(t.isopen=!1,n==e.secondDepth.length-1&&(e.isopen=!1))}else t.thirdDepth&&t.thirdDepth.length||(t.isopen=!1,(e.contents&&n==e.contents.length-1||!e.contents&&n==e.secondDepth.length-1)&&(e.isopen=!1))}function h(){o.account&&(k.isAdmin=o.account.authorities.indexOf("ROLE_ADMIN")>-1,k.isManager=o.account.authorities.indexOf("ROLE_MANAGER")>-1||o.account.authorities.indexOf("ROLE_MANAGER_PROVIDER")>-1||o.account.authorities.indexOf("ROLE_MANAGER_PARTNER")>-1,o.account.organization&&(k.ofProvider="PROVIDER"==o.account.organization.type,k.ofPartner="PARTNER"==o.account.organization.type))}function v(e){return!e.authority||o.account&&o.account.authorities&&o.account.authorities.indexOf(e.authority)>-1}function A(e){"account"==e.name&&o.account.role&&"ROLE_USER_MEMBER"==o.account.role.code?i.go("approvalHistory"):i.go(e.secondDepth[0].url)}function y(e){return!o.account||(h(),k.isAdmin&&!o.account.organization?!("approvalRequest"==e.url||"approvalLine"==e.url):k.ofPartner?k.isManager?!("approvalLine"==e.url||"report-api-providing"==e.url||"report-billing-providing"==e.url||"charge-manage"==e.url||"charge-adjust"==e.url):!("approval"==e.url||"approvalLine"==e.url||"report-api-providing"==e.url||"report-billing-providing"==e.url||"charge-manage"==e.url||"charge-adjust"==e.url):k.ofProvider?!("charge-account"==e.url||"charge-search"==e.url):void 0)}function b(e,t){T(e),"approval"==t.url&&k.ofPartner&&!k.isManager?i.go("approvalHistory",{},{reload:!0}):"charge-manage"==t.url&&k.ofPartner?i.go("charge-search",{},{reload:!0}):i.go(t.url)}function P(e,t){o.contentId=t?t.id:"-1",i.current.name==e.url?i.reload(e.url):i.go(e.url),T(e)}function w(){k.menus=[],i.get("app").data.firstDepth.forEach(function(e){if("service-package-open"==e.name)n.allContents({kind:"service-package",sort:"usePriority,asc",useYn:"Y",noContentsBody:!0,noContentsIcon:!0}).$promise.then(function(t){t.unshift({id:-1,url:"service-package",title:"서비스 조회"}),k.menus.splice(1,0,{name:e.name,url:e.url,contents:t})});else{var t=i.get(e.name).data.secondDepth;if(t&&t.forEach(function(e){i.get(e.name).data.thirdDepth&&(e.thirdDepth=i.get(e.name).data.thirdDepth)}),!i.get(e.name))return!0;k.menus.push({name:e.name,url:e.url,authority:e.authority,secondDepth:t})}})}function C(e){return i.includes(e)}function O(){T(),i.go("login")}function I(){T(),r.logout(),o.$broadcast("userLogout")}function E(){k.isNavbarCollapsed=!k.isNavbarCollapsed}function T(e){e&&(e.isopen=!1),k.isNavbarCollapsed=!0,a.scrollTop()}function L(e){"forumCommunity"==e&&(o.paramUrl={})}var k=this;k.stateChange=b,k.isNavbarCollapsed=!0,k.isAuthenticated=l.isAuthenticated,k.secondFilter=A,k.exclude=y,k.forumInit=L,k.login=O,k.logout=I,k.toggleNavbar=E,k.collapseNavbar=T,k.isActive=C,k.$state=i,k.gotoContents=P,k.setBlur=f,k.authorityFilter=v,k.scrollTop=a.scrollTop,w(),t.onunload=I,$(window).on("resize",function(e){$(window).width()<1281&&t.resizeTo(1280,800)}),s.getProfileInfo().then(function(e){k.inProduction=e.inProduction,k.swaggerEnabled=e.swaggerEnabled,k.inDev=e.inDev,k.inProduction}),h(),p.linkCheck=function(e){"login"==e?O():"logout"==e?I():T(e)},$(window).on("scroll",function(e){var t=$(document).scrollTop();t>200?$(".navbar-default").addClass("add-bg"):$(".navbar-default").removeClass("add-bg")})}angular.module("portalApplicationApp").controller("NavbarController",e),e.$inject=["Account","$window","GeneralInfo","CommonUtil","$rootScope","$state","Auth","Principal","ProfileService","LoginService","$scope","$timeout","Idle","Keepalive","$uibModal"]}(),function(){"use strict";function NoticeController($state,$rootScope,$window,$scope,$stateParams,Forum,CommonUtil,GeneralInfo){function goForum(){Forum.findId({orgName:null,forumTitle:"공지사항"}).$promise.then(function(e){vm.noticeForumId=e.id;var t={forumOwner:null,forumId:vm.noticeForumId,forumTitle:"공지사항",isWritable:!1,idForviewAll:vm.noticeForumId,postId:vm.notice.postId,page:0,sort:"id,desc",link:"home",url:"post.detail"};$window.opener.$windowScope.vm.goForum(t)})}function close(e){$window.close(e)}function htmlContents(e){$("#content").html(e)}var vm=this;vm.htmlContents=htmlContents,vm.fileDown=CommonUtil.fileDown,vm.fileSize=CommonUtil.fileSize,vm.closeDays=CommonUtil.closeDays,vm.close=close,vm.goForum=goForum,vm.param=eval($stateParams.id),vm.loginStatus=!!$scope.account,GeneralInfo.getOne({id:vm.param}).$promise.then(function(e){vm.notice=e})}angular.module("portalApplicationApp").controller("NoticeController",NoticeController),NoticeController.$inject=["$state","$rootScope","$window","$scope","$stateParams","Forum","CommonUtil","GeneralInfo"]}(),function(){"use strict";function e(e){e.state("notice",{url:"/notice:id",data:{authorities:[],pageTitle:"global.notice"},views:{"mainContainer@":{templateUrl:"app/layouts/notice/notice.html",controller:"NoticeController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("global"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d){function m(e){a.contentId=e?e.id:"-1",k(),D.scrollTop()}function g(){D.searchResultList=null,D.allChecking1=!1,D.allChecking2=!1,D.allChecking3=!1,D.allCategories.forEach(function(e){e.checked=!1})}function f(){D.allCategories.forEach(function(e){e.checked=!0}),b()}function h(){D.allCategories.forEach(function(e){e.checked=!1}),b()}function v(){var e=!1;return D.allCategories&&D.allCategories.some(function(t){return e=t.checked,t.checked}),!e}function A(){var e=!0;return D.allCategories&&D.allCategories.some(function(t){return e=!t.checked,!t.checked}),!e}function y(e){switch(e){case"1":c.list1.forEach(function(e){e.checked=D.allChecking1});break;case"2":c.list2.forEach(function(e){e.checked=D.allChecking2});break;case"3":c.list3.forEach(function(e){e.checked=D.allChecking3})}}function b(){D.resultTitle="최신순",r.allContents({kind:"service-package",sort:"createdDate,desc",noContentsBody:!0},w,U)}function P(){D.checkedList=D.allCategories.filter(function(e){return e.checked}),D.resultTitle="타이틀순",r.searchCategories(D.checkedList,w,U)}function w(e){D.searchResultList=e.filter(function(e){return e.sliceSentence=e.sentence.length>60?e.sentence.slice(0,57).concat(" . . ."):e.sentence,e.splitSentences=e.sliceSentence.split("\\n").map(function(e,t){return{idx:t,sentence:e}}),"공통템플릿"!=e.title})}function C(e,t){var n=!1;switch(e.checked=!e.checked,t){case"1":c.list1.some(function(e){return n=e.checked}),D.allChecking1=n;break;case"2":c.list2.some(function(e){return n=e.checked}),D.allChecking2=n;break;case"3":c.list3.some(function(e){return n=e.checked}),D.allChecking3=n}}function O(e){return c.account?void p.apiByIdForPartner({id:e.id}).$promise.then(function(e){u.open({templateUrl:"app/api-services/api-service/api-view.html",controller:"ApiViewController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{selectedApi:{api:e,forPartner:!0}}}).result.then(function(e){k()})}):void d.modalOne("자세한 정보를 보시려면<br/>로그인을 하시기 바랍니다.")}function I(){D.show2=!D.show2,D.show2&&(D.selectedGroup=D.contents.apiGroups[0])}function E(e){$("#serviceIcon"+e.id).html(e.contentsIcon),$(".apiImg p img").css("width","")}function T(e){D.selectedGroup=e}function L(e){a.paramUrl=e,l.go("forumCommunity")}function k(){a.contentId!=-1?D.contents=r.getOne({id:a.contentId},S,U):r.listCategories().$promise.then(function(e){D.allCategories=e,b()})}function S(e){$("#contentsBody").html(e.contentsBody)}function U(e){d.onError(e.data.description)}var D=this;D.$rootScope=a,D.goForum=L,D.gotoContents=m,D.showGroup=T,D.showDetailApi=O,D.clickTab=I,D.checkAll=y,D.checkOneCategory=C,D.searchCategories=P,D.searchTableOpen=g,D.serviceBtnReset=h,D.serviceBtnAll=f,D.getServiceIcon=E,D.serviceInit=v,D.serviceInit2=A,D.scrollTop=d.scrollTop,D.serviceCategoryTitles=n.serviceCategoryTitles,k()}angular.module("portalApplicationApp").controller("ServiceCategoryInfoController",e),e.$inject=["Forum","ProfileService","CommonConstants","$rootScope","$compile","$timeout","GeneralInfo","$state","$stateParams","$scope","Api","$uibModal","CommonUtil"]}(),function(){"use strict";function e(e){e.state("service-package-info",{parent:"service-package-open",url:"/service-package-info",views:{"content@":{templateUrl:"app/service-package/service-package-info/service-package-info.html",controller:"ServiceCategoryInfoController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api-service"),t.addPart("api"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){return e("api/accountplans",null,{list:{method:"GET",isArray:!0},save:{method:"POST"},update:{method:"PUT"},delete:{url:"/api/accountplans/:id",method:"DELETE",params:{id:"@id"}}})}angular.module("portalApplicationApp").factory("accountPlans",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/agrees",null,{list:{method:"GET",isArray:!0},addAgree:{method:"POST"},editAgree:{url:"/api/agrees/:id",method:"PUT",params:{id:"@id"}},delAgree:{url:"/api/agrees/:id",method:"DELETE",params:{id:"@id"}},setUse:{url:"/api/agrees/:id/settinguse",method:"PUT",params:{id:"@id"}}});return t}angular.module("portalApplicationApp").factory("Agree",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/apigroups",null,{list:{method:"GET",isArray:!0},listForPartner:{method:"GET",isArray:!0,url:"/api/apigroups/for-partner",param:{orgId:"@orgId",isPrivate:"@isPrivate"}},listForPartnerPageable:{method:"GET",isArray:!0,url:"/api/apigroups/for-partner/pageable",param:{orgId:"@orgId",apiGroupName:"@apiGroupName"}},listForAdmin:{method:"GET",isArray:!0,url:"/api/admin/apigroups",param:{orgId:"@orgId"}},create:{method:"POST"},update:{url:"/api/apigroups/:id",method:"PUT",params:{id:"@id"}},delete:{url:"/api/apigroups/:id",method:"DELETE",params:{id:"@id"}},listByApi:{url:"/api/apigroups/:id",method:"GET",isArray:!0,params:{id:"@id",page:"@page",size:"@size"}}});return t}angular.module("portalApplicationApp").factory("ApiGroup",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/apiplans",null,{list:{method:"GET",isArray:!0},save:{method:"POST"},update:{method:"PUT"},delete:{url:"/api/apiplans/:id",method:"DELETE",params:{id:"@id"}},available:{url:"/api/apiplans/available",method:"GET",isArray:!0}});return t}angular.module("portalApplicationApp").factory("apiPlans",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/users",null,{findUsers:{method:"GET",isArray:!0},create:{url:"/api/approvals/lines",method:"POST"},list:{url:"/api/approvals/lines",method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},update:{url:"/api/approvals/lines",method:"PUT"},delete:{url:"/api/approvals/lines/:id",method:"DELETE",params:{id:"@id"}},forapp:{url:"/api/approvals/lines/:id/forapp",method:"GET",params:{id:"@id"}}});return t}angular.module("portalApplicationApp").factory("ApprovalLine",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/approvals",null,{list:{method:"GET",isArray:!0},approve:{url:"/api/approvals/:id/approve",method:"PUT",params:{id:"@id"}},deny:{url:"/api/approvals/:id/deny",method:"PUT",params:{id:"@id"}},cancel:{url:"/api/approvals/:id/cancel",method:"PUT"},mine:{url:"/api/approvals/mine",method:"GET",isArray:!0},getComment:{url:"/api/approvals/:id/comments",method:"GET",isArray:!0,params:{id:"@id"}},addComment:{url:"/api/approvals/:id/comments",method:"POST",params:{id:"@id"}},updateComment:{url:"/api/approvals/:id/comments",method:"PUT",params:{id:"@id"}},deleteComment:{url:"/api/approvals/:id/comments/:commentId",method:"DELETE",params:{id:"@id",commentId:"@commentId"}},historyList:{url:"/api/approvals/history",method:"GET",isArray:!0,params:{page:"@page",size:"@size"}},delegate:{url:"/api/approvals/:id/delegate",method:"GET"},progress:{url:"/api/approvals/:id/progress",method:"GET",isArray:!0,params:{id:"@id",commentId:"@commentId"}}});return t}angular.module("portalApplicationApp").factory("Approval",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/organizations/",null,{list:{url:"/api/organizations/:id/billingpolicies",method:"GET",isArray:!0,params:{orgId:"@id"}},create:{url:"/api/organizations/:id/billingpolicies",method:"POST",params:{orgId:"@id"}},update:{url:"/api/organizations/:orgId/billingpolicies/:id",method:"PUT",params:{id:"@id",orgId:"@orgId"}},delete:{url:"/api/organizations/:orgId/billingpolicies/:id",method:"DELETE",params:{id:"@id",orgId:"@orgId"}},showDetail:{url:"/api/organizations/:orgId/billingpolicies/:id",method:"GET",params:{id:"@id",orgId:"@orgId"}}});return t}angular.module("portalApplicationApp").factory("Billing",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/organizations/:orgId/discountpolicies",null,{list:{method:"GET",isArray:!0,params:{orgId:"@orgId"}},create:{method:"POST",params:{orgId:"@orgId"}},update:{url:"/api/organizations/:orgId/discountpolicies/:policyId",method:"PUT",params:{orgId:"@orgId",policyId:"@policyId"}},delete:{url:"/api/organizations/:orgId/discountpolicies/:policyId",method:"DELETE",params:{orgId:"@orgId",policyId:"@policyId"}}});return t}angular.module("portalApplicationApp").factory("Discount",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/clusters/:clusterId/gateways",null,{list:{method:"GET",isArray:!0,params:{clusterId:"@clusterId"}},create:{method:"POST",params:{clusterId:"@clusterId"}},update:{url:"/api/clusters/:clusterId/gateways/:gatewayId",method:"PUT",params:{clusterId:"@clusterId",gatewayId:"@gatewayId"}},delete:{url:"/api/clusters/:clusterId/gateways/:gatewayId",method:"DELETE",params:{clusterId:"@clusterId",gatewayId:"@gatewayId"}},listCluster:{url:"/api/clusters",method:"GET",isArray:!0},createCluster:{url:"/api/clusters",method:"POST"},updateCluster:{url:"/api/clusters/:clusterId",method:"PUT",params:{clusterId:"@clusterId"}},deleteCluster:{url:"/api/clusters/:clusterId",method:"DELETE",params:{clusterId:"@clusterId"}},shareCluster:{url:"/api/clusters/:clusterId/share",method:"POST",params:{clusterId:"@clusterId"}},sharingOrgs:{url:"/api/clusters/:clusterId/shared",method:"GET",isArray:!0,params:{clusterId:"@clusterId"}},listFragments:{url:"/api/clusters/:clusterId/fragments",method:"GET",isArray:!0,params:{clusterId:"@clusterId"}},healthcheck:{url:"/api/clusters/healthcheck",method:"GET",isArray:!0}});return t}angular.module("portalApplicationApp").factory("Gateway",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("/api/reports/:type/:orgType",null,{organizations:{method:"GET",params:{type:"organizations"}},apps:{method:"GET",isArray:!0,params:{type:"apps"}},apis:{method:"GET",isArray:!0,params:{type:"apis"}}})}angular.module("portalApplicationApp").factory("ReportService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("/api/organizations/:orgId/useorgs",null,{list:{method:"GET",isArray:!0,params:{orgId:"@orgId"}},update:{url:"/api/organizations/:orgId/useorgs/:useorgId/discountpolicy/:policyId",method:"GET",params:{orgId:"@orgId",useorgId:"@useorgId",policyId:"@policyId"}},findApps:{url:"/api/organizations/:orgId/useorgs/:useorgId/apps",method:"GET",isArray:!0,params:{orgId:"@orgId",useorgId:"@useorgId"}},listComments:{url:"/api/organizations/:orgId/useorgs/:useorgId/comments",method:"GET",isArray:!0,params:{orgId:"@orgId",useorgId:"@useorgId"}},createComment:{url:"/api/organizations/:orgId/useorgs/:useorgId/comments",method:"POST",params:{orgId:"@orgId",useorgId:"@useorgId"}},delComment:{url:"/api/organizations/:orgId/useorgs/:useorgId/comments/:commentId",method:"DELETE",params:{orgId:"@orgId",useorgId:"@useorgId",commentId:"@commentId"}}});return t}angular.module("portalApplicationApp").factory("UseOrgs",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/account",{},{get:{method:"GET",params:{},isArray:!1,interceptor:{response:function(e){return e}}},save:{url:"api/accountUpdate",method:"PUT",params:{},isArray:!1},withdraw:{url:"api/account/withdraw",method:"GET",params:{},isArray:!1},checkSession:{url:"api/account/checkSession",method:"GET"},resetPasswordAuth:{url:"api/account/reset_password/auth",method:"POST"},resetPasswordSend:{url:"api/account/reset_password/init/:type",method:"POST",params:{type:"@type"}},findId:{url:"api/account/find-id",method:"POST"},deleteConfirm:{url:"/api/account/delete-confirm",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},params:{loginPassword:"@loginPassword"}}})}angular.module("portalApplicationApp").factory("Account",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("api/activate",{},{get:{method:"GET",params:{},isArray:!1},checkActivateKey:{url:"api/checkActivateKey",method:"GET",params:{},isArray:!1}});return t}angular.module("portalApplicationApp").factory("Activate",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m,g){function f(e,t){var n=t||angular.noop;return u.get(e,function(e){return n(e)},function(e){return n(e)}.bind(this)).$promise}function h(e,t){var n=t||angular.noop;return u.checkActivateKey(e,function(e){return n(e)},function(e){return n(e)}.bind(this)).$promise}function v(e){function a(){var e=r.isAuthenticated();if(!e||"account"!==t.toState.parent||"login"!==t.toState.name&&"register"!==t.toState.name||n.go("home"),e&&!t.fromState.name&&O()){var a=O();I(),n.go(a.name,a.params)}t.toState.data.authorities&&t.toState.data.authorities.length>0&&!r.hasAnyAuthority(t.toState.data.authorities)&&(e?n.go("accessdenied"):(n.go("login"),E(t.toState.name,t.toStateParams))),e&&r.isDormant()&&"requestReset"!=t.toState.name&&n.go("requestReset"),e&&"change-password"!=t.toState.name&&r.hasExpiredPassword()&&n.go("change-password")}var o=r.identity(e).then(a);return o}function A(e,t,n){var a=n||angular.noop;return d.save({currentPassword:e},t,function(){return a()},function(e){return a(e)}).$promise}function y(e,t){var n=t||angular.noop;return p.save(e,function(){return n(e)},function(e){return this.logout(),n(e)}.bind(this)).$promise}function b(e,t){function n(e){return r.identity(!0).then(function(t){null!==t&&i.use(t.langKey).then(function(){i.refresh()}),s.resolve(e)}),a()}var a=t||angular.noop,s=o.defer();return l.login(e).then(n).catch(function(e){return s.reject(e),a(e)}.bind(this)),s.promise}function P(){l.logout(),r.authenticate(null),delete t.account,t.$broadcast("logout")}function w(e,t){var n=t||angular.noop;return g.save(e,function(){return n()},function(e){return n(e)}).$promise}function $(e,t){var n=t||angular.noop;return m.save(e,function(){return n()},function(e){return n(e)}).$promise}function C(e,t){var n=t||angular.noop;return s.save(e,function(){return n(e)},function(e){return n(e)}.bind(this)).$promise}function O(){var e=a.previousState;return e}function I(){delete a.previousState}function E(e,t){var n={name:e,params:t};a.previousState=n}function T(e,t){function n(e){return i.resolve(e),a()}var a=t||angular.noop,i=o.defer();return l.secondaryAuthenticateForLogin(e).then(n).catch(function(e){return i.reject(e),a(e)}.bind(this)),i.promise}return{activateAccount:f,checkActivateKey:h,authorize:v,changePassword:A,createAccount:y,getPreviousState:O,secondaryAuthenticateForLogin:T,login:b,logout:P,resetPasswordFinish:w,resetPasswordInit:$,resetPreviousState:I,storePreviousState:E,updateAccount:C}}angular.module("portalApplicationApp").factory("Auth",e),e.$inject=["CommonUtil","$rootScope","$state","$sessionStorage","$q","$translate","Principal","AuthServerProvider","Account","LoginService","Register","Activate","Password","PasswordResetInit","PasswordResetFinish"]}(),function(){"use strict";function e(e,t){function n(){var e=t.authenticationToken;return e}function a(){var e=this.getToken();return!!e}function o(t){var n="user_id="+encodeURIComponent(t.userId)+"&password="+encodeURIComponent(t.password)+"&auth_number="+t.authNumber+"&remember-me="+t.rememberMe+"&submit=Login";return e.post("api/authentication",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){return e})}function i(){e.post("api/logout").success(function(n){return delete t.authenticationToken,e.get("api/account"),n})}function r(t){var n="user_id="+encodeURIComponent(t.userId)+"&password="+encodeURIComponent(t.password);return e.post("api/login/secondary_auth",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){return e})}return{getToken:n,hasValidToken:a,secondaryAuthenticateForLogin:r,login:o,logout:i}}angular.module("portalApplicationApp").factory("AuthServerProvider",e),e.$inject=["$http","$localStorage"]}();!function(){"use strict";function e(e){function t(t,n,a){var o=a.hasAnyAuthority.replace(/\s+/g,"").split(","),i=function(){n.removeClass("hidden")},r=function(){n.addClass("hidden")},l=function(t){var n;t&&i(),n=e.hasAnyAuthority(o),n?i():r()};o.length>0&&(l(!0),t.$watch(function(){return e.isAuthenticated()},function(){l(!0)}))}var n={restrict:"A",link:t};return n}angular.module("portalApplicationApp").directive("hasAnyAuthority",e),e.$inject=["Principal"]}();!function(){"use strict";function e(e){function t(t,n,a){var o=a.hasAuthority.replace(/\s+/g,""),i=function(){n.removeClass("hidden")},r=function(){n.addClass("hidden")},l=function(t){t&&i(),e.hasAuthority(o).then(function(e){e?i():r()})};o.length>0&&(l(!0),t.$watch(function(){return e.isAuthenticated()},function(){l(!0)}))}var n={restrict:"A",link:t};return n}angular.module("portalApplicationApp").directive("hasAuthority",e),e.$inject=["Principal"]}(),function(){"use strict";function e(e){var t=e("api/account/reset_password/finish",{},{});return t}angular.module("portalApplicationApp").factory("PasswordResetFinish",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("api/account/reset_password/init",{},{});return t}angular.module("portalApplicationApp").factory("PasswordResetInit",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=e("api/account/change_password",{},{save:{method:"POST",params:{currentPassword:"@currentPassword",newPassword:"@newPassword"}}});return t}angular.module("portalApplicationApp").factory("Password",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t){function n(e){p=e,u=null!==e}function a(e){if(!u||!p||!p.authorities)return!1;for(var t=0;t<e.length;t++)if(p.authorities.indexOf(e[t])!==-1)return!0;return!1}function o(t){return u?this.identity().then(function(e){return e.authorities&&e.authorities.indexOf(t)!==-1},function(){return!1}):e.when(!1)}function i(){return p.expiredPassword}function r(){return p.dormant}function l(n){function a(e){e.data?(p=e.data,u=!0,i.resolve(p)):o()}function o(){p=null,u=!1,i.resolve(p)}var i=e.defer();return n===!0&&(p=void 0),angular.isDefined(p)?(i.resolve(p),i.promise):(t.get().$promise.then(a).catch(o),i.promise)}function s(){return u}function c(){return angular.isDefined(p)}var p,u=!1;return{authenticate:n,hasAnyAuthority:a,hasAuthority:o,identity:l,isAuthenticated:s,isIdentityResolved:c,hasExpiredPassword:i,isDormant:r}}angular.module("portalApplicationApp").factory("Principal",e),e.$inject=["$q","Account"]}(),function(){"use strict";function e(e){return e("api/register",{},{save:{method:"POST"},saveWithOrg:{url:"api/register_with_organization",method:"POST"},secondaryAuth:{url:"api/register/secondary_auth",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e){return $.param(e)}},secondaryAuthCheck:{url:"api/register/secondary_auth/check",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e){return $.param(e)}}})}angular.module("portalApplicationApp").factory("Register",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){return e("api/account/sessions/:series",{},{getAll:{method:"GET",isArray:!0}})}angular.module("portalApplicationApp").factory("Sessions",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){o.progress({id:a.id}).$promise.then(function(e){e.forEach(function(e){e.type?l.approvers.push(e):Object.keys(e).forEach(function(t){l.approvers.push(e[t])})}),l.approvers.forEach(function(e){e.typeName="ORGANIZATION"==e.type?e.typeName="기관":e.typeName="사용자",e.decision||(e.decision={name:"승인 진행 중"})})})}function r(){e.dismiss("cancel")}var l=this;l.stateParams=t,l.clear=r,l.data=a,l.approvers=[],i()}angular.module("portalApplicationApp").controller("ApproverController",e),e.$inject=["$uibModalInstance","$stateParams","$uibModal","data","Approval"]}(),function(){"use strict";function e(e,t){function n(){e.dismiss("cancel")}function a(t){e.close(t)}var o=this;o.clear=n,o.conform=a,o.items=t}angular.module("portalApplicationApp").controller("listModalController",e),e.$inject=["$uibModalInstance","items"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){"changeCaptcha"==c.items.type&&e.close("changeCaptcha"),"activate"==c.items.type&&e.close("activate"),"withdraw"==c.items.type&&e.close(!1),"withdrawConfirm"==c.items.type&&e.close("withdrawConfirm"),"modify"==c.items.type&&e.close("modify"),"register"==c.items.type&&e.close("register"),"redeploy"==c.items.type&&e.close("redeploy"),"orgDeactivate"==c.items.type&&e.close(!1),e.dismiss()}function r(){c.loginPassword?a.deleteConfirm({loginPassword:c.loginPassword},l,s):l()}function l(){c.detailComment||(c.detailComment=!0),e.close(c.detailComment)}function s(e){o.onError(e.data.description)}var c=this;c.items=t,c.messages=t.message?c.items.message.split("<br/>"):"delete"==t.type?c.items.data.concat(" 삭제하시겠습니까?").split("<br/>"):"unuse"==t.type?c.items.data.concat(" 삭제하시겠습니까?").split("<br/>"):[],c.detailComment="",c.yes=r,c.clear=i}angular.module("portalApplicationApp").controller("modalController",e),e.$inject=["$uibModalInstance","items","AlertService","Account","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(e,t){var n="";return 1==t?(L.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(L.dayLimitOption.some(function(t){
return e==t.val&&(n=t.name),e==t.val}),n)}function d(e){e.fromInfos=e.from?e.from.split(" | "):[],e.toInfos=e.to?e.to.split(" | "):[]}function m(){o.list().$promise.then(function(e){L.lineList=e,L.resetList=angular.copy(L.lineList),L.clickedlineList=[],L.availableList=[]})}function g(){n.dismiss("cancel")}function f(){e.dismiss(e.getTop().key)}function h(e){n.close(e)}function v(e){p.onError(e.data.message)}function A(){"api"==i.type?r.reqApproval({id:i.data.id},L.approval,h,v):"org"==i.type?s.reqApproval({id:i.data.id},L.approval,h,v):l.reqApproval({id:i.data.id},L.approval,h,v)}function y(e){L.lineUsers=[],L.lineUsers=e.users}function b(e,t){a.open({templateUrl:"app/services/common/select-modal.html",controller:"selectModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{items:{type:!0,data:L.approval.approvers,category:"request"}}}).result.then(function(e){P(e.users)})}function P(e){L.approval.approvers=[],e.forEach(function(e){var t=L.approval.approvers.filter(function(t){return t.id==e.id});0==t.length&&(L.approval.approvers.push(e),L.validParam=!1)})}function w(){L.api.termsOfUse&&r.getTermsContent({id:L.api.termsOfUse.id}).$promise.then(function(e){a.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){m()})})}function $(e){r.getTermsContent({id:e.termsOfUse.id}).$promise.then(function(e){a.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){m()})})}function C(){L.isbillingPoliciesOpen=!(!L.api.billingPolicy||!L.api.billingPolicy.id),L.isbillingPoliciesOpen&&a.open({templateUrl:"app/services/common/billing-policy.html",scope:t,backdrop:"static",size:"md"}),L.billingPolicytooltipIsOpen=!L.isbillingPoliciesOpen,L.billingPolicytooltipIsOpen&&$timeout(function(){L.billingPolicytooltipIsOpen=!1},100)}function O(){L.isTermsOpen=!1,L.isAppTermsOpen=!1}function I(){L.isbillingPoliciesOpen=!1}function E(e){var t={withdrawalId:e.id,password:L.loginPassword,history:!!e.history&&e.history};s.getAccountNumber(t,function(e){L.thisAccountNumber=e.accountNumber,L.loginPassword=null,L.initSearch=!1},function(t){e.isOpen=!1,v(t)})}function T(e){L.initSearch=!0,L.loginPassword="",E(e)}var L=this;L.authorities=["ROLE_APPROVAL_CREATE"],L.clear=g,L.clearTopModal=f,L.languages=null,L.request=A,L.lineView=y,L.selectUsers=b,L.isOpen=!1,L.showTermsContent=w,L.init=m,L.init(),L.closeTerm=O,L.closeBillingPolicy=I,L.showBillingPolicies=C,L.isbillingPoliciesOpen=!1,L.validParam="api"==i.type,L.showAppTermsContent=$,L.splitContents=d,L.filter=u,L.accountNumberSearch=T,L.approval={type:i.type,title:i.data.name+"  -  승인요청",comment:"",approvers:[]},L.account=t.account,L.apiplanPopover={templateUrl:"app/layouts/popover-template/apiplan-popover.html"},L.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],L.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],L.translate="api"==i.type?"apiList":"app"==i.type?"appManage":"settings","api"==i.type?L.api=i.data:"org"==i.type?(L.Org=i.data,s.changeSet({id:L.Org.id}).$promise.then(function(e){L.changeSets=e.changeSets})):(L.app=i.data,l.changeSet({id:L.app.id}).$promise.then(function(e){L.changeSets=e.changeSets})),c.getAll().then(function(e){L.languages=e}),L.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"},L.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},L.selectLine=function(){a.open({templateUrl:"app/services/common/select-approval-line-modal.html",controller:"selectApprovalLineModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{items:{data:"",type:!0}}}).result.then(function(e){P(e)})},L.accountNumberPopover={templateUrl:"app/layouts/popover-template/account-number-popover.html"}}angular.module("portalApplicationApp").controller("ReqApprovalController",e),e.$inject=["$uibModalStack","$scope","$uibModalInstance","$uibModal","ApprovalLine","selection","Api","Apps","Organization","JhiLanguageService","CommonUtil"]}(),function(){"use strict";function e(e,t,n){function a(){n.findUsers(function(e){e=e.map(function(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,login:e.login,column:"a"}}),u.availableList=e,u.clickedlineList&&u.clickedlineList.forEach(function(e,t){u.availableList=u.availableList.filter(function(t){return e.id!=t.id})})})}function o(e,t,n){n.column="b",u.clickedlineList.push(n),u.availableList.splice(t,1)}function i(e,t){u.selectedlineValue=[],u.selectedlineValue.push(t)}function r(e,t){u.clickedlineList.splice(e,1),u.availableList.push(t),t.column="a"}function l(){e.dismiss("cancel")}function s(){var a={};a.name=u.selectLine,a.users=u.clickedlineList,a.id=t.data.id,t.data?t.type?e.close(a):n.update(a,c):t.type?e.close(a):n.create(a,c)}function c(t){e.close(t)}function p(e,t){var n=$.grep(e,function(e){return e.id==t})[1];return n&&void 0!==n?n:null}var u=this;u.clear=l,u.confirm=s,u.clickedlineList=[],u.viewType=t.type,t.data&&(u.clickedlineList=t.data.users,u.selectLine=t.data.name),n.list().$promise.then(function(e){u.lineList=e}),u.selectUserList=o,u.clicklineValue=i,u.removeMember=r,u.userLoad=a,u.userLoad(),u.selectApprovalLine=function(t){e.close(t.users)},u.sortableOptions={placeholder:"app-ph",connectWith:".apps-container",start:function(e,t){},beforeStop:function(e,t){var n=p(u.availableList,t.helper[0].id);if(n){var a=t.helper.parent()[0].getAttribute("app-column");n.column!==a&&(n.column=a)}}}}angular.module("portalApplicationApp").controller("selectApprovalLineModalController",e),e.$inject=["$uibModalInstance","items","ApprovalLine"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){"apiGroup"==t.category?o.listApproved(function(e){d.sourceList=e,d.targetList&&l()}):"orgAddUsers"==t.category?(d.sourceList=angular.copy(t.data.availableUsers),d.sourceList.filter(function(e){return e.state="ACTIVE"}).forEach(function(e){e.name=e.fullName})):a.findUsers({state:"ACTIVE"},function(e){d.sourceList=e.filter(function(e){return e.name=e.fullName,!0}),d.targetList&&l()},function(e){403==e.status?i.onError("사용자 보기 권한이 없습니다."):i.onError(e.data.description)})}function l(){d.targetList.forEach(function(e,t){d.sourceList=d.sourceList.filter(function(t){return e.id!=t.id})})}function s(e,t){d.selectedlineValue=[],d.selectedlineValue.push(t)}function c(e,t){d.targetList.splice(e,1),d.sourceList.push(t)}function p(){"orgAddUsers"==t.category&&e.close("cancel"),e.dismiss()}function u(){var n={};n.name=d.itemName,"apiGroup"==t.category?(d.targetList&&(n.apis=[],d.targetList.forEach(function(e){n.apis.push({id:e.id})})),n.description=d.itemDescription,t.data?(n.call="update",n.id=t.data.id):n.call="create"):"orgAddUsers"==t.category?n.orgUsers=d.targetList:(n.users=[],angular.copy(d.targetList,n.users),t.data?(n.id=t.data.id,n.call="update"):n.call="create"),e.close(n)}var d=this;d.clear=p,d.confirm=u,d.targetList=[],d.viewType=t.type,d.items=t,d.currentAccount=n.identity().$$state.value,t.data&&(d.itemName=t.data.name,"apiGroup"==t.category?(d.targetList=angular.copy(t.data.apis),d.itemDescription=t.data.description):"approvalLine"!=t.category&&"request"!=t.category||(t.data.length>0||t.data.users)&&(t.data.users?angular.copy(t.data.users,d.targetList):angular.copy(t.data,d.targetList),d.targetList.forEach(function(e){e.name=e.fullName}))),d.clicklineValue=s,d.removeMember=c,d.userLoad=r,d.userLoad(),d.selectUserList=function(e,t,n){d.targetList.push(n),d.sourceList.splice(t,1)},d.sortableOptions={placeholder:"app-ph",connectWith:".apps-container"}}angular.module("portalApplicationApp").controller("selectModalController",e),e.$inject=["$uibModalInstance","items","Principal","ApprovalLine","Api","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){n.dismiss("cancel")}function r(t){e.account&&window.open("/files/view/"+t.id,"약관",null)}var l=this;l.close=i,l.item=a,l.iePdfviewHelpPopover={templateUrl:"/app/layouts/popover-template/ie-pdf-view-help-popover.html"},l.noFile=!!a.noFile&&a.noFile,l.fileDown=r,l.fileSize=o.fileSize,a.type?"portalTerms"==a.type?(l.flagOfPortalTerms=!0,l.noFile=!0,l.item.name=a.terms.name,t(function(){$("#termsContent").html(a.terms.content)})):"contentsManagement"==a.type&&(l.item.name=a.contents.title,l.item.kind=a.contents.kind,a.contents.sentence&&(l.item.sentences=a.contents.sentence.split("\\n")),"service-package"==a.contents.kind?(l.item.showYn="Y"==a.contents.showYn?"추천 공개":"추천 비공개",l.item.useYn="Y"==a.contents.useYn?"메뉴 공개":"메뉴 비공개"):l.item.useYn="Y"==a.contents.useYn?"공개":"비공개",t(function(){$("#termsContent").html(a.contents.contentsBody),"service-package"!=l.item.kind&&"news-stand"!=l.item.kind||$("#termsIcon").html(a.contents.contentsIcon)})):t(function(){$("#termsContent").html(a.content)})}angular.module("portalApplicationApp").controller("termsModalController",e),e.$inject=["$scope","$timeout","$uibModalInstance","item","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a){function o(e){t.account&&(window.location="/files/download/"+e.id)}function i(e){switch(e.state){case"ACTIVE":return"활성";case"INACTIVE":return"비활성";case"REGISTERING":return"등록진행중";case"WITHDRAWING":return"탈퇴진행중"}}function r(){n.dismiss("cancel")}var l=this;"USER"==a.type?l.user=a.delegate:l.partner=a.delegate,l.displayActivated=i,l.authorities=["ROLE_HASLOGIN"],l.clear=r,l.fileSize=e.fileSize,l.fileDown=o}angular.module("portalApplicationApp").controller("UserModalController",e),e.$inject=["CommonUtil","$scope","$uibModalInstance","selections"]}(),function(){"use strict";function e(e,t,n){function a(t,n,a){e.getProfileInfo().then(function(e){e.ribbonEnv&&(t.ribbonEnv=e.ribbonEnv,n.addClass(e.ribbonEnv),n.removeClass("hidden"))})}var o={replace:!0,restrict:"AE",template:'<div class="ribbon hidden"><a href="" translate="global.ribbon.{{ribbonEnv}}">{{ribbonEnv}}</a></div>',link:a};return o}angular.module("portalApplicationApp").directive("pageRibbon",e),e.$inject=["ProfileService","$rootScope","$translate"]}(),function(){"use strict";function e(e){function t(){return angular.isUndefined(n)&&(n=e.get("api/profile-info").then(function(e){if(e.data.activeProfiles){var t={};return t.activeProfiles=e.data.activeProfiles,t.ribbonEnv=e.data.ribbonEnv,t.inProduction=e.data.activeProfiles.indexOf("prod")!==-1,t.inTest=e.data.activeProfiles.indexOf("test")!==-1,t.inDev=e.data.activeProfiles.indexOf("dev")!==-1,t.swaggerEnabled=e.data.activeProfiles.indexOf("swagger")!==-1,t.emailEnabled=e.data.emailEnabled,t.loginSecondaryAuth=e.data.loginSecondaryAuth,t}})),n}var n;return{getProfileInfo:t}}angular.module("portalApplicationApp").factory("ProfileService",e),e.$inject=["$http"]}(),angular.module("swaggerUi",["ng"]).directive("swaggerUi",["$injector",function(e){return{restrict:"A",controller:"swaggerUiController",templateUrl:function(e,t){return t.templateUrl||"templates/swagger-ui.html"},scope:{url:"=?",parser:"@?",loading:"=?",permalinks:"=?",apiExplorer:"=?",errorHandler:"=?",trustedSources:"=?",validatorUrl:"@?",inputType:"@?",input:"=?"},link:function(t){t.trustedSources||e.has("$sanitize")||console.warn("AngularSwaggerUI: You must use ngSanitize OR set trusted-sources=true as directive param if swagger specifications are loaded from trusted sources"),void 0===t.validatorUrl&&(t.validatorUrl="http://online.swagger.io/validator")}}}]).controller("swaggerUiController",["$scope","$http","$location","$anchorScroll","$timeout","swaggerClient","swaggerModules","swaggerTranslator",function(e,t,n,a,o,i,r,l){function s(n,a){e.loading=!0;var o={method:"GET",url:n};r.execute(r.BEFORE_LOAD,o).then(function(){t(o).then(a).catch(function(e){u({code:e.status,message:e.data})})}).catch(u)}function c(t,n){e.loading=!1;var a={};e.parser=e.parser||"auto",r.execute(r.PARSE,e.parser,t,n,f,e.trustedSources,a).then(function(e){e?(a.transformSwagger&&(f=a.transformSwagger,delete a.transformSwagger),p(a)):u({code:415,message:l.translate("errorNoParserFound",{type:n,version:f.swagger})})}).catch(u)}function p(t){r.execute(r.BEFORE_DISPLAY,t).then(function(){e.infos=t.infos,e.form=t.form,e.resources=t.resources,e.permalinks&&o(function(){a()},100)}).catch(u)}function u(t){e.loading=!1,"function"==typeof e.errorHandler?e.errorHandler(t.message,t.code):console.error(t.code,"AngularSwaggerUI: "+t.message)}function d(){e.$watch("input",function(t){e.infos={},e.resources=[],e.form={},t&&(f=angular.copy(t),c(null,"application/"+e.inputType))})}function m(t){e.$watch(t,function(t){if(e.infos={},e.resources=[],e.form={},t&&""!==t){if(e.loading,e.validatorUrl&&0!==t.indexOf("http"))return void(e.url=g(t));s(t,function(e){f=e.data,r.execute(r.BEFORE_PARSE,t,f).then(function(){var n=e.headers()["content-type"]||"application/json",a=n.split(";")[0];c(t,a)}).catch(u)})}})}function g(e){var t=document.createElement("a");return t.href=e,t.href}var f;switch(e.inputType){case"json":case"yaml":e.validatorUrl=!1,d();break;case"url":m("input");break;default:m("url")}e.expand=function(e,t){e.open=!0;for(var n=0,a=e.operations,o=a.length;n<o;n++)a[n].open=t},e.permalink=function(t){e.permalinks&&(n.hash(t),o(function(){a()},50))},e.submitExplorer=function(t){t.loading=!0,i.send(f,t,e.form[t.id],e.$parent.httpHeaders).then(function(e){t.loading=!1,t.explorerResult=e})},e.auth=function(e){for(var t,n,a=0,o=[],i=e.security;a<i.length;a++){t=i[a];for(n in t)o.push(f.securityDefinitions[n])}r.execute(r.AUTH,f,e,o).catch(u)},e.authValid=function(e){for(var t,n,a,o=0,i=e.security;o<i.length;o++){t=i[o];for(a in t)if(n=f.securityDefinitions[a],n.valid)return e.authParams=n,e.authParams.scopes=t[a],!0}return!1},e.getSourceCode=function(n,a){for(var o,i=e.form[n.id],r={},l={},s=n.path,c=0,p=n.parameters||[],d=p.length;c<d;c++){var m=p[c],g=i[m.name];switch(m.in){case"query":g&&(r[m.name]=g);break;case"path":s=s.replace("{"+m.name+"}",encodeURIComponent(g));break;case"header":g&&(l[m.name]=g);break;case"formData":o=o||new FormData,g&&("file"===m.type&&(i.contentType=void 0),o.append(m.name,g));break;case"body":o=o||g}}var h=n.authParams;if(h)switch(h.type){case"apiKey":switch(h.in){case"header":l[h.name]=h.apiKey;break;case"query":r[h.name]=h.apiKey}break;case"basic":l.Authorization="Basic "+btoa(h.login+":"+h.password)}l.Accept=i.responseType,l["Content-Type"]=o?i.contentType:"text/plain",e.$parent.httpHeaders&&e.$parent.httpHeaders.forEach(function(e){l[e.key]=e.value});var v=f.basePath||"",A=[f.schemes[0],"://",f.host,v.length>0&&"/"===v.substring(v.length-1)?v.slice(0,-1):v].join(""),y={url:A+s,method:n.httpMethod,headers:l,data:o,params:r,lang:a,operation:n};n.source_code="";var b={method:"POST",url:"/api/swagger/code/generate",data:y};t(b).then(function(e){n.source_code=e.data.result;for(var t=document.getElementsByClassName("prettyprinted"),a=0;a<t.length;a++)angular.element(t[a]).removeClass("prettyprinted");prettyPrint()},function(e){}).catch(function(e){u({code:e.status,message:e.data})})}}]).directive("fileInput",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){t.bind("change",function(){e.$apply(function(){a.$setViewValue(t[0].files[0])})})}}}),angular.module("swaggerUi").service("swaggerClient",["$q","$http","swaggerModules",function(e,t,n){function a(e,t){var n="",a=t.data,o=t.config;if(o.params){var i=[];for(var r in o.params)i.push(r+"="+encodeURIComponent(o.params[r]));i.length>0&&(n="?"+i.join("&"))}e.resolve({url:o.url+n,response:{body:a?angular.isString(a)?a:angular.toJson(a,!0):"no content",status:t.status,headers:angular.toJson(t.headers(),!0)}})}this.send=function(o,i,r,l){for(var s,c=e.defer(),p={},u={},d=i.path,m=0,g=i.parameters||[],f=g.length;m<f;m++){var h=g[m],v=r[h.name];switch(h.in){case"query":v&&(p[h.name]=v);break;case"path":d=d.replace("{"+h.name+"}",encodeURIComponent(v));break;case"header":v&&(u[h.name]=v);break;case"formData":s=s||new FormData,v&&("file"===h.type&&(r.contentType=void 0),s.append(h.name,v));break;case"body":s=s||v}}var A=i.authParams;if(A)switch(A.type){case"apiKey":switch(A.in){case"header":u[A.name]=A.apiKey;break;case"query":p[A.name]=A.apiKey}break;case"basic":u.Authorization="Basic "+btoa(A.login+":"+A.password)}u.Accept=r.responseType,u["Content-Type"]=s?r.contentType:"text/plain",l&&l.forEach(function(e){u[e.key]=e.value});var y=o.basePath||"",b=[o.schemes[0],"://",o.host,y.length>0&&"/"===y.substring(y.length-1)?y.slice(0,-1):y].join(""),P={method:i.httpMethod,url:b+d,headers:u,data:s,params:p},w=function(e){var e={data:e.data,status:e.status,headers:e.headers,config:e.config};e.config.url=$,n.execute(n.AFTER_EXPLORER_LOAD,e).then(function(){a(c,e)})},$=P.url;return P.url="/api/swagger/proxy/call-api",u["original-url"]=$,n.execute(n.BEFORE_EXPLORER_LOAD,P).then(function(){t(P).then(w).catch(w)}),c.promise}}]),angular.module("swaggerUi").service("swaggerModel",["swaggerTranslator",function(e){function t(e){var t=e.$ref.split("/");return t[t.length-1]}function n(e,t){return t.allOf&&(angular.forEach(t.allOf,function(n){angular.merge(t,l(e,n))}),delete t.allOf),t}function a(e,t,r){var s,c,p,u;if(r=r||{},t=n(e,t),t.default||t.example)s=t.default||t.example;else if(t.properties){s={};for(p in t.properties)u=t.properties[p],s[p]=a(e,u.schema||u,r)}else t.additionalProperties?(c=l(e,t.additionalProperties),s={string:a(e,c,r)}):t.$ref?(c=l(e,t),c?(i[t.$ref]||r[t.$ref]||(r[t.$ref]=!0,i[t.$ref]=a(e,c,r)),s=i[t.$ref]||{}):(console.warn("schema not found",t.$ref),s=t.$ref)):s="array"===t.type?[a(e,t.items,r)]:"object"===t.type?{}:t.defaultValue||t.example||o(t);return s}function o(e){var t,n=s(e);switch(n){case"long":case"integer":t=0;break;case"boolean":t=!1;break;case"float":case"double":case"number":t=0;break;case"string":case"byte":case"binary":case"password":t="string",e.enum&&e.enum.length>0&&(t=e.enum[0]);break;case"date":t=(new Date).toISOString().split("T")[0];break;case"date-time":t=(new Date).toISOString()}return t}var i={},r={},l=this.resolveReference=function(e,t){if(t.$ref){var n=t.$ref.replace("#/","").split("/");t=e;for(var a=0,o=n.length;a<o;a++)t=t[n[a]]}return t},s=this.getType=function(e){var t=e.format;switch(t){case"int32":t=e.type;break;case"int64":t="long"}return t||e.type};this.generateSampleJson=function(e,t){var n,o=a(e,t);return o&&(n=angular.toJson(o,!0)),n};var c=0,p=this.generateModel=function(a,o,i,u){function d(e,t){return e.required&&e.required.indexOf(t)!==-1}function m(){var e="Inline Model";return c>0&&(e+=c),c++,e}var g,f,h,v,A,y,b,P,w="",$=!1;if(u=u||{},o=n(a,o),o.properties){i=i||m(),u[i]=!0,g=["<div><strong>"+i+" {</strong>"],f=[];for(h in o.properties)$=!0,v=o.properties[h],g.push('<div class="pad"><strong>',h,'</strong> (<span class="type">'),v.properties?(A=m(),g.push(A),f.push(p(a,v,A,u))):v.schema||v.$ref?(g.push(t(v.schema||v)),f.push(p(a,v.schema||v,null,u))):"array"===v.type?(g.push("Array["),v.items.properties?(A=m(),g.push(A),f.push(p(a,v,A,u))):v.items.$ref?(g.push(t(v.items)),f.push(p(a,v.items,null,u))):g.push(s(v.items)),g.push("]")):g.push(s(v)),g.push("</span>"),d(o,h)||g.push(", ","<em>"+e.translate("modelOptional")+"</em>"),g.push(")"),v.description&&g.push(": ",v.description),v.enum&&g.push(" = ",angular.toJson(v.enum).replace(/,/g,e.translate("modelOr"))),g.push(",</div>");$&&(g.pop(),g.push("</div>")),g.push("<div><strong>}</strong></div>"),g.push(f.join(""),"</div>"),w=g.join("")}else if(o.additionalProperties);else if(o.$ref){if(y=t(o),b=l(a,o),u[y])return"";b&&(r[o.$ref]||(r[o.$ref]=p(a,b,y,u)),u[y]=!0,w=r[o.$ref])}else"array"===o.type?(g=["<strong>Array ["],P="",o.items.properties?(A=m(),g.push(A),P=p(a,o.items,A,u)):o.items.$ref?(g.push(t(o.items)),P=p(a,o.items,null,u)):g.push(s(o.items)),g.push("]</strong><br><br>",P),w=g.join("")):"object"===o.type&&(A=i||m(),w="<strong>"+A+" {<br>}</strong>");return w};this.clearCache=function(){i={},r={}}}]),angular.module("swaggerUi").service("swaggerModules",["$q",function(e){function t(e,n,a,o){var i=n.shift();i?i.execute.apply(i,a).then(function(i){o=o||i,t(e,n,a,o)}).catch(e.reject):e.resolve(o)}var n={};this.AUTH="AUTH",this.BEFORE_LOAD="BEFORE_LOAD",this.BEFORE_PARSE="BEFORE_PARSE",this.PARSE="PARSE",this.BEFORE_DISPLAY="BEFORE_DISPLAY",this.BEFORE_EXPLORER_LOAD="BEFORE_EXPLORER_LOAD",this.AFTER_EXPLORER_LOAD="AFTER_EXPLORER_LOAD",this.BEFORE_CONVERT="BEFORE_CONVERT",this.add=function(e,t){n[e]||(n[e]=[]),n[e].indexOf(t)<0&&n[e].push(t)},this.execute=function(){var a=Array.prototype.slice.call(arguments),o=a.splice(0,1),i=e.defer(),r=n[o]||[];return t(i,[].concat(r),a),i.promise}}]),angular.module("swaggerUi").service("swaggerParser",["$q","$sce","$location","swaggerModel","swaggerTranslator",function(e,t,n,a,o){function i(e,t,a,o){var i={},c={},p=[],u=e.info,d=n.hash(),g="application/json",f=!e.tags;v=0,A=0,r(e,t,u,g),l(e,p,i),s(e,p,c,i,g,d),m(p,d,f),o.infos=u,o.resources=p,o.form=c,a.resolve(!0)}function r(e,t,n,a){var o=angular.element('<a href="'+t+'"></a>')[0];e.schemes=[e.schemes&&e.schemes[0]||o.protocol.replace(":","")],e.host=e.host||o.host,e.consumes=e.consumes||[a],e.produces=e.produces||[a],n.scheme=e.schemes[0],n.basePath=e.basePath,n.host=e.host,n.description=g(n.description),n.externalDocs=e.externalDocs}function l(e,t,n){var a,o,i;if(e.tags)for(a=0,o=e.tags.length;a<o;a++)i=e.tags[a],t.push(i),n[i.name]=a;else t.push({name:"default",open:!0}),n.default=0}function s(e,t,n,a,o,i){var r,l,s,c,d,m,f,h;for(l in e.paths){s=e.paths[l],c=s.parameters||[],delete s.parameters;for(d in s)for(m=s[d],m.description=g(m.description),m.produces=m.produces||e.produces,n[v]={responseType:m.produces&&m.produces[0]||o},m.httpMethod=d,m.path=l,m.security=m.security||e.security,p(e,m,c,n,o),u(e,m),m.tags=m.tags||["default"],r=0;r<m.tags.length;r++)f=m.tags[r],"undefined"==typeof a[f]&&(a[f]=t.length,t.push({name:f})),h=t[a[f]],h.operations=h.operations||[],m.id=v++,m.open=i&&i===m.operationId||i===h.name+"*",h.operations.push(angular.copy(m)),m.open&&(h.open=!0)}}function c(e,t,n){var o,i,r,l,s,c,p,u=n.parameters||[],d=[].concat(u);for(o=0,l=t.length;o<l;o++){for(s=!1,c=a.resolveReference(e,t[o]),i=0,r=u.length;i<r;i++)if(p=a.resolveReference(e,u[i]),c.name===p.name&&c.in===p.in){s=!0;break}s||d.push(c)}return d}function p(e,n,o,i,r){var l,s,p,u=n.parameters=c(e,o,n);for(l=0,s=u.length;l<s;l++)p=u[l]=a.resolveReference(e,u[l]),p.id=A,p.type=a.getType(p),p.description=g(p.description),p.items&&p.items.enum&&(p.enum=p.items.enum,p.default=p.items.default),p.subtype=p.enum?"enum":p.type,i[v][p.name]=p.default||"",p.schema&&(p.schema.display=1,p.schema.json=a.generateSampleJson(e,p.schema),p.schema.model=t.trustAsHtml(a.generateModel(e,p.schema))),"body"!==p.in&&"formData"!==p.in||(n.consumes=n.consumes||e.consumes,i[v].contentType=n.consumes&&n.consumes[0]||r),A++}function u(e,n){var o,i,r;if(n.responses)for(o in n.responses)i=n.responses[o]=a.resolveReference(e,n.responses[o]),i.description=g(i.description),i.schema?(r=i.examples&&i.examples[n.produces[0]]?angular.toJson(i.examples[n.produces[0]],!0):a.generateSampleJson(e,i.schema),i.schema.json=r,"object"===i.schema.type||"array"===i.schema.type||i.schema.$ref?(i.display=1,i.schema.model=t.trustAsHtml(a.generateModel(e,i.schema))):"string"===i.schema.type&&delete i.schema,"200"===o||"201"===o?(n.responseClass=i,n.responseClass.display=1,n.responseClass.status=o,d(e,n,i),delete n.responses[o]):n.hasResponses=!0):n.hasResponses=!0}function d(e,t,n){if(n.headers){t.headers=n.headers;for(var o in t.headers){var i=t.headers[o];i.type=a.getType(i),"array"===i.type&&(i.type="Array["+a.getType(i.items)+"]"),i.description=g(i.description)}delete n.headers}}function m(e,t,n){var o,i,r;for(o=0;o<e.length;o++)i=e[o],r=e[o].operations,i.open=i.open||t===i.name||t===i.name+"*",(!r||r&&0===r.length)&&e.splice(o--,1);n&&e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),a.clearCache()}function g(e){var n=e;return"string"==typeof e&&h&&(n=t.trustAsHtml(f(e))),n}function f(e){return e.replace(/&/g,"&amp;").replace(/<([^\/a-zA-Z])/g,"&lt;$1").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var h,v,A;this.execute=function(t,n,a,r,l,s){var c=e.defer();if("2.0"===r.swagger&&("json"===t||"auto"===t&&"application/json"===a)){h=l;try{i(r,n,c,s)}catch(e){c.reject({code:500,message:o.translate("errorParseFailed",e)})}}else c.resolve(!1);return c.promise}}]).run(["swaggerModules","swaggerParser",function(e,t){e.add(e.PARSE,t)}]),angular.module("swaggerUi").provider("swaggerTranslator",function(){var e="en",t={};this.setLanguage=function(t){return e=t,this},this.addTranslations=function(e,n){var a=t[e]=t[e]||{};return angular.merge(a,n),this},this.$get=["$rootScope","$interpolate",function(n,a){return{useLanguage:function(a){"undefined"==typeof t[a]&&console.error("AngularSwaggerUI: No translations found for language "+a),e=a,n.$emit("swaggerTranslateLangChanged")},translate:function(n,o){return e&&t&&t[e]&&t[e][n]?a(t[e][n])(o):n},language:function(){return e}}}]}).directive("swaggerTranslate",["$rootScope","$parse","swaggerTranslator",function(e,t,n){return{restrict:"A",link:function(a,o,i){function r(){var e;i.swaggerTranslateValue&&(e=t(i.swaggerTranslateValue)(a.$parent)),o.text(n.translate(i.swaggerTranslate,e))}var l=e.$on("swaggerTranslateLangChanged",function(){r()});a.$on("$destroy",l),r()}}}]).filter("swaggerTranslate",["swaggerTranslator",function(e){var t=function(t,n){return e.translate(t,n)};return t.$stateful=!0,t}]),angular.module("swaggerUi").config(["swaggerTranslatorProvider",function(e){e.addTranslations("ko",{appTitle:"API Testbed",infoContactCreatedBy:"작성자 {{name}}",infoContactUrl:"URL",infoContactEmail:"이메일",infoLicense:"라이센스: ",infoBaseUrl:"Base URL",infoApiVersion:"API 버전",infoHost:"호스트",endPointToggleOperations:"보이기/숨기기",endPointListOperations:"엔드포인트 목록",endPointExpandOperations:"엔드포인트 전체 보기",operationDeprected:"Warning: Deprecated",operationImplementationNotes:"기능 설명",externalDocs:"외부 문서",headers:"응답 헤더",headerName:"헤더",headerDescription:"설명",headerType:"헤더 타입",parameters:"파라미터",parameterName:"파라미터",parameterValue:"값",parameterDescription:"설명",parameterType:"파라미터 타입",parameterDataType:"데이터 타입",parameterOr:" 또는 ",parameterRequired:"(필수)",parameterModel:"모델",parameterSchema:"모델 스키마",parameterContentType:"파라미터 컨텐트 타입",parameterDefault:"{{default}} (기본)",parameterSetValue:"파라미터로 지정하려면 클릭",responseClass:"응답　클래스 (상태 {{status}})",responseModel:"모델",responseSchema:"모델 스키마",responseContentType:"응답 컨텐트 타입",responses:"응답 메시지",responseCode:"HTTP 응답 코드",responseReason:"사유",responseHide:"응답 숨기기",modelOptional:"선택사항",modelOr:" 또는 ",explorerUrl:"요청 URL",explorerBody:"응답 바디",explorerCode:"응답 코드",explorerHeaders:"응답 헤더",explorerLoading:"로딩 중...",explorerTryIt:"요청하기!",errorNoParserFound:"No parser found for Swagger specification of type {{type}} and version {{version}}",errorParseFailed:"Swagger스펙 파싱에 실패하였습니다. : {{message}}",errorJsonParse:"JSON 파싱에 실패하였습니다.",errorNoYamlParser:"YAML파서를 찾지 못하였습니다.js-yaml library를 추가해 주세요.",authRequired:"인증이 필요로 합니다.",authAvailable:"Available authorizations",apiKey:"API key authorization",authParamName:"Name",authParamType:"In",authParamValue:"Value",basic:"Basic authorization",authLogin:"Login",authPassword:"Password",oauth2:"oAuth2 authorization",authOAuthDesc:"Scopes are used to grant an application different levels of access to data on behalf of the end user. Each API may declare one or more scopes. API requires the following scopes. Select which ones you want to grant.",authAuthorizationUrl:"Authorization URL",authFlow:"Flow",authTokenUrl:"Token URL",authScopes:"Scopes",authCancel:"Cancel",authAuthorize:"Authorize",generateSourceCode:"Sample Code 생성"})}]),angular.module("swaggerUi",["ng"]).directive("swaggerUi",["$injector",function(e){return{restrict:"A",controller:"swaggerUiController",templateUrl:function(e,t){return t.templateUrl||"templates/swagger-ui.html"},scope:{url:"=?",parser:"@?",loading:"=?",permalinks:"=?",apiExplorer:"=?",errorHandler:"=?",trustedSources:"=?",validatorUrl:"@?",inputType:"@?",input:"=?"},link:function(t){t.trustedSources||e.has("$sanitize")||console.warn("AngularSwaggerUI: You must use ngSanitize OR set trusted-sources=true as directive param if swagger specifications are loaded from trusted sources"),void 0===t.validatorUrl&&(t.validatorUrl="http://online.swagger.io/validator")}}}]).controller("swaggerUiController",["$scope","$http","$location","$anchorScroll","$timeout","swaggerClient","swaggerModules","swaggerTranslator",function(e,t,n,a,o,i,r,l){function s(n,a){e.loading=!0;var o={method:"GET",url:n};r.execute(r.BEFORE_LOAD,o).then(function(){t(o).then(a).catch(function(e){u({code:e.status,message:e.data})})}).catch(u)}function c(t,n){e.loading=!1;var a={};e.parser=e.parser||"auto",r.execute(r.PARSE,e.parser,t,n,f,e.trustedSources,a).then(function(e){e?(a.transformSwagger&&(f=a.transformSwagger,delete a.transformSwagger),p(a)):u({code:415,message:l.translate("errorNoParserFound",{type:n,version:f.swagger})})}).catch(u)}function p(t){r.execute(r.BEFORE_DISPLAY,t).then(function(){e.infos=t.infos,e.form=t.form,e.resources=t.resources,e.permalinks&&o(function(){a()},100)}).catch(u)}function u(t){e.loading=!1,"function"==typeof e.errorHandler?e.errorHandler(t.message,t.code):console.error(t.code,"AngularSwaggerUI: "+t.message)}function d(){e.$watch("input",function(t){e.infos={},e.resources=[],e.form={},t&&(f=angular.copy(t),c(null,"application/"+e.inputType))})}function m(t){e.$watch(t,function(t){if(e.infos={},e.resources=[],e.form={},t&&""!==t){if(e.loading,e.validatorUrl&&0!==t.indexOf("http"))return void(e.url=g(t));s(t,function(e){f=e.data,r.execute(r.BEFORE_PARSE,t,f).then(function(){var n=e.headers()["content-type"]||"application/json",a=n.split(";")[0];c(t,a)}).catch(u)})}})}function g(e){var t=document.createElement("a");return t.href=e,t.href}var f;switch(e.inputType){case"json":case"yaml":e.validatorUrl=!1,d();break;case"url":m("input");break;default:m("url")}e.expand=function(e,t){e.open=!0;for(var n=0,a=e.operations,o=a.length;n<o;n++)a[n].open=t},e.permalink=function(t){e.permalinks&&(n.hash(t),o(function(){a()},50))},e.submitExplorer=function(t){t.loading=!0,i.send(f,t,e.form[t.id]).then(function(e){t.loading=!1,t.explorerResult=e})},e.auth=function(e){for(var t,n,a=0,o=[],i=e.security;a<i.length;a++){t=i[a];for(n in t)o.push(f.securityDefinitions[n])}r.execute(r.AUTH,e,o).catch(u)},e.authValid=function(e){for(var t,n,a,o=0,i=e.security;o<i.length;o++){t=i[o];for(a in t)if(n=f.securityDefinitions[a],n.valid)return e.authParams=n,e.authParams.scopes=t[a],!0}return!1}}]).directive("fileInput",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){t.bind("change",function(){e.$apply(function(){a.$setViewValue(t[0].files[0])})})}}}),angular.module("swaggerUi").service("swaggerClient",["$q","$http","swaggerModules",function(e,t,n){function a(e,t){var n="",a=t.data,o=t.config;if(o.params){var i=[];for(var r in o.params)i.push(r+"="+encodeURIComponent(o.params[r]));i.length>0&&(n="?"+i.join("&"))}e.resolve({url:o.url+n,response:{body:a?angular.isString(a)?a:angular.toJson(a,!0):"no content",status:t.status,headers:angular.toJson(t.headers(),!0)}})}this.send=function(o,i,r){for(var l,s=e.defer(),c={},p={},u=i.path,d=0,m=i.parameters||[],g=m.length;d<g;d++){var f=m[d],h=r[f.name];switch(f.in){case"query":h&&(c[f.name]=h);break;case"path":u=u.replace("{"+f.name+"}",encodeURIComponent(h));break;case"header":h&&(p[f.name]=h);break;case"formData":l=l||new FormData,h&&("file"===f.type&&(r.contentType=void 0),l.append(f.name,h));break;case"body":l=l||h}}var v=i.authParams;if(v)switch(v.type){case"apiKey":switch(v.in){case"header":p[v.name]=v.apiKey;break;case"query":c[v.name]=v.apiKey;
}break;case"basic":p.Authorization="Basic "+btoa(v.login+":"+v.password)}p.Accept=r.responseType,p["Content-Type"]=l?r.contentType:"text/plain";var A=o.basePath||"",y=[o.schemes[0],"://",o.host,A.length>0&&"/"===A.substring(A.length-1)?A.slice(0,-1):A].join(""),b={method:i.httpMethod,url:y+u,headers:p,data:l,params:c},P=function(e){var e={data:e.data,status:e.status,headers:e.headers,config:e.config};n.execute(n.AFTER_EXPLORER_LOAD,e).then(function(){a(s,e)})};return n.execute(n.BEFORE_EXPLORER_LOAD,b).then(function(){t(b).then(P).catch(P)}),s.promise}}]),angular.module("swaggerUi").service("swaggerModel",["swaggerTranslator",function(e){function t(e){var t=e.$ref.split("/");return t[t.length-1]}function n(e,t){return t.allOf&&(angular.forEach(t.allOf,function(n){angular.merge(t,l(e,n))}),delete t.allOf),t}function a(e,t,r){var s,c,p,u;if(r=r||{},t=n(e,t),t.default||t.example)s=t.default||t.example;else if(t.properties){s={};for(p in t.properties)u=t.properties[p],s[p]=a(e,u.schema||u,r)}else t.additionalProperties?(c=l(e,t.additionalProperties),s={string:a(e,c,r)}):t.$ref?(c=l(e,t),c?(i[t.$ref]||r[t.$ref]||(r[t.$ref]=!0,i[t.$ref]=a(e,c,r)),s=i[t.$ref]||{}):(console.warn("schema not found",t.$ref),s=t.$ref)):s="array"===t.type?[a(e,t.items,r)]:"object"===t.type?{}:t.defaultValue||t.example||o(t);return s}function o(e){var t,n=s(e);switch(n){case"long":case"integer":t=0;break;case"boolean":t=!1;break;case"float":case"double":case"number":t=0;break;case"string":case"byte":case"binary":case"password":t="string",e.enum&&e.enum.length>0&&(t=e.enum[0]);break;case"date":t=(new Date).toISOString().split("T")[0];break;case"date-time":t=(new Date).toISOString()}return t}var i={},r={},l=this.resolveReference=function(e,t){if(t.$ref){var n=t.$ref.replace("#/","").split("/");t=e;for(var a=0,o=n.length;a<o;a++)t=t[n[a]]}return t},s=this.getType=function(e){var t=e.format;switch(t){case"int32":t=e.type;break;case"int64":t="long"}return t||e.type};this.generateSampleJson=function(e,t){var n,o=a(e,t);return o&&(n=angular.toJson(o,!0)),n};var c=0,p=this.generateModel=function(a,o,i,u){function d(e,t){return e.required&&e.required.indexOf(t)!==-1}function m(){var e="Inline Model";return c>0&&(e+=c),c++,e}var g,f,h,v,A,y,b,P,w="",$=!1;if(u=u||{},o=n(a,o),o.properties){i=i||m(),u[i]=!0,g=["<div><strong>"+i+" {</strong>"],f=[];for(h in o.properties)$=!0,v=o.properties[h],g.push('<div class="pad"><strong>',h,'</strong> (<span class="type">'),v.properties?(A=m(),g.push(A),f.push(p(a,v,A,u))):v.schema||v.$ref?(g.push(t(v.schema||v)),f.push(p(a,v.schema||v,null,u))):"array"===v.type?(g.push("Array["),v.items.properties?(A=m(),g.push(A),f.push(p(a,v,A,u))):v.items.$ref?(g.push(t(v.items)),f.push(p(a,v.items,null,u))):g.push(s(v.items)),g.push("]")):g.push(s(v)),g.push("</span>"),d(o,h)||g.push(", ","<em>"+e.translate("modelOptional")+"</em>"),g.push(")"),v.description&&g.push(": ",v.description),v.enum&&g.push(" = ",angular.toJson(v.enum).replace(/,/g,e.translate("modelOr"))),g.push(",</div>");$&&(g.pop(),g.push("</div>")),g.push("<div><strong>}</strong></div>"),g.push(f.join(""),"</div>"),w=g.join("")}else if(o.additionalProperties);else if(o.$ref){if(y=t(o),b=l(a,o),u[y])return"";b&&(r[o.$ref]||(r[o.$ref]=p(a,b,y,u)),u[y]=!0,w=r[o.$ref])}else"array"===o.type?(g=["<strong>Array ["],P="",o.items.properties?(A=m(),g.push(A),P=p(a,o.items,A,u)):o.items.$ref?(g.push(t(o.items)),P=p(a,o.items,null,u)):g.push(s(o.items)),g.push("]</strong><br><br>",P),w=g.join("")):"object"===o.type&&(A=i||m(),w="<strong>"+A+" {<br>}</strong>");return w};this.clearCache=function(){i={},r={}}}]),angular.module("swaggerUi").service("swaggerModules",["$q",function(e){function t(e,n,a,o){var i=n.shift();i?i.execute.apply(i,a).then(function(i){o=o||i,t(e,n,a,o)}).catch(e.reject):e.resolve(o)}var n={};this.AUTH="AUTH",this.BEFORE_LOAD="BEFORE_LOAD",this.BEFORE_PARSE="BEFORE_PARSE",this.PARSE="PARSE",this.BEFORE_DISPLAY="BEFORE_DISPLAY",this.BEFORE_EXPLORER_LOAD="BEFORE_EXPLORER_LOAD",this.AFTER_EXPLORER_LOAD="AFTER_EXPLORER_LOAD",this.BEFORE_CONVERT="BEFORE_CONVERT",this.add=function(e,t){n[e]||(n[e]=[]),n[e].indexOf(t)<0&&n[e].push(t)},this.execute=function(){var a=Array.prototype.slice.call(arguments),o=a.splice(0,1),i=e.defer(),r=n[o]||[];return t(i,[].concat(r),a),i.promise}}]),angular.module("swaggerUi").service("swaggerParser",["$q","$sce","$location","swaggerModel","swaggerTranslator",function(e,t,n,a,o){function i(e,t,a,o){var i={},c={},p=[],u=e.info,d=n.hash(),g="application/json",f=!e.tags;v=0,A=0,r(e,t,u,g),l(e,p,i),s(e,p,c,i,g,d),m(p,d,f),o.infos=u,o.resources=p,o.form=c,a.resolve(!0)}function r(e,t,n,a){var o=angular.element('<a href="'+t+'"></a>')[0];e.schemes=[e.schemes&&e.schemes[0]||o.protocol.replace(":","")],e.host=e.host||o.host,e.consumes=e.consumes||[a],e.produces=e.produces||[a],n.scheme=e.schemes[0],n.basePath=e.basePath,n.host=e.host,n.description=g(n.description),n.externalDocs=e.externalDocs}function l(e,t,n){var a,o,i;if(e.tags)for(a=0,o=e.tags.length;a<o;a++)i=e.tags[a],t.push(i),n[i.name]=a;else t.push({name:"default",open:!0}),n.default=0}function s(e,t,n,a,o,i){var r,l,s,c,d,m,f,h;for(l in e.paths){s=e.paths[l],c=s.parameters||[],delete s.parameters;for(d in s)for(m=s[d],m.description=g(m.description),m.produces=m.produces||e.produces,n[v]={responseType:m.produces&&m.produces[0]||o},m.httpMethod=d,m.path=l,m.security=m.security||e.security,p(e,m,c,n,o),u(e,m),m.tags=m.tags||["default"],r=0;r<m.tags.length;r++)f=m.tags[r],"undefined"==typeof a[f]&&(a[f]=t.length,t.push({name:f})),h=t[a[f]],h.operations=h.operations||[],m.id=v++,m.open=i&&i===m.operationId||i===h.name+"*",h.operations.push(angular.copy(m)),m.open&&(h.open=!0)}}function c(e,t,n){var o,i,r,l,s,c,p,u=n.parameters||[],d=[].concat(u);for(o=0,l=t.length;o<l;o++){for(s=!1,c=a.resolveReference(e,t[o]),i=0,r=u.length;i<r;i++)if(p=a.resolveReference(e,u[i]),c.name===p.name&&c.in===p.in){s=!0;break}s||d.push(c)}return d}function p(e,n,o,i,r){var l,s,p,u=n.parameters=c(e,o,n);for(l=0,s=u.length;l<s;l++)p=u[l]=a.resolveReference(e,u[l]),p.id=A,p.type=a.getType(p),p.description=g(p.description),p.items&&p.items.enum&&(p.enum=p.items.enum,p.default=p.items.default),p.subtype=p.enum?"enum":p.type,i[v][p.name]=p.default||"",p.schema&&(p.schema.display=1,p.schema.json=a.generateSampleJson(e,p.schema),p.schema.model=t.trustAsHtml(a.generateModel(e,p.schema))),"body"!==p.in&&"formData"!==p.in||(n.consumes=n.consumes||e.consumes,i[v].contentType=n.consumes&&n.consumes[0]||r),A++}function u(e,n){var o,i,r;if(n.responses)for(o in n.responses)i=n.responses[o]=a.resolveReference(e,n.responses[o]),i.description=g(i.description),i.schema?(r=i.examples&&i.examples[n.produces[0]]?angular.toJson(i.examples[n.produces[0]],!0):a.generateSampleJson(e,i.schema),i.schema.json=r,"object"===i.schema.type||"array"===i.schema.type||i.schema.$ref?(i.display=1,i.schema.model=t.trustAsHtml(a.generateModel(e,i.schema))):"string"===i.schema.type&&delete i.schema,"200"===o||"201"===o?(n.responseClass=i,n.responseClass.display=1,n.responseClass.status=o,d(e,n,i),delete n.responses[o]):n.hasResponses=!0):n.hasResponses=!0}function d(e,t,n){if(n.headers){t.headers=n.headers;for(var o in t.headers){var i=t.headers[o];i.type=a.getType(i),"array"===i.type&&(i.type="Array["+a.getType(i.items)+"]"),i.description=g(i.description)}delete n.headers}}function m(e,t,n){var o,i,r;for(o=0;o<e.length;o++)i=e[o],r=e[o].operations,i.open=i.open||t===i.name||t===i.name+"*",(!r||r&&0===r.length)&&e.splice(o--,1);n&&e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),a.clearCache()}function g(e){var n=e;return"string"==typeof e&&h&&(n=t.trustAsHtml(f(e))),n}function f(e){return e.replace(/&/g,"&amp;").replace(/<([^\/a-zA-Z])/g,"&lt;$1").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var h,v,A;this.execute=function(t,n,a,r,l,s){var c=e.defer();if("2.0"===r.swagger&&("json"===t||"auto"===t&&"application/json"===a)){h=l;try{i(r,n,c,s)}catch(e){c.reject({code:500,message:o.translate("errorParseFailed",e)})}}else c.resolve(!1);return c.promise}}]).run(["swaggerModules","swaggerParser",function(e,t){e.add(e.PARSE,t)}]),angular.module("swaggerUi").provider("swaggerTranslator",function(){var e="en",t={};this.setLanguage=function(t){return e=t,this},this.addTranslations=function(e,n){var a=t[e]=t[e]||{};return angular.merge(a,n),this},this.$get=["$rootScope","$interpolate",function(n,a){return{useLanguage:function(a){"undefined"==typeof t[a]&&console.error("AngularSwaggerUI: No translations found for language "+a),e=a,n.$emit("swaggerTranslateLangChanged")},translate:function(n,o){return e&&t&&t[e]&&t[e][n]?a(t[e][n])(o):n},language:function(){return e}}}]}).directive("swaggerTranslate",["$rootScope","$parse","swaggerTranslator",function(e,t,n){return{restrict:"A",link:function(a,o,i){function r(){var e;i.swaggerTranslateValue&&(e=t(i.swaggerTranslateValue)(a.$parent)),o.text(n.translate(i.swaggerTranslate,e))}var l=e.$on("swaggerTranslateLangChanged",function(){r()});a.$on("$destroy",l),r()}}}]).filter("swaggerTranslate",["swaggerTranslator",function(e){var t=function(t,n){return e.translate(t,n)};return t.$stateful=!0,t}]),angular.module("swaggerUi").config(["swaggerTranslatorProvider",function(e){e.addTranslations("en",{infoContactCreatedBy:"Created by {{name}}",infoContactUrl:"See more at",infoContactEmail:"Contact the developer",infoLicense:"License: ",infoBaseUrl:"BASE URL",infoApiVersion:"API VERSION",infoHost:"HOST",endPointToggleOperations:"Open/Hide",endPointListOperations:"List operations",endPointExpandOperations:"Expand operations",operationDeprected:"Warning: Deprecated",operationImplementationNotes:"Implementation notes",externalDocs:"External docs",headers:"Response headers",headerName:"Header",headerDescription:"Description",headerType:"Type",parameters:"Parameters",parameterName:"Parameter",parameterValue:"Value",parameterDescription:"Description",parameterType:"Parameter type",parameterDataType:"Data type",parameterOr:" or ",parameterRequired:"(required)",parameterModel:"Model",parameterSchema:"Example value",parameterContentType:"Parameter content type",parameterDefault:"{{default}} (default)",parameterSetValue:"Click to set as parameter value",responseClass:"Response class (status {{status}})",responseModel:"Model",responseSchema:"Example value",responseContentType:"Response content type",responses:"Response messages",responseCode:"HTTP status code",responseReason:"Reason",responseHide:"Hide response",modelOptional:"optional",modelOr:" or ",explorerUrl:"Request URL",explorerBody:"Response body",explorerCode:"Response code",explorerHeaders:"Response headers",explorerLoading:"Loading...",explorerTryIt:"Try it out!",errorNoParserFound:"No parser found for Swagger specification of type {{type}} and version {{version}}",errorParseFailed:"Failed to parse Swagger specification: {{message}}",errorJsonParse:"Failed to parse JSON",errorNoYamlParser:"No YAML parser found, please make sure to include js-yaml library",authRequired:"Authorization required",authAvailable:"Available authorizations",apiKey:"API key authorization",authParamName:"Name",authParamType:"In",authParamValue:"Value",basic:"Basic authorization",authLogin:"Login",authPassword:"Password",oauth2:"oAuth2 authorization",authOAuthDesc:"Scopes are used to grant an application different levels of access to data on behalf of the end user. Each API may declare one or more scopes. API requires the following scopes. Select which ones you want to grant.",authAuthorizationUrl:"Authorization URL",authFlow:"Flow",authTokenUrl:"Token URL",authScopes:"Scopes",authCancel:"Cancel",authAuthorize:"Authorize"})}]),angular.module("swaggerUi").run(["$templateCache",function(e){e.put("templates/endpoint.html",'<div id="{{api.name}}" class="clearfix" ng-class="api.css"> <ul id="{{api.name}}*" class="list-inline pull-left endpoint-heading"> <li> <h4> <a ng-click="api.open=!api.open;permalink(api.name)" ng-bind="api.name"></a> <span ng-if="api.description"> : <span ng-bind="api.description"></span></span> </h4> </li> </ul> <ul class="list-inline pull-right endpoint-actions"> <li> <a ng-click="api.open=!api.open;permalink(api.name)" swagger-translate="endPointToggleOperations"></a> </li> <li> <a ng-click="expand(api);permalink(api.name)" swagger-translate="endPointListOperations"></a> </li> <li> <a ng-click="expand(api,true);permalink(api.name+\'*\')" swagger-translate="endPointExpandOperations"></a> </li> </ul> </div> <ul class="list-unstyled operations" ng-class="api.css" ng-if="api.open"> <li ng-repeat="op in api.operations track by $index" class="operation" ng-class="[op.httpMethod,op.css]" ng-include="\'templates/operation.html\'"></li> </ul>'),e.put("templates/operation.html",'<div id="{{op.operationId}}" class="heading"> <a ng-click="op.open=!op.open;permalink(op.operationId)"> <div class="clearfix"> <span class="http-method text-uppercase" ng-bind="op.httpMethod"></span> <span class="path" ng-class="{deprecated:op.deprecated}" ng-bind="op.path"></span> <span class="description pull-right" ng-bind="op.summary"></span> </div> </a> </div> <div class="content" ng-if="op.open"> <div class="h5" ng-if="op.deprecated" swagger-translate="operationDeprected"></div> <div ng-if="op.description"> <h5 swagger-translate="operationImplementationNotes"></h5> <p ng-bind-html="op.description"></p> </div> <div ng-if="op.externalDocs"> <h5 swagger-translate="externalDocs"></h5> <span ng-bind-html="op.externalDocs.description"></span> <a target="_blank" ng-href="{{op.externalDocs.url}}" ng-bind="op.externalDocs.url"></a> </div> <button ng-if="op.security.length>0" ng-click="auth(op)" class="auth-required" ng-class="{valid:authValid(op)}" title="{{\'authRequired\'|swaggerTranslate}}">!</button> <form role="form" name="explorerForm" ng-submit="explorerForm.$valid&&submitExplorer(op)"> <div ng-if="op.responseClass" class="response"> <h5 swagger-translate="responseClass" swagger-translate-value="op.responseClass"></h5> <div ng-if="op.responseClass.display!=-1"> <ul class="list-inline schema"> <li><a ng-click="op.responseClass.display=0" ng-class="{active:op.responseClass.display==0}" swagger-translate="responseModel"></a></li> <li><a ng-click="op.responseClass.display=1" ng-class="{active:op.responseClass.display==1}" swagger-translate="responseSchema"></a></li> </ul> <pre class="model" ng-if="op.responseClass.display==0" ng-bind-html="op.responseClass.schema.model"></pre> <pre class="model-schema" ng-if="op.responseClass.display==1" ng-bind="op.responseClass.schema.json"></pre> </div> <div ng-if="op.produces" class="content-type"> <label for="responseContentType{{op.id}}" swagger-translate="responseContentType"></label> <select ng-model="form[op.id].responseType" ng-options="item for item in op.produces track by item" id="responseContentType{{op.id}}" name="responseContentType{{op.id}}" required></select> </div> </div> <div ng-if="op.headers" class="table-responsive"> <h5 swagger-translate="headers"></h5> <table class="table table-condensed headers"> <thead> <tr> <th class="name" swagger-translate="headerName"> <th class="desc" swagger-translate="headerDescription"> <th class="type" swagger-translate="headerType">   <tbody> <tr ng-repeat="(name,header) in op.headers track by $index" ng-class="header.css" class="response-header"> <td class="bold" ng-bind="name"> <td ng-bind-html="header.description"> <td ng-bind="header.type">   </table> </div> <div ng-if="op.parameters&&op.parameters.length>0" class="table-responsive"> <h5 swagger-translate="parameters"></h5> <table class="table table-condensed parameters"> <thead> <tr> <th class="name" swagger-translate="parameterName"> <th class="value" swagger-translate="parameterValue"> <th class="desc" swagger-translate="parameterDescription"> <th class="type" swagger-translate="parameterType"> <th class="data" swagger-translate="parameterDataType">   <tbody> <tr ng-repeat="param in op.parameters track by $index" ng-include="\'templates/parameter.html\'" class="operation-parameter" ng-class="[param.css,\'operation-parameter-\'+param.in]">  </table> </div> <div class="table-responsive" ng-if="op.hasResponses"> <h5 swagger-translate="responses"></h5> <table class="table responses"> <thead> <tr> <th class="code" swagger-translate="responseCode"> <th swagger-translate="responseReason"> <th swagger-translate="responseModel">   <tbody> <tr ng-repeat="(code,resp) in op.responses track by $index" ng-include="\'templates/response.html\'" class="operation-response" ng-class="resp.css">  </table> </div> <div ng-if="apiExplorer"> <button class="btn btn-default" ng-click="op.explorerResult=false;op.hideExplorerResult=false" type="submit" ng-disabled="op.loading" ng-bind="op.loading?\'explorerLoading\':\'explorerTryIt\'|swaggerTranslate"></button> <a class="hide-try-it" ng-if="op.explorerResult&&!op.hideExplorerResult" ng-click="op.hideExplorerResult=true" swagger-translate="responseHide"></a> </div> </form> <div ng-if="op.explorerResult" ng-show="!op.hideExplorerResult" class="explorer-result"> <h5 swagger-translate="explorerUrl"></h5> <pre ng-bind="op.explorerResult.url" class="explorer-url"></pre> <h5 swagger-translate="explorerBody"></h5> <pre ng-bind="op.explorerResult.response.body" class="explorer-body"></pre> <h5 swagger-translate="explorerCode"></h5> <pre ng-bind="op.explorerResult.response.status" class="explorer-status"></pre> <h5 swagger-translate="explorerHeaders"></h5> <pre ng-bind="op.explorerResult.response.headers" class="explorer-headers"></pre> </div> </div>'),e.put("templates/parameter.html",'<td ng-class="{bold:param.required}" class="operation-parameter-name"> <label for="param{{param.id}}" ng-bind="param.name"></label>  <td ng-class="{bold:param.required}" class="operation-parameter-value"> <div ng-if="apiExplorer"> <div ng-if="param.in!=\'body\'" ng-switch="param.subtype"> <input ng-switch-when="file" type="file" file-input ng-model="form[op.id][param.name]" id="param{{param.id}}" placeholder="{{param.required?\'parameterRequired\':\'\'|swaggerTranslate}}" ng-required="param.required" name="{{param.name}}"> <select ng-switch-when="enum" ng-model="form[op.id][param.name]" id="param{{param.id}}" name="{{param.name}}"> <option ng-repeat="value in param.enum" value="{{value}}" ng-bind="value+(param.default==value?\'parameterDefault\':\'\'|swaggerTranslate)" ng-selected="param.default==value"> </select> <input ng-switch-default type="text" ng-model="form[op.id][param.name]" id="param{{param.id}}" placeholder="{{param.required?\'parameterRequired\':\'\'|swaggerTranslate}}" ng-required="param.required" name="{{param.name}}"> </div> <div ng-if="param.in==\'body\'"> <textarea id="param{{param.id}}" ng-model="form[op.id][param.name]" ng-required="param.required" name="{{param.name}}"></textarea> <br> <div ng-if="op.consumes" class="content-type"> <label for="bodyContentType{{op.id}}" swagger-translate="parameterContentType"></label> <select ng-model="form[op.id].contentType" id="bodyContentType{{op.id}}" name="bodyContentType{{op.id}}" ng-options="item for item in op.consumes track by item"></select> </div> </div> </div> <div ng-if="!apiExplorer"> <div ng-if="param.in!=\'body\'"> <div ng-if="param.default" swagger-translate="parameterDefault" swagger-translate-value="param.default"></div> <div ng-if="param.enum"> <span ng-repeat="value in param.enum track by $index">{{value}}<span ng-if="!$last" swagger-translate="parameterOr"></span></span> </div> <div ng-if="param.required"><strong swagger-translate="parameterRequired"></strong></div> </div> </div>  <td ng-class="{bold:param.required}" ng-bind-html="param.description" class="operation-parameter-description"> <td ng-bind="param.in" class="operation-parameter-in"> <td ng-if="param.type" ng-switch="param.type" class="operation-parameter-type"> <span ng-switch-when="array" ng-bind="\'Array[\'+param.items.type+\']\'"></span> <span ng-switch-default ng-bind="param.type"></span>  <td ng-if="param.schema" class="operation-parameter-model"> <ul class="list-inline schema"> <li><a ng-click="param.schema.display=0" ng-class="{active:param.schema.display==0}" swagger-translate="parameterModel"></a></li> <li><a ng-click="param.schema.display=1" ng-class="{active:param.schema.display==1}" swagger-translate="parameterSchema"></a></li> </ul> <pre class="model" ng-if="param.schema.display==0&&param.schema.model" ng-bind-html="param.schema.model"></pre> <div class="model-schema" ng-if="param.schema.display==1&&param.schema.json"> <pre ng-bind="param.schema.json" ng-click="form[op.id][param.name]=param.schema.json" aria-described-by="help-{{param.id}}"></pre> <div id="help-{{param.id}}" swagger-translate="parameterSetValue"></div> </div> '),e.put("templates/response.html",'<td ng-bind="code" class="operation-response-code"> <td ng-bind-html="resp.description" class="operation-response-description"> <td class="operation-response-model"> <ul ng-if="resp.schema&&resp.schema.model&&resp.schema.json" class="list-inline schema"> <li><a ng-click="resp.display=0" ng-class="{active:resp.display==0}" swagger-translate="responseModel"></a></li> <li><a ng-click="resp.display=1" ng-class="{active:resp.display==1}" swagger-translate="responseSchema"></a></li> </ul> <pre class="model" ng-if="resp.display==0&&resp.schema&&resp.schema.model" ng-bind-html="resp.schema.model"></pre> <pre class="model-schema" ng-if="resp.display==1&&resp.schema&&resp.schema.json" ng-bind="resp.schema.json"></pre> '),e.put("templates/swagger-ui.html",'<div class="swagger-ui" aria-live="polite" aria-relevant="additions removals"> <div class="api-name"> <h3 ng-bind="infos.title"></h3> </div> <div class="api-description" ng-bind-html="infos.description"></div> <div class="external-docs" ng-if="infos.externalDocs"> <span ng-bind-html="infos.externalDocs.description"></span> <a target="_blank" ng-href="{{infos.externalDocs.url}}">{{infos.externalDocs.url}}</a> </div> <div class="api-infos"> <div class="api-infos-contact" ng-if="infos.contact"> <div ng-if="infos.contact.name" class="api-infos-contact-name"><span swagger-translate="infoContactCreatedBy" swagger-translate-value="infos.contact"></span></div> <div ng-if="infos.contact.url" class="api-infos-contact-url"><span swagger-translate="infoContactUrl"></span> <a ng-href="{{infos.contact.url}}" ng-bind="infos.contact.url"></a></div> <a ng-if="infos.contact.email" class="api-infos-contact-url" ng-href="mailto:{{infos.contact.email}}?subject={{infos.title}}" swagger-translate="infoContactEmail"></a> </div> <div class="api-infos-license" ng-if="infos.license"> <span swagger-translate="infoLicense"></span><a ng-href="{{infos.license.url}}" ng-bind="infos.license.name"></a> </div> </div> <ul class="list-unstyled endpoints"> <li ng-repeat="api in resources track by $index" class="endpoint" ng-class="{active:api.open}" ng-include="\'templates/endpoint.html\'"></li> </ul> <div class="api-version clearfix" ng-if="infos"> [<span swagger-translate="infoBaseUrl"></span>: <span class="h4" ng-bind="infos.basePath"></span>, <span swagger-translate="infoApiVersion"></span>: <span class="h4" ng-bind="infos.version"></span>, <span swagger-translate="infoHost"></span>: <span class="h4" ng-bind="infos.scheme"></span>://<span class="h4" ng-bind="infos.host"></span>] <a ng-if="validatorUrl!=\'false\'" target="_blank" ng-href="{{validatorUrl}}/debug?url={{url}}"><img class="pull-right swagger-validator" ng-src="{{validatorUrl}}?url={{url}}"></a> </div> </div>')}]),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(e){a.account&&(window.location="/files/download/"+e.id)}function d(e){switch(e.state){case"ACTIVE":return"활성";case"INACTIVE":return"비활성";case"REGISTERING":return"등록진행중";case"WITHDRAWING":return"탈퇴진행중"}}function m(e,t){var n="";return 1==t?(L.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(L.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function g(){o.dismiss("cancel")}function f(e){o.close(e)}function h(){"approve"===L.selections.mode?c.approve({id:L.selections.obj.id},L.decision,f,C):c.deny({id:L.selections.obj.id},L.decision,f,C)}function v(){L.api.termsOfUse&&l.getTermsContent({id:L.api.termsOfUse.id}).$promise.then(function(e){i.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){})})}function A(){n.dismiss(n.getTop().key)}function y(){L.isbillingPoliciesOpen=L.api.billingPolicy&&L.api.billingPolicy.id,L.isbillingPoliciesOpen&&i.open({templateUrl:"app/services/common/billing-policy.html",scope:a,backdrop:"static",size:"md"}),L.billingPolicytooltipIsOpen=!L.isbillingPoliciesOpen,L.billingPolicytooltipIsOpen&&$timeout(function(){L.billingPolicytooltipIsOpen=!1},100)}function b(){L.isTermsOpen=!1,L.isAppTermsOpen=!1}function P(){L.isbillingPoliciesOpen=!1}function w(e){e.termsOfUse&&l.getTermsContent({id:e.termsOfUse.id}).$promise.then(function(e){i.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){})})}function C(e){t.onError(e.data.description)}function O(){var e=new Date,t=e.getYear()===L.decision.reservedTime.getYear()&&e.getMonth()===L.decision.reservedTime.getMonth()&&e.getDate()===L.decision.reservedTime.getDate(),n=0;t&&(n=e.getHours()+1),L.hourOptions=[];for(var a=n;a<24;a++)L.hourOptions.push(a<10?{hour:"0"+a+":00",value:a}:{hour:a+":00",value:a})}function I(e){L.alerts.splice(e,1)}function E(t){var n={withdrawalId:t.id,password:L.loginPassword,history:!!t.history&&t.history};e.getAccountNumber(n,function(e){L.thisAccountNumber=e.accountNumber,L.loginPassword=null,L.initSearch=!1},function(e){t.isOpen=!1,C(e)})}function T(e){L.initSearch=!0,L.loginPassword="",E(e)}var L=this;L.authorities=["ROLE_HASLOGIN"],L.alerts=[],L.clear=g,L.clearTopModal=A,L.languages=null,L.decide=h,L.selections=r,L.approval=L.selections.obj,L.decision={comment:"",isReserved:L.approval.isReserved,reservedTime:new Date},L.approval.isReserved&&L.approval.reservedTime&&(L.decision.reservedTime=new Date(L.approval.reservedTime),L.decision.reservedHour=L.decision.reservedTime.getHours()),"PARTNER"===L.approval.type&&(L.partner=L.selections.data),L.approval.type=L.approval.type?L.approval.type.toUpperCase():L.approval.type,L.account=a.account,L.closeTerm=b,L.showTermsContent=v,L.closeBillingPolicy=P,L.showBillingPolicies=y,L.isbillingPoliciesOpen=!1,L.showAppTermsContent=w,L.displayActivated=d,L.fileSize=t.fileSize,L.fileDown=u,L.makeHourOptions=O,L.closeAlert=I,L.register={},L.filter=m,L.accountNumberSearch=T,L.getAccountNumber=E,L.makeHourOptions(),"API"===L.approval.type?L.api=r.data:"APP"===L.approval.type?(L.app=r.data,L.apiList=L.app.appApiMappings,s.changeSet({id:L.app.id}).$promise.then(function(e){L.changeSets=e.changeSets})):"USER"===L.approval.type?L.user=r.data:(L.partner=L.selections.data,e.changeSet({id:L.partner.id}).$promise.then(function(e){L.changeSets=e.changeSets})),p.getAll().then(function(e){L.languages=e}),L.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"},L.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},L.apiplanPopover={templateUrl:"app/layouts/popover-template/apiplan-popover.html"},L.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],L.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],$("[type='number']").keydown(function(e){e.preventDefault()}),a.showReservedTimeCalendar=function(e){e.preventDefault(),e.stopPropagation(),L.reservedTimeCalendarOpen=!L.reservedTimeCalendarOpen},a.dateOptions={showWeeks:!1,minDate:new Date},L.accountNumberPopover={templateUrl:"app/layouts/popover-template/account-number-popover.html"}}angular.module("portalApplicationApp").controller("ApprovalDialogController",e),e.$inject=["Organization","CommonUtil","$uibModalStack","$scope","$uibModalInstance","$uibModal","selections","Api","Apps","Approval","JhiLanguageService"]}(),function(){"use strict";function e(e,t,n,a){function o(){m.currentPage=1,m.condition={approvalType:m.approvalType,requester:m.requester,login:m.login,title:m.title,size:m.stateParams.size,page:0,sort:m.condition.sort},c()}function i(e,t){m.condition.sort=a.sorting(m.condition.sort,e,t),m.condition.page=0,m.currentPage=1,c()}function r(e){e.approvers?(e.isApproverOpen=!0,m.approvers=e.approvers):e.isApproverOpen=!1}function l(e){e.approvers&&(e.isApproverOpen=!1)}function s(){m.condition.page=m.currentPage-1,c()}function c(){n.list(m.condition,function(e,t){m.Approvals=e,m.totalItems=t("x-total-count")})}function p(e,t){n.delegate({id:e.id}).$promise.then(function(n){n.delegate&&(n.delegate.creator=n.creator),u(e,t,n.delegate)})}function u(e,n,a){t.open({templateUrl:"app/account/approval/approval/approval-dialog.html",controller:"ApprovalDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{obj:e,mode:n,data:a}}}).result.then(function(e){c()})}function d(e){n.delegate({id:e.id}).$promise.then(function(n){"APP"==e.type?t.open({templateUrl:"app/app-management/app-manage/app-view.html",controller:"AppViewController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectApp:n.delegate}}).result.then(function(e){m.loadAll()}):"API"==e.type?t.open({templateUrl:"app/admin/apis/admin-api-management-dialog.html",controller:"AdminApiManagementDialogController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedApi:n.delegate}}).result.then(function(e){m.loadAll()}):"USER"==e.type?t.open({templateUrl:"app/services/common/user-modal.html",controller:"UserModalController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{delegate:n.delegate,type:e.type}}}).result.then(function(e){m.loadAll()}):t.open({templateUrl:"app/account/settings/org-setting/org-detail-view.html",controller:"OrgSettingController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectedOrg:n.delegate}}).result.then(function(e){m.loadAll()})})}var m=this;m.stateParams=e,m.authorities=["ROLE_HASLOGIN"],m.showDetail=d,m.pageChanged=s,m.decide=p,m.approvalTypes=[{type:"API",name:"API"},{type:"APP",name:"APP"},{type:"USER",name:"USER"},{type:"ORGANIZATION",name:"ORG"}],m.loadAll=c,m.condition={approvalType:m.approvalType,requester:m.requester,login:m.login,title:m.title,size:m.stateParams.size,page:m.stateParams.page,sort:m.stateParams.sort},m.loadAll(),m.approvertooltipIsOpen=!1,m.showApproverPopover=r,m.hideApproverPopover=l,m.sorting=i,m.searching=o,m.tooltipPopover={templateUrl:"app/layouts/popover-template/approver-popover.html"}}angular.module("portalApplicationApp").controller("ApprovalController",e),e.$inject=["$stateParams","$uibModal","Approval","CommonUtil"]}(),function(){"use strict";function e(e){e.state("approval",{parent:"approvalManage",url:"/approval?size&page",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/approval/approval/approval.html",controller:"ApprovalController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("approval"),t.addPart("api"),t.addPart("billing"),t.addPart("app-management"),t.addPart("user-management"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){g.currentPage=1,g.condition={state:g.state?g.state.key:null,requester:g.requester,fromDate:g.fromDate,toDate:g.toDate,login:g.login,size:g.stateParams.size,page:0,sort:g.condition.sort
},p()}function l(){var e=new Date;e.setHours(0,0,0,0),g.fromDate=new Date(e.getTime()-6048e5),g.fromDateOpen=!1,g.toDate=e,g.toDateOpen=!1}function s(e,t){g.condition.sort=i.sorting(g.condition.sort,e,t),g.condition.page=0,g.currentPage=1,p()}function c(){g.condition.page=g.currentPage-1,p()}function p(){o.historyList(g.condition,function(e,t){g.approvalHistories=e,g.approvalHistories.forEach(function(e){e.decision||(e.decision={name:"승인 진행 중"})}),g.totalItems=t("x-total-count")})}function u(e){g.show_index=e}function d(e){o.delegate({id:e.id}).$promise.then(function(t){"APP"==e.type?n.open({templateUrl:"app/app-management/app-manage/app-view.html",controller:"AppViewController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectApp:t.delegate}}).result.then(function(e){g.loadAll()}):"API"==e.type?n.open({templateUrl:"app/admin/apis/admin-api-management-dialog.html",controller:"AdminApiManagementDialogController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedApi:t.delegate}}).result.then(function(e){g.loadAll()}):"USER"==e.type?n.open({templateUrl:"app/services/common/user-modal.html",controller:"UserModalController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{delegate:t.delegate,type:e.type}}}).result.then(function(e){g.loadAll()}):n.open({templateUrl:"app/account/settings/org-setting/org-detail-view.html",controller:"OrgSettingController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectedOrg:t.delegate}}).result.then(function(e){g.loadAll()})})}function m(e){n.open({templateUrl:"app/services/common/approver-modal.html",controller:"ApproverController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{data:e}}).result.then(function(e){g.loadAll()})}var g=this;g.stateParams=t,g.authorities=["ROLE_HASLOGIN"],g.status=[{key:"PROCESSING",text:"승인진행중"},{key:"CLOSED",text:"완료"}],g.showDetail=d,g.pageChanged=c,g.showApprovalHistoryDetail=u,g.showApprover=m,g.sorting=s,l(),g.loadAll=p,g.condition={state:g.state?g.state.key:null,requester:g.requester,fromDate:g.fromDate,toDate:g.toDate,login:g.login,size:g.stateParams.size,page:g.stateParams.page,sort:g.stateParams.sort},$("input[id=time]").on("focus blur keyup keypress keydown",function(e){e.preventDefault()}),g.loadAll(),g.searching=r,a.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),g.fromDateOpen=!g.fromDateOpen,g.toDateOpen=!1},a.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),g.toDateOpen=!g.toDateOpen,g.fromDateOpen=!1},a.fromDateOptions={showWeeks:!1,maxDate:new Date,minDate:new Date(2016,12,1)},a.toDateOptions={showWeeks:!1,maxDate:new Date,minDate:g.fromDate},a.setTime=function(){a.toDateOptions.minDate=g.fromDate,g.toDate<g.fromDate&&(g.toDate=g.fromDate)}}angular.module("portalApplicationApp").controller("ApprovalHistoryController",e),e.$inject=["$filter","$stateParams","$uibModal","$scope","Approval","CommonUtil"]}(),function(){"use strict";function e(e){e.state("approvalHistory",{parent:"approvalManage",url:"/approval-history?size&page",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/approval/approval-history/approval-history.html",controller:"ApprovalHistoryController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("approval"),t.addPart("api"),t.addPart("app-management"),t.addPart("billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){m.currentPage=1,m.condition={approvalType:m.approvalType,title:m.title,state:m.state,size:m.stateParams.size,page:0,sort:m.condition.sort},s()}function r(e,t){m.condition.sort=o.sorting(m.condition.sort,e,t),m.condition.page=0,m.currentPage=1,s()}function l(){m.condition.page=m.currentPage-1,s()}function s(){a.mine(m.condition,function(e,t){m.Approvals=e,m.Approvals.forEach(function(e){e.decision||(e.decision={name:"승인 진행 중"})}),m.totalItems=t("x-total-count")})}function c(e){a.delegate({id:e.id}).$promise.then(function(t){"APP"==e.type?n.open({templateUrl:"app/app-management/app-manage/app-view.html",controller:"AppViewController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectApp:t.delegate}}).result.then(function(e){m.loadAll()}):"API"==e.type?n.open({templateUrl:"app/admin/apis/admin-api-management-dialog.html",controller:"AdminApiManagementDialogController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedApi:t.delegate}}).result.then(function(e){m.loadAll()}):"USER"==e.type?n.open({templateUrl:"app/services/common/user-modal.html",controller:"UserModalController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{delegate:t.delegate,type:e.type}}}).result.then(function(e){m.loadAll()}):n.open({templateUrl:"app/account/settings/org-setting/org-detail-view.html",controller:"OrgSettingController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectedOrg:t.delegate}}).result.then(function(e){m.loadAll()})})}function p(e){n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:e,type:"cancel"}}}}).result.then(function(t){t&&a.cancel({id:e.id},{detailComment:t},u,d)})}function u(){o.onError("완료되기까지 시간이 걸릴 수 있습니다.<br/>새로고침 버튼을 눌러 확인하십시오.","","",null,"취소처리 안내"),m.loadAll()}function d(e){o.onError(e.data.description)}var m=this;m.stateParams=e,m.authorities=["ROLE_HASLOGIN"],m.showDetail=c,m.approvalCancel=p,m.pageChanged=l,m.sorting=r,m.loadAll=s,m.approvalTypes=[{type:"API",name:"API"},{type:"APP",name:"APP"},{type:"USER",name:"USER"},{type:"ORGANIZATION",name:"ORG"}],m.status=[{key:"PROCESSING",text:"승인진행중"},{key:"CLOSED",text:"완료"}],m.condition={approvalType:m.approvalType,title:m.title,state:m.state,size:m.stateParams.size,page:m.stateParams.page,sort:m.stateParams.sort},m.loadAll(),m.searching=i}angular.module("portalApplicationApp").controller("ApprovalRequestController",e),e.$inject=["$stateParams","$state","$uibModal","Approval","CommonUtil"]}(),function(){"use strict";function e(e){e.state("approvalRequest",{parent:"approvalManage",url:"/approvalRequest?size&page",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/approval/approvalRequest/approvalRequest.html",controller:"ApprovalRequestController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("approval"),t.addPart("api"),t.addPart("billing"),t.addPart("app-management"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(e,t){u.condition.sort=o.sorting(u.condition.sort,e,t),u.condition.page=0,u.currentPage=1,s()}function r(){u.condition.page=u.currentPage-1,s()}function l(e){n.forapp({id:e.id}).$promise.then(function(e){s()})}function s(e){e>=0&&(u.condition.page=e,u.currentPage=e+1),n.list(u.condition,function(e,t){u.clickedlineList=e,u.totalItems=t("x-total-count")})}function c(e,a){t.open({templateUrl:"app/services/common/select-modal.html",controller:"selectModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{items:function(){return{data:e,type:a,category:"approvalLine"}}}}).result.then(function(e){"create"==e.call?n.create(e,function(){s(0)},p):n.update(e,s,p)})}function p(e){o.onError(e.data.description)}var u=this;u.stateParams=e,u.addApprovalLine=c,u.setForApp=l,u.pageChanged=r,u.authorities=["ROLE_APPROVAL_VIEW"],u.sorting=i,u.loadAll=s,u.condition={size:u.stateParams.size,page:u.stateParams.page,sort:u.stateParams.sort},u.loadAll(),u.flag=!1,a.hasAuthority("ROLE_API_CREATE").then(function(e){u.flag=!0}),u.removeLine=function(e,a){var o=e.name+" 라인을";t.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:o,type:a}}}}).result.then(function(t){t&&n.delete(e,function(){s(0)})})}}angular.module("portalApplicationApp").controller("ApprovalLineController",e),e.$inject=["$stateParams","$uibModal","ApprovalLine","Principal","CommonUtil"]}(),function(){"use strict";function e(e){e.state("approvalLine",{parent:"approvalManage",url:"/approvalLine?size&page",data:{authorities:["ROLE_APPROVAL_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/approval/approvalLine/approvalLine.html",controller:"ApprovalLineController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api"),t.addPart("approval"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c){function p(e){m.totalCount=null,m.successCount=null,m.results=null,m.showFails=!1,c.selectFile(e)}function u(){a.close("confirm")}function d(t){if(c.underLoading("uploading",{top:"0px",left:"14px",width:"96%",height:"100%"},"50px",!1),$("input[name=csvFile]").val()){var n=$("input[name=csvFile]").val().substring($("input[name=csvFile]").val().lastIndexOf(".")+1).toUpperCase();if("XLSX"!=n)return c.onError("XLSX 파일만 가능합니다."),void c.completeLoading();if(navigator.userAgent.indexOf("MSIE 9.0")<0&&$("input[name=csvFile]")[0].files[0].size>=e.attachFileSize)return c.onError("파일 용량은 "+c.fileSize({fileSize:e.attachFileSize})+"를 넘을 수 없습니다."),void c.completeLoading();$("#csvFile").ajaxForm({url:"/files/upload-csv?_csrf="+g,enctype:"multipart/form-data",type:"post",cache:"false",dataType:"json",data:{type:"CSV"},success:function(e){c.completeLoading(),m.results=e.fail,m.totalCount=e.totalCount[0],m.successCount=e.successCount[0],o.$apply()},error:function(e){return c.completeLoading(),navigator.userAgent.indexOf("MSIE 9.0")!==-1?void c.onError("파일을 다시 확인해 주십시오."):void(500==e.status?c.onError("파일을 다시 확인해 주십시오."):c.onError(e.responseJSON.description))}}),$("#csvFile").submit()}}var m=this,g=c.getCookie("XSRF-TOKEN");m.delInput=c.delInput,m.selectFile=p,m.deletion=!1,m.csvFiles=[{data:null}],o.addFileInput=function(e,t){var n=e.target.id.split("-")[1];c.addFileInput(n,m.csvFiles,t)},m.authorities=["ROLE_API_CREATE"],m.clear=u,m.languages=null,m.save=d}angular.module("portalApplicationApp").controller("apiCsvUpController",e),e.$inject=["CommonConstants","$uibModalStack","$compile","$uibModalInstance","$scope","$uibModal","Api","JhiLanguageService","$timeout","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p,u,d,m){function g(){K.newSpecFile=!0,X=null,Z=null,K.duplicatedName=!0,K.duplicatedUrl=!0,K.api={isUpdatable:!0,applicablePlans:K.api.applicablePlans,billingPolicy:K.api.billingPolicy,codeInjectionProtection:K.api.codeInjectionProtection,description:K.api.description,fragments:[{fragment:{id:K.api.fragments[0].fragment.id},parameters:K.api.fragments[0].parameters}],gatewayCluster:K.api.gatewayCluster,isPrivate:K.api.isPrivate,name:K.api.name,routingUrl:K.api.routingUrl,sqlInjectionProtection:K.api.sqlInjectionProtection,termsOfUse:K.api.termsOfUse,urlPattern:K.api.urlPattern},K.mode="register"}function f(e){e.value=numeral(e.value).format("0,0")}function h(e,t){var n="";return 1==t?(K.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(K.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function v(){s.scopeTypes().$promise.then(function(e){K.scopes=e,P()}).catch(k)}function A(e){o.account&&(window.location="/files/download/"+e.id)}function y(){K.api.id?l.apiById({id:K.api.id}).$promise.then(function(e){K.api=e,v(),x(),_(),b()}):(v(),x(),_(),b())}function b(){}function P(){K.api.id||u.listCluster().$promise.then(function(e){K.gatewayClusters=e,K.gatewayClusters&&1==K.gatewayClusters.length&&(K.api.gatewayCluster=K.gatewayClusters[0]),K.changeGatewayCluster()})}function w(){K.api.gatewayCluster?C():K.fragments=[]}function C(){null!=K.api.gatewayCluster.id&&u.listFragments({clusterId:K.api.gatewayCluster.id}).$promise.then(function(e){K.fragments=e,K.fragments&&1==K.fragments.length&&(K.api.fragments[0]||(K.api.fragments[0]={}),K.api.fragments[0].fragment=K.fragments[0],K.selectedFragment=K.fragments[0],K.fragmentDisabled=!0,K.changeFragment())})}function O(){u.listCluster().$promise.then(function(e){K.gatewayClusters=e,u.listFragments({clusterId:K.api.gatewayCluster.id}).$promise.then(function(e){K.fragments=e,K.fragments.some(function(e){return e.id==K.api.fragments[0].fragment.id&&(K.selectedFragment=e),e.id==K.api.fragments[0].fragment.id}),K.selectedFragment.parameters=[],K.selectedFragment.arguments.forEach(function(e){K.selectedFragment.parameters.push({key:e.name,label:e.label,type:e.type,value:"boolean"==e.type?"false":null})}),I()})})}function I(){K.api.fragments[0]||(K.selectedFragment.parameters=[],K.api.fragments[0]={fragment:K.selectedFragment}),K.api.fragments[0].fragment&&(null!=K.api.fragments&&K.api.fragments.length>0&&K.selectedFragment.name==K.api.fragments[0].fragment.name&&K.api.fragments[0].parameters&&K.api.fragments[0].parameters.length>0?K.selectedFragment.parameters.forEach(function(e){"apiScope"==e.key&&(e.value?(K.existingScope=!1,K.scopes.some(function(t){return t.scope==e.value&&(K.existingScope=!0),K.existingScope})):K.existingScope=!0),K.api.fragments[0].parameters.forEach(function(t){e.key==t.key&&(e.value=t.value,e.type=t.type,e.label=t.label,e.established=!0)})}):(K.selectedFragment.parameters=[],K.selectedFragment.arguments.forEach(function(e){K.selectedFragment.parameters.push({key:e.name,label:e.label,type:e.type,value:e.value})})))}function E(){a.dismiss("cancel")}function T(){t.dismiss(t.getTop().key)}function L(e){"UPDATING"==e.status&&m.onError("승인이 필요한 사항을 변경하셨습니다.<br/>승인요청을 진행하시기 바랍니다."),a.close(e)}function k(e){m.onError(e.data.description)}function S(e,t){t>=0?(K.api.attachFileIds=null,K.api.attachFileList.splice(t,1)):(K.api.specFile=null,K.api.specFileId=null,K.newSpecFile=!0)}function U(){if(K.api.applicablePlans=K.selectedPlans,K.api.requiredAuthentication="NONE",K.api.requireSSL=!0,K.api.fragments[0].fragment=K.selectedFragment,K.api.fragments[0].fragment.arguments=null,K.api.fragments[0].parameters=K.selectedFragment.parameters,K.api.fragments[0].parameters.forEach(function(e){"message.size"==e.key&&(e.value=numeral(e.value).value())}),K.api.attachFileList&&K.api.attachFileList.forEach(function(e){K.api.attachFileIds.push(e.id)}),"modify"==K.mode){var e,t,n=angular.copy(r.fragments[0]),a=angular.copy(K.api.fragments[0]);e=n.parameters.length!=a.parameters.length,e||n.parameters.forEach(function(n){e=!0,a.parameters.some(function(a){return n.key==a.key&&(t=n.value!=a.value,e=!1),t})});var o=t||e}K.api.attachFileList=null,K.api.specFile=null,K.api.termsOfUse=K.termsOn?{id:K.api.termsOfUse.id}:null,K.api.id?l.update({fragmentDiffer:o},K.api,L,k):l.create(K.api,L,k)}function D(t){if($("input[name=specFile]").val()){var n=$("input[name=specFile]").val().substring($("input[name=specFile]").val().lastIndexOf(".")+1).toUpperCase();if("WADL"!=n&&"JSON"!=n&&"XML"!=n)return void m.onError("API 명세서는 WADL, JSON, XML 파일만 가능합니다.");if(navigator.userAgent.indexOf("MSIE 9.0")<0&&$("input[name=specFile]")[0].files[0].size>=e.attachFileSize)return void m.onError("API 명세서 파일은 "+m.fileSize({fileSize:e.attachFileSize})+"를 넘을 수 없습니다.");$("#specFile").ajaxForm({url:"/files/upload?_csrf="+J,enctype:"multipart/form-data",type:"post",cache:"false",dataType:"json",data:{type:"SPEC"},success:function(e){K.api.specFileId=e,R(),o.$apply()},error:function(e){return navigator.userAgent.indexOf("MSIE 9.0")!==-1?void m.onError("API 명세서 파일을 다시 확인해 주십시오."):void(500==e.status?m.onError("API 명세서 파일을 다시 확인해 주십시오."):m.onError("API 명세서<br/>"+e.responseJSON.description))}}),$("#specFile").submit()}else K.api.specFileId=K.api.specFile?K.api.specFile.id:null,R()}function z(){K.flagOfManual=!1,K.totalSize=0,$("div[name=manualFile] > div[name=file-input] > input.file-input").each(function(t){$(this).val()?navigator.userAgent.indexOf("MSIE 9.0")<0&&$(this)[0].files[0].size>=e.attachFileSize?K.violationOfSize=!0:(K.totalSize+=$(this)[0].files[0].size,K.flagOfManual=!0):$(this).attr("disabled","disabled")})}function R(){z();var t=function(){$("div[name=manualFile] > div[name=file-input] > input.file-input").each(function(e){$(this).removeAttr("disabled")})};return K.violationOfSize?(t(),m.onError("API설명서 파일은 각각 "+m.fileSize({fileSize:e.attachFileSize})+"를 넘을 수 없습니다."),void(K.violationOfSize=!1)):K.totalSize>e.totalFileSize?void m.onError("설명서 업로드 파일의 총 용량은 "+m.fileSize({fileSize:e.totalFileSize})+"를 넘을 수 없습니다."):void(K.flagOfManual?($("#manualFile").ajaxForm({url:"/files/upload?_csrf="+J,enctype:"multipart/form-data",type:"post",cache:"false",dataType:"json",data:{type:"api"},success:function(e){K.api.attachFileIds=e,U(),o.$apply()},error:function(e){return t(),navigator.userAgent.indexOf("MSIE 9.0")!==-1?void m.onError("API 설명서 파일을 다시 확인해 주십시오."):void(500==e.status?m.onError("API 설명서 파일을 다시 확인해 주십시오."):m.onError("API 설명서<br/>"+e.responseJSON.description))}}),$("#manualFile").submit()):(K.api.attachFileIds=[],U()))}function x(){p.available().$promise.then(function(e){K.apiPlans=e,0==K.selectedPlans.length?1==K.apiPlans.length?(K.apiPlans[0].checked=!0,K.apiPlans[0].isDisabled=!0,K.selectedPlans=[K.apiPlans[0]]):K.apiPlans.forEach(function(e){e.checked=!1,e.isDisabled=!1}):K.apiPlans.forEach(function(e){e.checked=!1,e.isDisabled=!1,K.selectedPlans.some(function(t){return e.id==t.id&&(e.checked=!0,e.isDisabled=!0),e.id==t.id})}),K.applicationPlans()})}function N(e){K.apiPlans.filter(function(e){return 0==e.isDisabled}).forEach(function(t){t.checked=e})}function M(){K.selectedPlans=[],"modify"!=K.mode&&K.apiPlans[0]&&(K.apiPlans[0].checked=!0),K.apiPlans.filter(function(e){return 1==e.checked}).forEach(function(e){K.selectedPlans.push(e),e.isDisabled=!0}),K.isOpen=!1}function F(e){K.selectedPlans.length<=1?(K.tooltipIsOpen=!0,d(function(){K.tooltipIsOpen=!1},100)):(K.selectedPlans.splice(K.selectedPlans.indexOf(e),1),e.checked=!1,K.allSelect=!1,e.isDisabled=!1)}function G(){K.isTermsOpen=!1}function j(){K.isbillingPoliciesOpen=!1}function _(){l.organization().$promise.then(function(e){K.organization=e,q(),V()})}function q(){null!=K.organization&&l.termsByOrganization({id:K.organization.id}).$promise.then(function(e){K.terms=e})}function V(){null!=K.organization&&l.billingPolicy({id:K.organization.id}).$promise.then(function(e){K.billingPolicies=e})}function B(){K.api.termsOfUse&&l.getTermsContent({id:K.api.termsOfUse.id}).$promise.then(function(e){i.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}}).result.then(function(e){y()})})}function W(){K.isbillingPoliciesOpen=!(!K.api.billingPolicy||!K.api.billingPolicy.id),K.isbillingPoliciesOpen&&i.open({templateUrl:"app/services/common/billing-policy.html",scope:o,backdrop:"static",size:"md"}),K.billingPolicytooltipIsOpen=!K.isbillingPoliciesOpen,K.billingPolicytooltipIsOpen&&d(function(){K.billingPolicytooltipIsOpen=!1},100)}function Y(e){45==e.keyCode&&e.preventDefault()}function H(e,t){o.$watch(function(){t.value=0==numeral(t.value).value()?"0":numeral(t.value).value()>K.messageLimitCheckSize?numeral(K.messageLimitCheckSize).format("0,0"):numeral(t.value).format("0,0")})}var K=this,J=m.getCookie("XSRF-TOKEN");K.duplicateApi=g,K.newSpecFile=!1,K.delInput=m.delInput,K.selectFile=m.selectFile,K.deletion=!1,K.manualFiles=[{data:null}],K.specFiles=[{data:null}],o.addFileInput=function(e,t){var n=t?K.specFiles:K.manualFiles;if(!K.deletion){var a=e.target.id.split("-")[1];m.addFileInput(a,n,t)}};var X,Z;r?(K.mode="modify",K.api=angular.copy(r),K.termsOn=!!r.termsOfUse,X=r.name,Z=r.urlPattern,K.api.fragments&&K.api.fragments.length&&O()):(K.api={isUpdatable:!0,version:1},K.newSpecFile=!0),K.authorities=["ROLE_API_CREATE"],K.changeGatewayCluster=w,K.changeFragment=I,K.refreshFragment=O,K.clear=E,K.clearTopModal=T,K.languages=null,K.save=D,K.plansLoad=x,K.loadByOrg=_,K.billingPolicies=null,K.applicationPlans=M,K.closeTerm=G,K.closeBillingPolicy=j,K.checkedAll=N,K.deletePlans=F,K.selectedPlans=r?K.api.applicablePlans:[],K.isOpen=!1,K.allSelect=!1,K.showTermsContent=B,K.termContent="약관을 선택해주세요.",K.showBillingPolicies=W,K.billingPolicytooltipIsOpen=!1,K.isbillingPoliciesOpen=!1,K.delFile=S,K.loadAll=y,K.fileDown=A,K.checkManualFile=z,K.filter=h,K.keypressWatch=Y,K.keyupWatch=H,K.messageLimitCheckSize=20480,K.toNumFormat=f,K.api.fragments||(K.api.fragments=[]),K.api.gatewayCluster||(K.api.gatewayCluster=[]),K.gatewayClusterDisabled=0!=K.api.gatewayCluster.length,K.fragmentDisabled=0!=K.api.fragments.length,K.loadAll(),K.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],K.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],K.apiplanPopover={templateUrl:"app/layouts/popover-template/apiplan-popover.html"},K.sqlhelpPopover={templateUrl:"app/layouts/popover-template/sqlhelp-popover.html"},K.injectionhelpPopover={templateUrl:"app/layouts/popover-template/injectionhelp-popover.html"},K.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"},o.$watch(function(){return K.api.name},function(){K.api.name?(X&&K.api.name!=X||!X)&&l.checkname({name:K.api.name}).$promise.then(function(e){K.duplicatedName=!e.isSuccess,K.duplicatedName&&angular.element("#apiName").focus()}):K.duplicatedName=!1}),o.$watch(function(){return K.api.urlPattern},function(){K.api.urlPattern?(Z&&K.api.urlPattern!=Z||!Z&&K.api.urlPattern)&&l.checkuri({uri:K.api.urlPattern}).$promise.then(function(e){K.duplicatedUrl=!e.isSuccess,K.duplicatedUrl&&angular.element("#proxyURL").focus()}):K.duplicatedUrl=!1})}angular.module("portalApplicationApp").controller("apiEditDialogController",e),e.$inject=["CommonConstants","$uibModalStack","$compile","$uibModalInstance","$scope","$uibModal","selectedApi","Api","Code","JhiLanguageService","apiPlans","Gateway","$timeout","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s){function c(){var e={apiName:I.apiName,proxy:I.proxyUrl,status:I.state?I.state:null,apiPrivateOption:I.isPrivate?I.isPrivate:null,yesIdList:I.yesIdList,noIdList:I.noIdList},t=$.param(e,!0);window.open("files/download-csv?"+t,"_blank")}function p(e){E?e.checkedCsv?I.noIdList.splice(I.noIdList.indexOf(e.id),1):(I.noIdList.push(e.id),I.checkedAll=!1):e.checkedCsv?I.yesIdList.push(e.id):I.yesIdList.splice(I.yesIdList.indexOf(e.id),1),m()}function u(e){e&&(I.checkedAll=!I.checkedAll),E=I.checkedAll,I.noIdList=[],I.yesIdList=[],I.apis.forEach(function(e){e.checkedCsv=I.checkedAll}),m()}function d(e){E?e.forEach(function(e){$.inArray(e.id,I.noIdList)<0&&(e.checkedCsv=!0)}):e.forEach(function(e){$.inArray(e.id,I.yesIdList)>-1&&(e.checkedCsv=!0)})}function m(){E?I.checkedSize=I.totalItems-I.noIdList.length:I.checkedSize=I.yesIdList.length}function g(e){0==e&&(I.isCsvDown=!1),I.noIdList=[],I.yesIdList=[],E=!1,I.checkedAll=!1,I.checkedSize=0,I.apis&&I.apis.length>0&&I.apis.forEach(function(e){e.checkedCsv=!1})}function f(e){return e.key.indexOf("RESERVED")<0}function h(e,t){I.condition.sort=r.sorting(I.condition.sort,e,t),I.condition.page=0,I.currentPage=1,b()}function v(){g(),I.currentPage=1,I.condition={apiName:I.apiName,proxy:I.proxyUrl,status:I.state?I.state:null,apiPrivateOption:I.isPrivate?I.isPrivate:null,size:I.stateParams.size,page:0,sort:I.condition.sort},b()}function A(e){e.errorText?(e.isApiStatusOpen=!0,I.errorText=e.errorText):e.isApiStatusOpen=!1}function y(e){e.isApiStatusOpen=!1}function b(e){e>=0&&(I.condition.page=e,I.currentPage=e+1),i.list(I.condition,function(e,t){I.apis=e,I.totalItems=t("x-total-count"),d(I.apis)})}function P(e){n.open({templateUrl:"app/admin/apis/admin-api-management-dialog.html",controller:"AdminApiManagementDialogController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedApi:e}})}function w(){I.condition.page=I.currentPage-1,b()}function C(){var t=function(t){e.reload()};r.onError("재처리를 시도합니다.<br/>결과는 잠시 후 새로고침으로 확인하십시오.","","redeploy",t,"재처리")}function O(e){r.onError(e.data.description)}var I=this;I.stateParams=t,I.authorities=["ROLE_API_VIEW","ROLE_ADMIN"],I.statusFiltering=f,I.loadAll=b,I.searching=v,I.pageChanged=w,I.showApiStatusPopover=A,I.hideApiStatusPopover=y,I.sorting=h,I.showApi=P,I.reload=e.reload,I.checkingAllCsv=u,I.downloadCsv=c,I.checkingOne=p,I.initCsvDown=g;var E=!1;I.condition={apiName:I.apiName,proxy:I.proxyUrl,status:I.state?I.state:null,apiPrivateOption:I.isPrivate?I.isPrivate:null,size:I.stateParams.size,page:I.stateParams.page,sort:I.stateParams.sort},I.initCsvDown(),I.loadAll(),l.getProfileInfo().then(function(e){I.inProduction=e.inProduction,I.inTest=e.inTest,I.swaggerEnabled=e.swaggerEnabled}),I.tooltipPopover={templateUrl:"app/layouts/popover-template/approver-popover.html"},s.apiStatusTypes().$promise.then(function(e){I.status=e.map(function(e){return{key:e.key,rename:"UNUSED"==e.key?"DELETED":e.key,name:e.name}})}),a.changeStatus=function(e,t){g(0);var n=function(n){n&&i.changeStatus({apiId:e.id,toStatus:t},I.loadAll,O)},a="",o="";"suspend"==t?(a="[ "+e.name+" ] <br/><br/>사용중인 API 서비스를<br/>일시중지 하시겠습니까?",o="서비스 일시중지"):(a="[ "+e.name+" ] <br/><br/>사용 중지된 API 서비스를<br/>재시작 하시겠습니까?",o="서비스 재시작"),r.onError(a,"","changeStatus",n,o)},a.testApi=function(e){g(0);var t=window.open("/app/swagger/index.html");o.apiConsoleApiId=e.id,t.api=e.id},a.addApi=function(e){g(0),n.open({templateUrl:"app/account/api/api-manage/api-edit-dialog.html",controller:"apiEditDialogController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedApi:e}}).result.then(function(t){e?I.loadAll():I.loadAll(0)})},a.uploadCsv=function(){g(0),n.open({templateUrl:"app/account/api/api-manage/api-csv-up.html",controller:"apiCsvUpController",controllerAs:"vm",backdrop:"static",size:"md"}).result.then(function(e){I.loadAll(0)})},a.delApi=function(e,t){g(0),i.groups({apiId:e.id},function(t){var n=t.length>0?"포함되어 있는 그룹이 "+t.length+"개가 있습니다. ":"";n+=e.name+" API를 ";var a=function(t){t&&i.delete({id:e.id},function(){I.loadAll(0)},O)};r.deleteModal(n,a)},O)},a.unuseApi=function(e,t){g(0),i.groups({apiId:e.id},function(t){var n=t.length>0?"주의 : 포함되어 있는 그룹이 존재합니다.<br/><br/>":"";n+="[ "+e.name+" ]<br/>해당 API를 ";var a=function(t){t&&i.unuse({apiId:e.id},function(){I.loadAll(0)},O)};r.unuseModal(n,a)},O)},a.redeploy=function(e){g(0),i.redeploy({apiId:e.id},C,O)},a.reqApproval=function(e){g(0),n.open({templateUrl:"app/services/common/request-approval.html",controller:"ReqApprovalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{selection:{data:e,type:"api"}}}).result.then(function(e){I.loadAll()})},a.showAppUsed=function(e){n.open({templateUrl:"app/account/api/api-manage/app-list.html",controller:"AppListController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selection:{id:e.id,mode:"account"}}}).result.then(function(e){I.loadAll()})}}angular.module("portalApplicationApp").controller("ApiController",e),e.$inject=["$state","$stateParams","$uibModal","$scope","$window","Api","CommonUtil","ProfileService","Code"]}(),function(){"use strict";function e(e){e.state("apiManage",{parent:"api",url:"/apis?size&page",data:{authorities:["ROLE_API_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/api/api-manage/api.html",controller:"ApiController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api"),t.addPart("approval"),t.addPart("app-management"),t.addPart("billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){"admin"==c?a.usedAppListForAdmin({id:s}).$promise.then(function(e){l.apps=e}):a.usedAppList({id:s}).$promise.then(function(e){l.apps=e})}function r(){e.dismiss("cancel")}var l=this;l.state=n;var s=t.id,c=t.mode;l.authorities=["ROLE_API_VIEW","ROLE_ADMIN"],l.loadAll=i,l.loadAll(),l.clear=r}angular.module("portalApplicationApp").controller("AppListController",e),e.$inject=["$uibModalInstance","selection","$state","Api","$uibModal"]}(),function(){"use strict";function ApiGroupDialogController($uibModalInstance,selectedApi,$stateParams,ApiGroup,$uibModal){function loadList(){ApiGroup.listByApi({id:selectedApi.id,size:vm.stateParams.size,page:vm.stateParams.page},function(e,t){vm.groups=e,vm.totalItems=t("x-total-count")})}function onSuccess(){vm.loadAll()}function loadAll(){loadList(),vm.currentPage=eval(vm.stateParams.page)+1}function pageChanged(){vm.stateParams.page=vm.currentPage-1,loadList()}function clear(){$uibModalInstance.dismiss("cancel")}var vm=this;vm.stateParams=$stateParams,vm.authorities=["ROLE_API_CREATE","ROLE_ADMIN"],vm.loadAll=loadAll,vm.pageChanged=pageChanged,vm.clear=clear,vm.loadAll()}angular.module("portalApplicationApp").controller("ApiGroupDialogController",ApiGroupDialogController),ApiGroupDialogController.$inject=["$uibModalInstance","selectedApi","$stateParams","ApiGroup","$uibModal"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(e){return!v.group.isPrivate||e.isPrivate}function s(){v.group.isPrivate?(v.searchAvailableApis={isPrivate:!0},v.searchGroupApis={isPrivate:!0},v.targetList.forEach(function(e){e.isPrivate||g(e)})):(v.searchAvailableApis={},v.searchGroupApis={})}function c(){v.searchAvailableApis&&null==v.searchAvailableApis.isPrivate&&delete v.searchAvailableApis.isPrivate,v.searchGroupApis&&null==v.searchGroupApis.isPrivate&&delete v.searchGroupApis.isPrivate}function p(){r.underLoading("underLoading",{top:"0px",left:"11px",width:"97.1%",height:"99%"}),i.listApproved(function(e){v.sourceList=e,v.targetList&&u(),r.completeLoading()})}function u(){v.targetList.forEach(function(e,t){v.sourceList=v.sourceList.filter(function(t){return e.id!=t.id})})}function d(e,t){v.targetList.push(t),v.sourceList.splice(v.sourceList.indexOf(t),1)}function m(e,t){v.selectedlineValue=[],v.selectedlineValue.push(v.selectedlinValue.indexOf(t))}function g(e){v.targetList.splice(v.targetList.indexOf(e),1),v.sourceList.push(e)}function f(){t.dismiss()}function h(){v.group.apis=[],v.targetList.forEach(function(e){v.group.apis.push({id:e.id})}),n?v.group.call="update":v.group.call="create",t.close(v.group)}var v=this;v.clear=f,v.confirm=h,v.apiFilter=l,v.targetList=[],v.currentAccount=a.identity().$$state.value,v.selectedGroup=n,v.selectApiList=d,v.searchAllRange=c,v.setSearchPrivate=s,v.group={},n&&(v.group=angular.copy(n),v.targetList=v.group.apis),v.clicklineValue=m,v.removeMember=g,v.apiLoad=p,angular.element(document).ready(function(){v.apiLoad()}),v.sortableOptions={placeholder:"app-ph",connectWith:".apps-container"}}angular.module("portalApplicationApp").controller("ApiGroupEditController",e),e.$inject=["$scope","$uibModalInstance","selectedGroup","Principal","ApprovalLine","Api","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a){function o(){d.currentPage=1,d.condition={apiGroupName:d.apiGroupName,apiGroupPrivateOption:d.apiGroupPrivate?d.apiGroupPrivate:null,apiName:d.apiName,size:d.stateParams.size,page:0,sort:d.condition.sort},l()}function i(e){n.open({templateUrl:"app/admin/apis/admin-api-management-dialog.html",
controller:"AdminApiManagementDialogController",controllerAs:"vm",backdrop:"static",size:"xl",resolve:{selectedApi:e}})}function r(e,t){d.condition.sort=a.sorting(d.condition.sort,e,t),d.condition.page=0,d.currentPage=1,l()}function l(e){e>=0&&(d.condition.page=e,d.currentPage=e+1),t.list(d.condition,function(e,t){d.groups=e,d.totalItems=t("x-total-count")})}function s(e){a.onError(e.data.description)}function c(){d.condition.page=d.currentPage-1,l()}function p(e){n.open({templateUrl:"app/account/api/api-group/api-group-edit.html",controller:"ApiGroupEditController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{selectedGroup:e}}).result.then(function(e){"update"==e.call?t.update({id:e.id},e,l,s):"cancel"==e?l():t.create(e,function(){l(0)},s)})}function u(e){var a=e.name+" API 그룹을";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:a,type:"delete"}}}}).result.then(function(n){n&&t.delete({id:e.id},function(){l(0)},s)})}var d=this;d.stateParams=e,d.authorities=["ROLE_API_CREATE","ROLE_ADMIN"],d.addGroup=p,d.delGroup=u,d.showDetailApi=i,d.loadAll=l,d.pageChanged=c,d.searching=o,d.sorting=r,d.condition={size:d.stateParams.size,page:d.stateParams.page,sort:d.stateParams.sort},d.loadAll()}angular.module("portalApplicationApp").controller("ApiGroupController",e),e.$inject=["$stateParams","ApiGroup","$uibModal","CommonUtil"]}(),function(){"use strict";function e(e){e.state("apiGroup",{parent:"api",url:"/apigroups?size&page",data:{authorities:["ROLE_API_CREATE"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/api/api-group/api-group.html",controller:"ApiGroupController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){u.billing.chargePerHit=t.commaBind(u.billing.chargePerHit),u.billing.leastAmount=t.commaBind(u.billing.leastAmount),u.billing.segments.length?u.billing.segments.forEach(function(e){e.chargePerHit=t.commaBind(e.chargePerHit),e.threshold=t.commaBind(e.threshold)}):u.billing.segments=[]}function l(e){u.billing.segments.splice(e,1)}function s(){u.billing.segments.push({threshold:"",chargePerHit:""})}function c(){u.billing=i,a.dismiss("cancel")}function p(){var e=!1;if(u.billing.segments.length>0){if(u.billing.segments.forEach(function(t,n){n>0&&numeral(t.threshold).value()<=numeral(u.billing.segments[n-1].threshold).value()?(e=!0,t.thresholdError=!0):t.thresholdError=!1}),e)return void t.onError("임계치의 입력값이 잘못되었습니다.<br/>임계치의 나중 값은 앞의 값보다 커야 합니다.");u.billing.segments.forEach(function(e,t){e.threshold=numeral(e.threshold).value()||0,e.chargePerHit=numeral(e.chargePerHit).value()||0})}u.billing.chargePerHit=numeral(u.billing.chargePerHit).value()||0,u.billing.leastAmount=numeral(u.billing.leastAmount).value()||0,u.billing.id?(u.billing.type="update",a.close(u.billing)):(u.billing.type="save",a.close(u.billing))}var u=this;u.authorities=["ROLE_PLAN_CREATE"],u.clear=c,u.save=p,u.addBilling=s,u.delSegments=l,i?(u.billing=angular.copy(i),u.mode="edit",r()):(u.billing={segments:[]},u.mode="register"),u.intervalBillings={},o.getAll().then(function(e){u.languages=e})}angular.module("portalApplicationApp").controller("BillingEditDialogController",e),e.$inject=["$timeout","CommonUtil","$scope","$uibModalInstance","JhiLanguageService","selections"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e,t){f.condition.sort=n.sorting(f.condition.sort,e,t),f.condition.page=0,f.currentPage=1,l()}function l(e){e>=0&&(f.condition.page=e,f.currentPage=e+1),a.list(f.condition,function(e,t){f.Billings=e,f.totalItems=t("x-total-count")})}function s(){e.dismiss(e.getTop().key)}function c(){f.condition.page=f.currentPage-1,l()}function p(e){f.api={billingPolicy:e},o.open({templateUrl:"app/services/common/billing-policy.html",scope:t,backdrop:"static",size:"md"})}function u(e){o.open({templateUrl:"app/account/billing/billing-manage/billing-edit-dialog.html",controller:"BillingEditDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:e}}).result.then(function(t){"save"==t.type?a.create({id:f.user.$$state.value.organization.id},t,function(){l(0)},g):a.update({orgId:f.user.$$state.value.organization.id,id:e.id},t,m,g)})}function d(e,t){var n=e.name+" 과금정책을";o.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:n,type:t}}}}).result.then(function(t){t&&a.delete({orgId:f.user.$$state.value.organization.id,id:e.id},function(){l(0)},g)})}function m(){f.loadAll()}function g(e){n.onError(e.data.description)}var f=this;f.user=i.identity(),f.addBilling=u,f.delBilling=d,f.showBilling=p,f.clearTopModal=s,f.pageChanged=c,f.size=10,f.page=0,f.sort="id,desc",f.sorting=r,f.condition={id:f.user.$$state.value.organization.id,size:f.size,page:f.page,sort:f.sort},f.loadAll=l,f.loadAll()}angular.module("portalApplicationApp").controller("billingManageController",e),e.$inject=["$uibModalStack","$scope","CommonUtil","Billing","$uibModal","Principal"]}(),function(){"use strict";function e(e){e.state("billingManage",{parent:"billing",url:"/billingManage",data:{authorities:["ROLE_PLAN_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/billing/billing-manage/billing-manage.html",controller:"billingManageController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(){s.page=s.currentPage-1,s.clickSearchButton()}$("[type='number']").keydown(function(e){e.preventDefault()});var s=this;s.size=10,s.page=0,s.sort=["api.organization.name,asc","api.name,asc"],s.currentPage=s.page+1,s.pageChanged=l,s.success=!1,s.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",s.condition={},s.metricsList={},n.account?(s.user=n.account,s.isAdmin=n.account.authorities.indexOf("ROLE_ADMIN")>-1):s.user={login:"-1"},s.clickSearchButton=function(e){e&&(s.page=0,s.currentPage=1);var t=$.extend({orgId:"-1"!=s.user.login?s.user.organizationId:null,page:s.page,size:s.size,sort:s.sort},s.condition);a.accountSelect(t,function(t,n){s.metricsList=t,s.metricsList.forEach(function(e){e.orgWithdrawalTemp={},null!=e.orgWithdrawal&&(e.orgWithdrawalTemp.id=e.orgWithdrawal.id,e.orgWithdrawalTemp.bankName=e.orgWithdrawal.bankName,e.orgWithdrawalTemp.maskingAccountNumber=e.orgWithdrawal.maskingAccountNumber)}),e?s.metricsList&&0!=s.metricsList.length?(s.success=!0,s.totalItems=n("x-total-count"),s.organizationList=t.organizations):(s.success=!1,s.alertMessage="데이터가 존재하지 않습니다."):s.totalItems=n("x-total-count")})},s.clickUpdateButton=function(){if(void 0==s.metricsList.length||0==s.metricsList.length)return void i.onError("데이터가 존재하지 않습니다.");var e=[];return s.metricsList.forEach(function(t){null==t.orgWithdrawal?null!=t.orgWithdrawalTemp.id&&e.push({id:t.id,orgWithdrawal:{id:t.orgWithdrawalTemp.id}}):t.orgWithdrawal.id!=t.orgWithdrawalTemp.id&&e.push({id:t.id,orgWithdrawal:{id:t.orgWithdrawalTemp.id}})}),0==e.length?void i.onError("변경내역이 없습니다."):void a.accountUpdate(e,function(e){var t={title:"변경 확인",message:"저장되었습니다.",callback:s.clickSearchButton};i.modalOne(t)})},s.changeAlias=function(e,t){e.m.organization.orgWithdrawals.forEach(function(t){t.id==e.m.orgWithdrawalTemp.id&&(e.m.orgWithdrawalTemp.bankName=t.bankName,e.m.orgWithdrawalTemp.maskingAccountNumber=t.maskingAccountNumber)})},s.clickSearchButton(!0)}angular.module("portalApplicationApp").controller("ChargeAccountController",e),e.$inject=["Billing","$scope","$rootScope","BillingCharge","AdminReportService","CommonUtil","$uibModal"]}(),function(){"use strict";function e(e){e.state("charge-account",{parent:"charge",url:"/account/charge/charge-account",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/charge/charge-account/charge-account.html",controller:"ChargeAccountController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("charge"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){function s(){l.onError("이미지크기가 "+l.fileSize({fileSize:n.editorImageFileSize})+"를 초과했습니다.")}function c(e,t){O.condition.sort=l.sorting(O.condition.sort,e,t),O.condition.page=0,O.currentPage=1,d()}function p(e,t){O.terms.attachFileIds=null,O.terms.attachFileList.splice(t,1)}function u(){O.readOnly=!1}function d(e){O.showDiv=!1,e>=0&&(O.condition.page=e,O.currentPage=e+1),i.listTerms(O.condition,function(e,t){O.termsList=e,O.totalItems=t("x-total-count")})}function m(){O.condition.page=O.currentPage-1,d()}function g(){O.readOnly=!1,O.showDiv=!0,O.mode="register",O.terms={}}function f(e,n){O.showDiv=!0,O.mode=n,O.readOnly="view"==n,O.terms=e,O.original=angular.copy(e),t(function(){$("#contentsBody").html(O.terms.content)})}function h(e){var t=e.name+" 약관을",n=function(t){t&&i.delTerms({id:e.id},function(){d(0)},v)};l.deleteModal(t,n)}function v(e){l.onError(e.data.description)}function A(){O.terms.attachFileList=null,"register"==O.mode?i.addTerms(O.terms,function(){d(0)},v):i.editTerms({id:O.terms.id},O.terms,d,v)}function y(){O.terms="register"==O.mode?{}:angular.copy(O.original),t(function(){e($("#summernoteEditor").contents())(o)})}function b(e){r.open({templateUrl:"app/services/common/terms-modal.html",controller:"termsModalController",controllerAs:"vm",backdrop:"static",size:"lg",resolve:{item:e}})}function P(){O.isTermsOpen_$index=!1}function w(){var e=l.getCookie("XSRF-TOKEN");if($("input[name=file-input]").val()){var t=$("input[name=file-input]").val().substring($("input[name=file-input]").val().lastIndexOf(".")+1).toUpperCase();if("PDF"!=t)return void l.onError("PDF 파일만 가능합니다.");if(navigator.userAgent.indexOf("MSIE 9.0")<0&&$("input[name=file-input]")[0].files[0].size>=n.attachFileSize)return void l.onError("파일사이즈는 "+l.fileSize({fileSize:n.attachFileSize})+"를 넘을 수 없습니다.");$("#fileForm").ajaxForm({url:"/files/upload?_csrf="+e,enctype:"multipart/form-data",type:"post",dataType:"json",data:{type:"terms"},success:function(e){O.terms.attachFileIds=e,A(),o.$apply()},error:function(e){return navigator.userAgent.indexOf("MSIE 9.0")!==-1?void l.onError("업로드 대상 파일을 다시 확인해 주십시오."):void(500==e.status?l.onError("업로드 대상 파일을 다시 확인해 주십시오."):l.onError(e.responseJSON.description))}}),$("#fileForm").submit()}else O.terms.attachFileIds=[],O.terms.attachFileList&&O.terms.attachFileList.length>0&&O.terms.attachFileList.forEach(function(e){O.terms.attachFileIds.push(e.id)}),A()}function C(e){o.account&&window.open("/files/view/"+e.id,"약관",null)}var O=this;O.stateParams=a,O.sorting=c,O.authorities=["ROLE_API_VIEW","ROLE_ADMIN"],O.loadAll=d,O.condition={size:O.stateParams.size,page:O.stateParams.page,sort:O.stateParams.sort},O.loadAll(),O.delTerms=h,O.addTerms=g,O.editTerms=f,O.pageChanged=m,O.readOnlyToggle=u,O.save=w,O.clear=y,O.showTermsContent=b,O.closeTerm=P,O.fileSize=l.fileSize,O.fileDown=C,O.readOnly=!0,O.delFile=p,O.delInput=l.delInput,O.selectFile=l.selectFile,O.deletion=!1,O.files=[{data:null}],o.addFileInput=function(e,t){if(!O.deletion){var n=e.target.id.split("-")[1];l.addFileInput(n,O.files,t)}},O.termPopover={templateUrl:"app/layouts/popover-template/content-popover.html"},O.maximumImageFileSizeCheck=s,O.summernoteToolbar={toolbar:[],lang:"ko-KR",maximumImageFileSize:n.editorImageFileSize,callbacks:{onImageUploadError:O.maximumImageFileSizeCheck}},O.iePdfviewHelpPopover={templateUrl:"/app/layouts/popover-template/ie-pdf-view-help-popover.html"}}angular.module("portalApplicationApp").controller("ApiTermsController",e),e.$inject=["$compile","$timeout","CommonConstants","$stateParams","$scope","Api","$uibModal","CommonUtil"]}(),function(){"use strict";function e(e){e.state("apiTerms",{parent:"api",url:"/terms?size&page",data:{authorities:["ROLE_API_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/api/api-terms/api-terms.html",controller:"ApiTermsController",controllerAs:"vm"}},params:{size:{value:"10",squash:!0},page:{value:"0",squash:!0},sort:{value:"id,desc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("api"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(){c.page=c.currentPage-1,c.clickSearchButton()}function s(t){t.tooltipOpen?t.tooltipOpen=!1:(c.metricsList.forEach(function(e){e.tooltipOpen=!1}),e.showDetail({id:t.billingPolicyId,orgId:t.orgId}).$promise.then(function(e){c.billingPolicy=e,t.tooltipOpen=!0}))}$("[type='number']").keydown(function(e){e.preventDefault()});var c=this;c.size=10,c.page=0,c.currentPage=c.page+1,c.pageChanged=l,c.success=!1,c.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",c.condition={},c.tooltipControl=s,c.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},c.bankName="",c.accountNumber="",n.account?(c.user=n.account,c.isAdmin=n.account.authorities.indexOf("ROLE_ADMIN")>-1):c.user={login:"-1"},c.clickSearchButton=function(e){e&&(c.page=0,c.currentPage=1,c.selectedOrganization=null);var t=$.extend({page:c.page,size:c.size,sort:c.sort},c.condition);t.chargeMonth&&(t.chargeMonth=t.chargeMonth.getFullYear()+""+(t.chargeMonth.getMonth()<9?"0"+(t.chargeMonth.getMonth()+1):t.chargeMonth.getMonth()+1));$.param(t,!0);a.queryProviding(t,function(t,n){c.metricsList=t,e?c.metricsList&&0!=c.metricsList.length?(c.success=!0,c.totalItems=n("x-total-count"),c.organizationList=t.organizations):(c.success=!1,c.alertMessage="데이터가 존재하지 않습니다."):c.totalItems=n("x-total-count")})};var p=new Date;c.condition.chargeMonth=new Date(p.getFullYear(),p.getMonth()-1,p.getDate(),0,0,0),c.clickSearchButton(!0),t.openDatePicker=function(e){e.preventDefault(),e.stopPropagation(),c.dateOpen=!c.dateOpen},t.dateOptions={datepickerMode:"month",minMode:"month"},c.showAccount=function(e,n){c.bankName=e.bankName,c.accountNumber=e.accountNumber,r.open({templateUrl:"app/account/charge/charge-search/account-info.html",scope:t,backdrop:"static",size:"md"})},c.showApps=function(e,n){a.usedAppList({id:e,orgId:n}).$promise.then(function(e){c.apps=e,r.open({templateUrl:"app/account/charge/charge-search/api-app-list.html",scope:t,backdrop:"static",size:"md"})})},c.clear=function(){i.dismissAll()},c.downloadExcel=function(){var e=$.extend({providerId:null!=c.user.organization?c.user.organization.id:null},c.condition);e.chargeMonth&&(e.chargeMonth=e.chargeMonth.getFullYear()+""+(e.chargeMonth.getMonth()<9?"0"+(e.chargeMonth.getMonth()+1):e.chargeMonth.getMonth()+1));var t=$.param(e,!0);window.open("api/charge/excel/providing?"+t,"_blank")}}angular.module("portalApplicationApp").controller("ChargeManageController",e),e.$inject=["Billing","$scope","$rootScope","BillingCharge","AdminReportService","$uibModalStack","$uibModal"]}(),function(){"use strict";function e(e){e.state("charge-manage",{parent:"charge",url:"/account/charge/charge-manage",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/charge/charge-manage/charge-manage.html",controller:"ChargeManageController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("charge"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){l.page=l.currentPage-1,l.clickSearchButton()}$("[type='number']").keydown(function(e){e.preventDefault()});var l=this;l.size=10,l.page=0,l.currentPage=l.page+1,l.pageChanged=r,l.success=!1,l.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",l.condition={},l.metricsList={},l.clickSearchButton=function(e){e&&(l.page=0,l.currentPage=1,l.selectedOrganization=null);var t=$.extend({page:l.page,size:l.size,sort:l.sort},l.condition);t.chargeMonth&&(t.chargeMonth=t.chargeMonth.getFullYear()+""+(t.chargeMonth.getMonth()<9?"0"+(t.chargeMonth.getMonth()+1):t.chargeMonth.getMonth()+1)),n.queryProviding(t,function(t,n){l.metricsList=t,e?l.metricsList&&0!=l.metricsList.length?(l.success=!0,l.totalItems=n("x-total-count"),l.organizationList=t.organizations):(l.success=!1,l.alertMessage="데이터가 존재하지 않습니다."):l.totalItems=n("x-total-count")})},l.clickUpdateButton=function(){if(void 0==l.metricsList.length||0==l.metricsList.length)return void o.onError("데이터가 존재하지 않습니다.");var e=[];return l.metricsList.forEach(function(t){1==t.updateFlag&&e.push(t)}),0==e.length?void o.onError("변경내역이 없습니다."):void n.update(e,function(e){o.onError("저장되었습니다.","","modify",l.clickSearchButton,"변경 확인")})},l.changeAmount=function(e,t){e.m.updateFlag=!0};var s=new Date;l.condition.chargeMonth=new Date(s.getFullYear(),s.getMonth()-1,s.getDate(),0,0,0),l.clickSearchButton(!0),t.openDatePicker=function(e){e.preventDefault(),e.stopPropagation(),l.dateOpen=!l.dateOpen},t.dateOptions={datepickerMode:"month",minMode:"month"}}angular.module("portalApplicationApp").controller("ChargeAdjustController",e),e.$inject=["Billing","$scope","BillingCharge","AdminReportService","CommonUtil","$uibModal"]}(),function(){"use strict";function e(e){e.state("charge-adjust",{parent:"charge",url:"/account/charge/charge-adjust",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/charge/charge-adjust/charge-adjust.html",controller:"ChargeAdjustController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("charge"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(){c.page=c.currentPage-1,c.clickSearchButton()}function s(t){t.tooltipOpen?t.tooltipOpen=!1:(c.metricsList.forEach(function(e){e.tooltipOpen=!1}),e.showDetail({id:t.billingPolicyId,orgId:t.orgId}).$promise.then(function(e){c.billingPolicy=e,t.tooltipOpen=!0}))}$("[type='number']").keydown(function(e){e.preventDefault()});var c=this;c.size=10,c.page=0,c.currentPage=c.page+1,c.pageChanged=l,c.success=!1,c.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",c.condition={},c.tooltipControl=s,c.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},c.bankName="",c.accountNumber="",n.account?(c.user=n.account,c.isAdmin=n.account.authorities.indexOf("ROLE_ADMIN")>-1):c.user={login:"-1"},c.clickSearchButton=function(e){e&&(c.page=0,c.currentPage=1,c.selectedOrganization=null);var t=$.extend({page:c.page,size:c.size,sort:c.sort},c.condition);t.chargeMonth&&(t.chargeMonth=t.chargeMonth.getFullYear()+""+(t.chargeMonth.getMonth()<9?"0"+(t.chargeMonth.getMonth()+1):t.chargeMonth.getMonth()+1)),a.queryUsing(t,function(t,n){c.metricsList=t,e?c.metricsList&&0!=c.metricsList.length?(c.success=!0,c.totalItems=n("x-total-count"),c.organizationList=t.organizations):(c.success=!1,c.alertMessage="데이터가 존재하지 않습니다."):c.totalItems=n("x-total-count")})};var p=new Date;c.condition.chargeMonth=new Date(p.getFullYear(),p.getMonth()-1,p.getDate(),0,0,0),c.clickSearchButton(!0),t.openDatePicker=function(e){e.preventDefault(),e.stopPropagation(),c.dateOpen=!c.dateOpen},t.dateOptions={datepickerMode:"month",minMode:"month"},c.showAccount=function(e,n){c.bankName=e.bankName,c.accountNumber=e.accountNumber,r.open({templateUrl:"app/account/charge/charge-search/account-info.html",scope:t,backdrop:"static",size:"md"})},c.showApps=function(e,n){a.usedAppList({id:e,orgId:n}).$promise.then(function(e){c.apps=e,r.open({templateUrl:"app/account/charge/charge-search/api-app-list.html",scope:t,backdrop:"static",size:"md"})})},c.clear=function(){i.dismissAll()},c.downloadExcel=function(){var e=$.extend({orgId:null!=c.user.organization?c.user.organization.id:null,page:c.page,size:c.size,sort:c.sort},c.condition);e.chargeMonth&&(e.chargeMonth=e.chargeMonth.getFullYear()+""+(e.chargeMonth.getMonth()<9?"0"+(e.chargeMonth.getMonth()+1):e.chargeMonth.getMonth()+1));var t=$.param(e,!0);window.open("api/charge/excel/using?"+t,"_blank")}}angular.module("portalApplicationApp").controller("ChargeSearchController",e),e.$inject=["Billing","$scope","$rootScope","BillingCharge","AdminReportService","$uibModalStack","$uibModal"]}(),function(){"use strict";function e(e){e.state("charge-search",{parent:"charge",url:"/account/charge/charge-search",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/charge/charge-search/charge-search.html",controller:"ChargeSearchController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("charge"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){s.rates[0]>100?(s.rates[0]=100,s.rates[1]=null):0==s.rates[0]?"00"==s.rates[1]&&2==s.rates[1].length&&(s.rates[1]="01"):100==s.rates[0]&&(s.rates[1]=null)}function r(){s.discountPolicy=o?o:{},n.dismiss("cancel")}function l(){s.discountPolicy.rates=s.rates[1]?s.rates[0]+"."+s.rates[1]:s.rates[0],s.discountPolicy.id?(s.discountPolicy.type="update",n.close(s.discountPolicy)):(s.discountPolicy.type="save",n.close(s.discountPolicy))}var s=this;s.authorities=["ROLE_PLAN_CREATE"],s.clear=r,s.save=l,s.checkRates=i,s.discountRatesLimit=100,o?(s.discountPolicy=angular.copy(o),s.rates=s.discountPolicy.rates.toString().indexOf(".")>-1?s.discountPolicy.rates.toString().split("."):[s.discountPolicy.rates,"00"],1==s.rates[1].length&&(s.rates[1]=s.rates[1]+"0")):s.rates=[],a.getAll().then(function(e){s.languages=e})}angular.module("portalApplicationApp").controller("DiscountEditDialogController",e),e.$inject=["$timeout","$scope","$uibModalInstance","JhiLanguageService","selections"]}(),function(){"use strict";function e(e,t,n,a){function o(t,n){p.condition.sort=e.sorting(p.condition.sort,t,n),p.condition.page=0,p.currentPage=1,i()}function i(e){e>=0&&(p.condition.page=e,p.currentPage=e+1),t.list(p.condition,function(e,t){p.discountPolicies=e,p.totalItems=t("x-total-count")})}function r(){p.condition.page=p.currentPage-1,i()}function l(e){n.open({templateUrl:"app/account/discount/discount-manage/discount-edit-dialog.html",controller:"DiscountEditDialogController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{selections:e}}).result.then(function(n){"save"==n.type?t.create({orgId:p.user.$$state.value.organization.id},n,function(){i(0)},c):t.update({orgId:p.user.$$state.value.organization.id,policyId:e.id},n,i,c)})}function s(e,a){var o=e.name+" 할인정책을";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:o,type:a}}}}).result.then(function(n){n&&t.delete({orgId:p.user.$$state.value.organization.id,policyId:e.id},function(){i(0)},c)})}function c(t){e.onError(t.data.description)}var p=this;p.authorities=["ROLE_PLAN_VIEW"],p.user=a.identity(),p.editPolicy=l,p.delPolicy=s,p.pageChanged=r,p.size=10,p.page=0,p.sort="id,desc",p.loadAll=i,p.sorting=o,p.condition={orgId:p.user.$$state.value.organization.id,size:p.size,page:p.page,sort:p.sort},p.loadAll()}angular.module("portalApplicationApp").controller("DiscountManageController",e),e.$inject=["CommonUtil","Discount","$uibModal","Principal"]}(),function(){"use strict";function e(e){e.state("discountManage",{parent:"discount",url:"/discountManage",data:{authorities:["ROLE_PLAN_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/discount/discount-manage/discount-manage.html",controller:"DiscountManageController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("discount"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e,t){u.condition.sort=i.sorting(u.condition.sort,e,t),u.condition.page=0,u.currentPage=1,l()}function l(e){e>=0&&(u.condition.page=e,u.currentPage=e+1),a.list(u.condition,function(e,t){u.plans=e,u.totalItems=t("x-total-count")})}function s(){u.condition.page=u.currentPage-1,l()}function c(e,t){var n="";return 1==t?(u.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(u.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function p(e){i.onError(e.data.description)}var u=this;u.loadAll=l,u.authorities=["ROLE_PLAN_VIEW"],u.filter=c,u.size=10,u.page=0,u.sort="id,desc",u.sorting=r,u.condition={isGlobal:!1,size:u.size,page:u.page,sort:u.sort},u.pageChanged=s,e.hasAuthority("ROLE_ADMIN").then(function(e){e&&(u.isAdmin=!0)}),e.hasAuthority("ROLE_MANAGER").then(function(e){e&&(u.isManager=!0)}),u.loadAll(),u.apiplanhelpPopover={templateUrl:"app/layouts/popover-template/apiplanhelp-popover.html"},u.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],u.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],t.addPlan=function(e,t){n.open({templateUrl:"app/account/plans/planEdit-dialog.html",controller:"planEditDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectPlan:function(){return{data:t,type:"apiPlan",isGlobal:e}}}}).result.then(function(t){e?loadGlobalPlans():l(0)})},t.deletePlan=function(e,t){var o=e.name+" 정책을";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:o,type:t}}}}).result.then(function(t){t&&a.delete({id:e.id},function(){l(0)},p)})}}angular.module("portalApplicationApp").controller("ApiPlanController",e),e.$inject=["Principal","$scope","$uibModal","apiPlans","AlertService","CommonUtil"]}(),function(){"use strict";function e(e){e.state("apiPlan",{parent:"plans",url:"/apiPlan",data:{authorities:["ROLE_PLAN_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/plans/apiPlan/apiPlan.html",controller:"ApiPlanController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("plan"),t.addPart("approval"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){v.condition.page=v.currentPage-1,v.checkingChangedInternal(!0)}function r(e,t,n){switch(t){case"checked":e.sort(function(e,t){return e.checked>t.checked?n?-1:1:e.checked<t.checked?n?1:-1:e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0});break;case"selectedAppUnmapping":e.sort(function(e,t){return e.selectedAppUnmapping>t.selectedAppUnmapping?n?-1:1:e.selectedAppUnmapping<t.selectedAppUnmapping?n?1:-1:e.appUnmapping>t.appUnmapping?n?-1:1:e.appUnmapping<t.appUnmapping?n?1:-1:e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0});break;case"fullName":e.sort(function(e,t){return e.fullName>t.fullName?n?-1:1:e.fullName<t.fullName?n?1:-1:0});break;case"name":e.sort(function(e,t){return e.name>t.name?n?-1:1:e.name<t.name?n?1:-1:0})}}function l(){v.availableAppList=[],v.availableAppList=v.appList.filter(function(e){return $.inArray(e.organization.id,v.condition.orgIdList)>-1}),0!=v.condition.orgIdList.length&&v.condition.orgIdList.length!=v.organizationList.length||angular.copy(v.appList,v.availableAppList),r(v.availableAppList,"fullName")}function s(){v.condition.appIdList.length>0?v.availableApiList.forEach(function(e){e.selectedAppUnmapping=!0,v.availableAppList.some(function(t){return $.inArray(t.id,v.condition.appIdList)>-1&&t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.selectedAppUnmapping=!1),e.id==t.api.id}),!e.selectedAppUnmapping})}):v.availableApiList.forEach(function(e){e.selectedAppUnmapping=!0,v.availableAppList.some(function(t){return t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.selectedAppUnmapping=!1),e.id==t.api.id}),!e.selectedAppUnmapping})}),r(v.availableApiList,"selectedAppUnmapping")}function c(e,t){switch(t){case"org":v.isOrgAllChecked=!1,v.searchOrgText=null;break;case"app":v.isAppAllChecked=!1,v.searchAppText=null;break;case"api":v.isApiAllChecked=!1,v.searchApiText=null}e.forEach(function(e){e.checked=!1})}function p(e,t,n){e.filter(function(e){return n(e)}).forEach(function(e){e.checked=t})}function u(e){"app"==e?(l(),c(v.availableAppList,"app"),m("app",!1)):(s(),c(v.availableApiList,"api"),m("api"))}function d(e){switch(e){case"org":p(v.organizationList,v.isOrgAllChecked,v.filterOrganization),m("org",!1);break;case"app":p(v.availableAppList,v.isAppAllChecked,v.filterApp),m("app",!1);break;case"api":p(v.availableApiList,v.isApiAllChecked,v.filterApi),m("api")}}function m(e,n){switch(e){case"org":v.condition.orgIdList=v.organizationList.filter(function(e){return e.checked}).map(function(e){return e.id}),n&&0==v.condition.orgIdList.length&&t.onError("기관을 먼저 선택하십시오.");break;case"app":v.condition.appIdList=v.availableAppList.filter(function(e){return e.checked}).map(function(e){return e.id}),n&&0==v.condition.appIdList.length&&t.onError("기관과 앱을 먼저 선택하십시오.");break;case"api":v.condition.apiIdList=v.availableApiList.filter(function(e){return e.checked}).map(function(e){return e.id})}}function g(){e(function(){d3.select("svg > .nvd3 > g > .nv-focus > .nv-y > .nv-axis > g > text.nv-axislabel").attr("transform","rotate(0)").attr("x",-10).attr("y",-10)}),v.options.chart.yAxis.axisLabel=v.forChart.valueName.indexOf("Time")>-1?"단위 (초)":""}function f(){v.isAutoMode&&v.checkingChangedInternal()}function h(e){return!e.filter(function(e){return!e.checked}).length}n.account.organization&&n.account.organization.id&&"INACTIVE"!=!n.account.organization.state||(v.nonOrgAlert=!0),$("input[id=time]").keydown(function(e){e.preventDefault()});var v=this;v.afterSearch=!1,v.pageChanged=i,v.checkingChanged=f,v.getSizeChecked=m,v.arraySorting=r,v.getUnmappingListFlag=!1,v.getMappingListFlag=!1,v.page=0,v.size=5;var A={};v.condition={groupBy:"ORGANIZATION",size:v.size,page:v.page},v.forChart={valueName:"attemptedCount"},v.isAutoMode=!1,v.options={chart:{type:"stackedAreaChart",height:480,margin:{top:0,right:10,bottom:40,left:90},x:function(e){return e[0]},y:function(e){var t=v.forChart.valueName.indexOf("Time")>-1?1e3:1;return e[1][v.forChart.valueName]/t},useVoronoi:!1,clipEdge:!0,duration:0,useInteractiveGuideline:!0,xAxis:{showMaxMin:!0,tickFormat:function(e){var t=v.condition.daily?"%Y/%m/%d":"%Y/%m/%d %Hh";return d3.time.format(t)(new Date(e))},rotateLabels:-16,rotateYLabel:!0,tickValues:function(e){if(!e)return[];var t=d3.extent(e[0].values,function(e){return e[0]}),n=v.condition.daily?864e5:36e5,a=t[1]-t[0],o=parseInt(a/n);if(o<1)return t;o=Math.min(o,6);var i=parseInt(a/o/n)*n;return d3.range(t[0],t[1],i)}},yAxis:{showMaxMin:!1,tickFormat:function(e){return v.forChart.valueName.indexOf("Min")>-1?d3.format(",.3f")(e):v.forChart.valueName.indexOf("Time")>-1?d3.format(",.2f")(e):d3.format(",")(e)},axisLabel:""},zoom:{enabled:!1,scaleExtent:[1,10],useFixedDomain:!1,useNiceScale:!1,horizontalOff:!1,verticalOff:!0,unzoomEventType:"dblclick.zoom"},controlLabels:{stacked:"스택",expanded:"확장"
},controlOptions:["Stacked","Expanded"]}},t.underLoading(),o.organizations({orgType:"provider"}).$promise.then(function(e){v.organizationList=e.orgs,v.appList=e.apps,v.apiList=e.apis,v.appList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name}),v.apiList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name,e.appUnmapping=!0,v.appList.some(function(t){return t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.appUnmapping=!1),e.id==t.api.id}),!e.appUnmapping})}),r(v.organizationList,"name"),v.availableApiList=angular.copy(v.apiList),v.condition.orgIdList=[],v.condition.appList=[],v.condition.apiList=[],t.completeLoading(),v.isOrgAllChecked=!0,v.isAppAllChecked=!0,v.isApiAllChecked=!1,d("org"),l(),d("app"),s(),d("api")}),v.orgOrderByChecked=!0,v.orgOrderByName=!0,v.appOrderByChecked=!0,v.appOrderByFullName=!0,v.apiOrderByChecked=!0,v.apiOrderByFullName=!0,v.apiOrderBySelectedAppUnmapping=!0,v.checkingAllCheckBox=function(e){switch(e){case"org":d("org"),u("app"),u("api");break;case"app":d("app"),u("api"),v.isAppAllChecked&&f();break;case"api":d("api"),v.isApiAllChecked&&f()}},v.checkingOneCheckBox=function(e){switch(e){case"org":v.isOrgAllChecked=!1,m("org",!1),u("app"),u("api"),$("#appScroll").scrollTop(0),$("#apiScroll").scrollTop(0);break;case"app":v.isAppAllChecked=!1,m("app"),u("api"),$("#apiScroll").scrollTop(0),f();break;case"api":v.isApiAllChecked=!1,m("api"),f()}},v.changeValueName=function(){v.chartApi.refresh(),g()},v.checkingChangedInternal=function(e){m("org"),m("app"),m("api"),e?(v.condition.page=v.currentPage-1,A.page=v.condition.page):(v.currentPage=1,v.condition.page=0,v.condition.size=v.size,A=angular.copy(v.condition)),A.orgIdList.length>0&&A.appIdList.length>0?(t.underLoading(),e||v.availableApiList.length!=A.apiIdList.length||(A.apiIdList=[]),a.query(A,function(e,n){v.data=e.map(function(e){return{key:A.total?"합계":e.key.name,values:e.values}}),v.totalItems=A.total?-1:n("x-total-count"),g(),t.completeLoading(),v.afterSearch=!0})):t.onError("하나 이상의 기관과 앱을 선택하십시오.")},v.filterOrganization=function(e){return v.searchOrgText?(v.organizationList[0].id==e.id&&(v.resultSignFilteredOrg=!1),e.name.toLowerCase().indexOf(v.searchOrgText.toLowerCase())>-1&&(v.resultSignFilteredOrg=!0),e.name.toLowerCase().indexOf(v.searchOrgText.toLowerCase())>-1):(v.resultSignFilteredOrg=!0,!0)},v.filterApp=function(e){return!v.organizationList||0==v.organizationList.length||(v.searchAppText?(v.availableAppList[0].id==e.id&&(v.resultSignFilteredApp=!1),e.name.toLowerCase().indexOf(v.searchAppText.toLowerCase())>-1&&(v.resultSignFilteredApp=!0),e.name.toLowerCase().indexOf(v.searchAppText.toLowerCase())>-1):(v.resultSignFilteredApp=!0,!0))},v.filterApi=function(e){return v.searchApiText?(v.availableApiList[0].id==e.id&&(v.resultSignFilteredApi=!1),v.getUnmappingListFlag?((e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),(e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1):v.getMappingListFlag?(!e.appUnmapping&&!e.selectedAppUnmapping&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),!(e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1):(e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1)):(v.resultSignFilteredApi=!0,v.getUnmappingListFlag?e.appUnmapping||e.selectedAppUnmapping:!v.getMappingListFlag||!(e.appUnmapping||e.selectedAppUnmapping))},v.filteringCheckSize=function(e,t){switch(e){case"org":v.resultSizeOfOrgs=t.length,v.isOrgAllChecked=h(t);break;case"app":v.resultSizeOfApps=t.length,v.isAppAllChecked=h(t);break;case"api":v.resultSizeOfApis=t.length,v.isApiAllChecked=h(t),v.unmappedApis=v.availableApiList.filter(function(e){return e.appUnmapping||e.selectedAppUnmapping})}},v.downloadExcel=function(){window.open("api/metrics/excel","_blank")};var y=new Date;v.condition.fromTime=new Date(y.getFullYear(),y.getMonth(),y.getDate()-1,0,0,0),v.condition.toTime=new Date(y.getFullYear(),y.getMonth(),y.getDate(),0,0,0),v.setToTime=function(){var e=new Date(v.condition.fromTime.getTime()+31536e6);v.condition.toTime>e?v.condition.toTime=e:v.condition.toTime<v.condition.fromTime&&(v.condition.toTime=v.condition.fromTime),n.toDateOptions.maxDate=e>new Date?new Date:e,n.toDateOptions.minDate=v.condition.fromTime},n.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),v.fromDateOpen=!v.fromDateOpen,v.toDateOpen=!1},n.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),v.toDateOpen=!v.toDateOpen,v.fromDateOpen=!1},n.fromDateOptions={showWeeks:!1,maxDate:new Date,minDate:new Date(2016,12,1)},n.toDateOptions={showWeeks:!1,maxDate:new Date,minDate:v.condition.fromTime}}angular.module("portalApplicationApp").controller("ReportApiProvidingController",e),e.$inject=["$timeout","CommonUtil","$scope","Metrics","ReportService"]}(),function(){"use strict";function e(e){e.state("report-api-providing",{parent:"reports",url:"/account/reports/api-providing",data:{authorities:["ROLE_REPORT_VIEW_API"]},views:{"content@":{templateUrl:"app/account/reports/api/report-api-providing.html",controller:"ReportApiProvidingController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("report"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){v.condition.page=v.currentPage-1,v.checkingChangedInternal(!0)}function r(e,t,n){switch(t){case"checked":e.sort(function(e,t){return e.checked>t.checked?n?-1:1:e.checked<t.checked?n?1:-1:e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0});break;case"selectedAppUnmapping":e.sort(function(e,t){return e.selectedAppUnmapping>t.selectedAppUnmapping?n?-1:1:e.selectedAppUnmapping<t.selectedAppUnmapping?n?1:-1:e.appUnmapping>t.appUnmapping?n?-1:1:e.appUnmapping<t.appUnmapping?n?1:-1:e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0});break;case"fullName":e.sort(function(e,t){return e.fullName>t.fullName?n?-1:1:e.fullName<t.fullName?n?1:-1:0});break;case"name":e.sort(function(e,t){return e.name>t.name?n?-1:1:e.name<t.name?n?1:-1:0})}}function l(){v.availableAppList=[],v.availableAppList=v.appList.filter(function(e){return $.inArray(e.organization.id,v.condition.orgIdList)>-1}),0!=v.condition.orgIdList.length&&v.condition.orgIdList.length!=v.organizationList.length||angular.copy(v.appList,v.availableAppList),r(v.availableAppList,"fullName")}function s(){v.condition.appIdList.length>0?v.availableApiList.forEach(function(e){e.selectedAppUnmapping=!0,v.availableAppList.some(function(t){return $.inArray(t.id,v.condition.appIdList)>-1&&t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.selectedAppUnmapping=!1),e.id==t.api.id}),!e.selectedAppUnmapping})}):v.availableApiList.forEach(function(e){e.selectedAppUnmapping=!0,v.availableAppList.some(function(t){return t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.selectedAppUnmapping=!1),e.id==t.api.id}),!e.selectedAppUnmapping})}),r(v.availableApiList,"selectedAppUnmapping")}function c(e,t){switch(t){case"org":v.isOrgAllChecked=!1,v.searchOrgText=null;break;case"app":v.isAppAllChecked=!1,v.searchAppText=null;break;case"api":v.isApiAllChecked=!1,v.searchApiText=null}e.forEach(function(e){e.checked=!1})}function p(e,t,n){e.filter(function(e){return n(e)}).forEach(function(e){e.checked=t})}function u(e){"app"==e?(l(),c(v.availableAppList,"app"),m("app",!1)):(s(),c(v.availableApiList,"api"),m("api"))}function d(e){switch(e){case"org":p(v.organizationList,v.isOrgAllChecked,v.filterOrganization),m("org",!1);break;case"app":p(v.availableAppList,v.isAppAllChecked,v.filterApp),m("app",!1);break;case"api":p(v.availableApiList,v.isApiAllChecked,v.filterApi),m("api")}}function m(e,n){switch(e){case"app":v.condition.appIdList=v.availableAppList.filter(function(e){return e.checked}).map(function(e){return e.id}),n&&0==v.condition.appIdList.length&&t.onError("앱을 먼저 선택하십시오.");break;case"api":v.condition.apiIdList=v.availableApiList.filter(function(e){return e.checked}).map(function(e){return e.id})}}function g(){e(function(){d3.select("svg > .nvd3 > g > .nv-focus > .nv-y > .nv-axis > g > text.nv-axislabel").attr("transform","rotate(0)").attr("x",-10).attr("y",-10)}),v.options.chart.yAxis.axisLabel=v.forChart.valueName.indexOf("Time")>-1?"단위 (초)":""}function f(){v.isAutoMode&&v.checkingChangedInternal()}function h(e){return!e.filter(function(e){return!e.checked}).length}n.account.organization&&n.account.organization.id&&"INACTIVE"!=!n.account.organization.state||(v.nonOrgAlert=!0),$("input[id=time]").keydown(function(e){e.preventDefault()});var v=this;v.afterSearch=!1,v.pageChanged=i,v.checkingChanged=f,v.getSizeChecked=m,v.arraySorting=r,v.getUnmappingListFlag=!1,v.getMappingListFlag=!1,v.page=0,v.size=5;var A={};v.condition={groupBy:"ORGANIZATION",size:v.size,page:v.page},v.forChart={valueName:"attemptedCount"},v.isAutoMode=!1,v.options={chart:{type:"stackedAreaChart",height:480,margin:{top:0,right:10,bottom:40,left:90},x:function(e){return e[0]},y:function(e){var t=v.forChart.valueName.indexOf("Time")>-1?1e3:1;return e[1][v.forChart.valueName]/t},useVoronoi:!1,clipEdge:!0,duration:0,useInteractiveGuideline:!0,xAxis:{showMaxMin:!0,tickFormat:function(e){var t=v.condition.daily?"%Y/%m/%d":"%Y/%m/%d %Hh";return d3.time.format(t)(new Date(e))},rotateLabels:-16,rotateYLabel:!0,tickValues:function(e){if(!e)return[];var t=d3.extent(e[0].values,function(e){return e[0]}),n=v.condition.daily?864e5:36e5,a=t[1]-t[0],o=parseInt(a/n);if(o<1)return t;o=Math.min(o,6);var i=parseInt(a/o/n)*n;return d3.range(t[0],t[1],i)}},yAxis:{showMaxMin:!1,tickFormat:function(e){return v.forChart.valueName.indexOf("Min")>-1?d3.format(",.3f")(e):v.forChart.valueName.indexOf("Time")>-1?d3.format(",.2f")(e):d3.format(",")(e)},axisLabel:""},zoom:{enabled:!1,scaleExtent:[1,10],useFixedDomain:!1,useNiceScale:!1,horizontalOff:!1,verticalOff:!0,unzoomEventType:"dblclick.zoom"},controlLabels:{stacked:"스택",expanded:"확장"},controlOptions:["Stacked","Expanded"]}},t.underLoading(),o.organizations().$promise.then(function(e){v.organizationList=e.orgs,v.appList=e.apps,v.apiList=e.apis,v.appList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name}),v.apiList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name,e.appUnmapping=!0,v.appList.some(function(t){return t.appApiMappings&&t.appApiMappings.some(function(t){return e.id==t.api.id&&(e.appUnmapping=!1),e.id==t.api.id}),!e.appUnmapping})}),n.account.organization&&"PARTNER"==n.account.organization.type&&(v.apiList=v.apiList.filter(function(e){return!e.appUnmapping})),v.availableApiList=angular.copy(v.apiList),v.condition.orgIdList=[],v.condition.orgIdList.push(n.account.organization.id),v.condition.appList=[],v.condition.apiList=[],t.completeLoading(),v.isOrgAllChecked=!0,v.isAppAllChecked=!0,v.isApiAllChecked=!1,l(),d("app"),s(),d("api")}),v.orgOrderByChecked=!0,v.orgOrderByName=!0,v.appOrderByChecked=!0,v.appOrderByFullName=!0,v.apiOrderByChecked=!0,v.apiOrderByFullName=!0,v.apiOrderBySelectedAppUnmapping=!0,v.checkingAllCheckBox=function(e){switch(e){case"org":d("org"),u("app"),u("api");break;case"app":d("app"),u("api"),v.isAppAllChecked&&f();break;case"api":d("api"),v.isApiAllChecked&&f()}},v.checkingOneCheckBox=function(e){switch(e){case"org":v.isOrgAllChecked=!1,m("org",!1),u("app"),u("api"),$("#appScroll").scrollTop(0),$("#apiScroll").scrollTop(0);break;case"app":v.isAppAllChecked=!1,m("app"),u("api"),$("#apiScroll").scrollTop(0),f();break;case"api":v.isApiAllChecked=!1,m("api"),f()}},v.changeValueName=function(){v.chartApi.refresh(),g()},v.checkingChangedInternal=function(e){m("org"),m("app"),m("api"),e?(v.condition.page=v.currentPage-1,A.page=v.condition.page):(v.currentPage=1,v.condition.page=0,v.condition.size=v.size,A=angular.copy(v.condition)),A.orgIdList.length>0&&A.appIdList.length>0?(t.underLoading(),e||n.account.organization&&"PARTNER"==n.account.organization.type||v.availableApiList.length!=A.apiIdList.length||(A.apiIdList=[]),a.query(A,function(e,n){v.data=e.map(function(e){return{key:A.total?"합계":e.key.name,values:e.values}}),v.totalItems=A.total?-1:n("x-total-count"),g(),t.completeLoading(),v.afterSearch=!0})):t.onError("하나 이상의 기관과 앱을 선택하십시오.")},v.filterApp=function(e){return!v.organizationList||0==v.organizationList.length||(v.searchAppText?(v.availableAppList[0].id==e.id&&(v.resultSignFilteredApp=!1),e.name.toLowerCase().indexOf(v.searchAppText.toLowerCase())>-1&&(v.resultSignFilteredApp=!0),e.name.toLowerCase().indexOf(v.searchAppText.toLowerCase())>-1):(v.resultSignFilteredApp=!0,!0))},v.filterApi=function(e){return v.searchApiText?(v.availableApiList[0].id==e.id&&(v.resultSignFilteredApi=!1),v.getUnmappingListFlag?((e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),(e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1):v.getMappingListFlag?(!e.appUnmapping&&!e.selectedAppUnmapping&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),!(e.appUnmapping||e.selectedAppUnmapping)&&e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1):(e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1&&(v.resultSignFilteredApi=!0),e.name.toLowerCase().indexOf(v.searchApiText.toLowerCase())>-1)):(v.resultSignFilteredApi=!0,v.getUnmappingListFlag?e.appUnmapping||e.selectedAppUnmapping:!v.getMappingListFlag||!(e.appUnmapping||e.selectedAppUnmapping))},v.filteringCheckSize=function(e,t){switch(e){case"org":v.resultSizeOfOrgs=t.length,v.isOrgAllChecked=h(t);break;case"app":v.resultSizeOfApps=t.length,v.isAppAllChecked=h(t);break;case"api":v.resultSizeOfApis=t.length,v.isApiAllChecked=h(t),v.unmappedApis=v.availableApiList.filter(function(e){return e.appUnmapping||e.selectedAppUnmapping})}},v.downloadExcel=function(){window.open("api/metrics/excel","_blank")};var y=new Date;v.condition.fromTime=new Date(y.getFullYear(),y.getMonth(),y.getDate()-1,0,0,0),v.condition.toTime=new Date(y.getFullYear(),y.getMonth(),y.getDate(),0,0,0),v.setToTime=function(){var e=new Date(v.condition.fromTime.getTime()+31536e6);v.condition.toTime>e?v.condition.toTime=e:v.condition.toTime<v.condition.fromTime&&(v.condition.toTime=v.condition.fromTime),n.toDateOptions.maxDate=e>new Date?new Date:e,n.toDateOptions.minDate=v.condition.fromTime},n.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),v.fromDateOpen=!v.fromDateOpen,v.toDateOpen=!1},n.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),v.toDateOpen=!v.toDateOpen,v.fromDateOpen=!1},n.fromDateOptions={showWeeks:!1,maxDate:new Date,minDate:new Date(2016,12,1)},n.toDateOptions={showWeeks:!1,maxDate:new Date,minDate:v.condition.fromTime}}angular.module("portalApplicationApp").controller("ReportApiUsingController",e),e.$inject=["$timeout","CommonUtil","$scope","Metrics","ReportService"]}(),function(){"use strict";function e(e){e.state("report-api-using",{parent:"reports",url:"/account/reports/api-using",data:{authorities:["ROLE_REPORT_VIEW_API"]},views:{"content@":{templateUrl:"app/account/reports/api/report-api-using.html",controller:"ReportApiUsingController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("report"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(){i.isAutoMode&&i.checkingChangedInternal()}function o(){return e.organization&&"PARTNER"==e.organization.type}var i=this;i.checkingRange=function(){i.condition.limit<1||i.condition.limit>15?(i.rangeViolation=!0,i.condition.limit=null):i.rangeViolation=!1},i.forChart={valueName:"completedCount"},i.condition={groupBy:"ORGANIZATION",limit:10},i.isAutoMode=!1,i.isPartner=o,i.options={chart:{type:"stackedAreaChart",height:490,margin:{top:20,right:20,bottom:40,left:40},x:function(e){return e[0]},y:function(e){return e[1][i.forChart.valueName]},useVoronoi:!1,clipEdge:!0,duration:100,useInteractiveGuideline:!0,xAxis:{showMaxMin:!0,tickFormat:function(e){var t=i.condition.daily?"%Y/%m/%d":"%Y/%m/%d %Hh";return d3.time.format(t)(new Date(e))},rotateLabels:16,rotateYLabel:!0,tickValues:function(e){if(!e)return[];var t=d3.extent(e[0].values,function(e){return e[0]}),n=i.condition.daily?864e5:36e5,a=t[1]-t[0],o=parseInt(a/n);if(o<1)return t;o=Math.min(o,6);var r=parseInt(a/o/n)*n;return d3.range(t[0],t[1],r)}},yAxis:{tickFormat:function(e){return d3.format(",5d")(e)}},zoom:{enabled:!1,scaleExtent:[1,10],useFixedDomain:!1,useNiceScale:!1,horizontalOff:!1,verticalOff:!0,unzoomEventType:"dblclick.zoom"},controlLabels:{stacked:"스택",expanded:"확장"},controlOptions:["Stacked","Expanded"]}},n.organizations().$promise.then(function(e){i.organizationList=e}),n.apps().$promise.then(function(e){i.appList=e,i.appList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name})}),n.apis().$promise.then(function(e){i.apiList=e,i.apiList.forEach(function(e){e.fullName="["+e.organization.name+"] "+e.name})}),i.selectOrganization=function(){i.appList=i.selectedOrganization.apps},i.selectApp=function(){var e={orgId:i.selectedOrganization.id,appId:i.selectedApp.id};t.query(e,function(e){i.data=e.map(function(e){return{key:e.key.name,values:e.values}})})},i.checkingOrgAll=function(){r(i.organizationList,i.isOrgAllChecked,i.filterOrganization)},i.checkingAppAll=function(){r(i.appList,i.isAppAllChecked,i.filterApp)},i.checkingApiAll=function(){r(i.apiList,i.isApiAllChecked,i.filterApi)};var r=function(e,t,n){e.forEach(function(e){e.checked=!1}),t&&e.filter(function(e){return n(e)}).forEach(function(e){e.checked=!0})};i.checkingOrganization=function(e){i.searchAppText=null,a()},i.checkingApp=function(e){i.searchApiText=null,a()},i.checkingApi=function(e){a()},i.checkingTotal=function(){a()},i.checkingDaily=function(){a()},i.changeGroupBy=function(){a()},i.changeDateValue=function(){a()},i.changeValueName=function(){i.chartApi.refresh()},i.checkingChangedInternal=function(){var e=i.organizationList.filter(function(e){return e.checked}).map(function(e){return e.id}),n=i.appList.filter(function(e){return e.checked}).map(function(e){return e.id}),a=i.apiList.filter(function(e){return e.checked}).map(function(e){return e.id});i.condition.orgIdList=e,i.condition.appIdList=n,i.condition.apiIdList=a,t.query(i.condition).$promise.then(function(e){switch(i.condition.groupBy){case"ORGANIZATION":i.forChart.key="name";break;case"APP":i.forChart.key="name";break;case"API":i.forChart.key="name"}i.data=e.map(function(e){return{key:i.condition.total?"합계":e.key[i.forChart.key],values:e.values}})})},i.filterOrganization=function(e){return!i.searchOrgText||e.name.indexOf(i.searchOrgText)>=0},i.filterApp=function(e){if(!i.organizationList||0==i.organizationList.length)return!0;if(i.searchAppText)return e.title.indexOf(i.searchAppText)>=0;var t=i.organizationList.filter(function(e){return e.checked}).map(function(e){return e.id});if(0==t.length)return!0;var n=$.inArray(e.organization.id,t)>=0;return n||(e.checked=!1),n},i.filterApi=function(e){if(!i.appList||0==i.appList.length)return!0;if(i.searchApiText)return e.name.indexOf(i.searchApiText)>=0;var t=[];if(i.appList.filter(function(e){return e.checked}).forEach(function(e){e.appApiMappings&&e.appApiMappings.forEach(function(e){t.push(e.api.id)})}),0==t.length)return!0;var n=$.inArray(e.id,t)>=0;return n||(e.checked=!1),n},i.downloadExcel=function(){var e=$.extend({},i.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/metrics/excel?"+t,"_blank")};var l=new Date;i.condition.fromTime=new Date(l.getFullYear(),l.getMonth(),l.getDate()-1,0,0,0),i.condition.toTime=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),e.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),i.fromDateOpen=!i.fromDateOpen,i.toDateOpen=!1},e.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),i.toDateOpen=!i.toDateOpen,i.fromDateOpen=!1}}angular.module("portalApplicationApp").controller("ReportApiController",e),e.$inject=["$scope","Metrics","ReportService"]}(),function(){"use strict";function e(e){e.state("report-api",{parent:"reports",url:"/account/reports/api",data:{authorities:["ROLE_REPORT_VIEW_API"]},views:{"content@":{templateUrl:"app/account/reports/api/report-api.html",controller:"ReportApiController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("report"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e,t){u.condition.sort=i.sorting(u.condition.sort,e,t),u.condition.page=0,u.currentPage=1,l()}function l(){a.list(u.condition,function(e,t){u.globalPlans=e,u.totalItems=t("x-total-count")})}function s(){u.condition.page=u.currentPage-1,l()}function c(e,t){var n="";return 1==t?(u.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(u.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function p(e){i.onError(e.data.description)}var u=this;u.loadAll=l,u.authorities=["ROLE_PLAN_VIEW"],u.filter=c,u.size=10,u.page=0,u.sort="id,desc",u.sorting=r,u.condition={isGlobal:!0,size:u.size,page:u.page,sort:u.sort},u.pageChanged=s,e.hasAuthority("ROLE_ADMIN").then(function(e){e&&(u.isAdmin=!0)}),e.hasAuthority("ROLE_MANAGER").then(function(e){e&&(u.isManager=!0)}),u.loadAll(),u.apiplanhelpPopover={templateUrl:"app/layouts/popover-template/apiplanhelp-popover.html"},u.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],u.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],t.addPlan=function(e,t){n.open({templateUrl:"app/account/plans/planEdit-dialog.html",controller:"planEditDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectPlan:function(){return{data:t,type:"apiPlan",isGlobal:e}}}}).result.then(function(t){e&&l()})},t.deletePlan=function(e,t){var o=e.name+" 정책을";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:o,type:t}}}}).result.then(function(t){t&&a.delete({id:e.id},l(),p)})}}angular.module("portalApplicationApp").controller("GlobalPlanController",e),e.$inject=["Principal","$scope","$uibModal","apiPlans","AlertService","CommonUtil"]}(),function(){"use strict";function e(e){e.state("globalPlan",{parent:"plans",url:"/globalPlan",data:{authorities:["ROLE_PLAN_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/plans/globalPlan/globalPlan.html",controller:"GlobalPlanController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("plan"),t.addPart("approval"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(t){t.tooltipOpen?t.tooltipOpen=!1:(s.metricsList.forEach(function(e){e.tooltipOpen=!1}),e.showDetail({id:t.billingPolicyId,orgId:t.orgId}).$promise.then(function(e){s.billingPolicy=e,t.tooltipOpen=!0}))}function r(){s.page=s.currentPage-1,s.clickSearchButton()}function l(e){s.condition.orgId=e.orgId,s.condition.appId=e.appId,s.condition.apiId=e.apiId,n.trend(s.condition).$promise.then(function(t){a.open({templateUrl:"app/templates/modal/trend-chart.html",controller:"ApiTrendModalController",controllerAs:"vm",size:"lg",resolve:{items:function(){return{metrics:e,trend:t,condition:s.condition}}}})})}$("[type='number']").keydown(function(e){e.preventDefault()});var s=this;s.size=10,s.page=0,s.currentPage=s.page+1,s.pageChanged=r,s.user=o.identity(),s.success=!1,s.months=[1,2,3,4,5,6,7,8,9,10,11,12],s.years=[],s.requestYear=(new Date).getYear()+1900;for(var c=4;c>-1;c--)s.requestYear>2016+c&&s.years.push(s.requestYear-c);s.requestMonth=(new Date).getMonth()+1,s.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",s.condition={},s.showApiTrend=l,s.tooltipControl=i,s.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},s.clickSearchButton=function(e){e&&(s.page=0,s.currentPage=1,s.selectedOrganization=null);var t=$.extend({filterOrgId:s.selectedOrganization?s.selectedOrganization.id:null,providerId:s.user.$$state.value.organization.id,page:s.page,size:s.size,sort:s.sort},s.condition);n.query(t,function(t,n){s.metricsList=t.billingMetrics,e?s.metricsList&&0!=s.metricsList.length?(s.success=!0,s.totalItems=n("x-total-count"),s.organizationList=t.organizations):(s.success=!1,s.alertMessage="데이터가 존재하지 않습니다."):s.totalItems=n("x-total-count")})},s.selectingOrg=function(){s.page=0,s.currentPage=1,s.clickSearchButton()},s.downloadExcel=function(){var e=$.extend({filterOrgId:s.selectedOrganization?s.selectedOrganization.id:null,providerId:s.user.$$state.value.organization.id},s.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/reports/billings/excel?"+t,"_blank")};var p=new Date;s.condition.fromTime=new Date(p.getFullYear(),p.getMonth(),p.getDate()-1,0,0,0),s.condition.toTime=new Date(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0),s.setToTime=function(){var e=new Date(s.condition.fromTime.getTime()+31536e6);s.condition.toTime>e?s.condition.toTime=e:s.condition.toTime<s.condition.fromTime&&(s.condition.toTime=s.condition.fromTime),t.toDateOptions.maxDate=e>new Date?new Date:e,t.toDateOptions.minDate=s.condition.fromTime},t.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),s.fromDateOpen=!s.fromDateOpen,s.toDateOpen=!1},t.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),s.toDateOpen=!s.toDateOpen,s.fromDateOpen=!1},t.fromDateOptions={showWeeks:!1,maxDate:new Date,minDate:new Date(2016,12,1)},t.toDateOptions={showWeeks:!1,maxDate:new Date,minDate:s.condition.fromTime}}angular.module("portalApplicationApp").controller("ReportBillingProvidingController",e),e.$inject=["Billing","$scope","ReportBilling","$uibModal","Principal"]}(),function(){"use strict";function e(e,t){function n(){var e=$.extend({},o.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/reports/billings/trend/excel?"+t,"_blank")}function a(){e.close()}var o=this;o.title="["+t.metrics.orgName+"] "+t.metrics.appName,o.data=[{key:t.metrics.apiName,values:t.trend}],o.condition=t.condition,o.ok=a,o.downloadExcel=n,o.options={chart:{type:"multiBarChart",height:200,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,duration:0,stacked:!0,showControls:!1,xAxis:{showMaxMin:!0,tickFormat:function(e){var t="%m / %d";return d3.time.format(t)(new Date(e))},rotateLabels:-16},yAxis:{tickFormat:function(e){return d3.format(",5d")(e)}},x:function(e){return e[0]},y:function(e){return e[1]}}}}angular.module("portalApplicationApp").controller("ApiTrendModalController",e),e.$inject=["$uibModalInstance","items"]}(),function(){"use strict";function e(e){e.state("report-billing-providing",{parent:"reports",url:"/account/reports/billing-providing",data:{authorities:["ROLE_REPORT_VIEW_API"]},views:{"content@":{templateUrl:"app/account/reports/billing-providing/report-billing-providing.html",controller:"ReportBillingProvidingController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e,n){m.condition.sort=t.sorting(m.condition.sort,e,n,"pkChargeMonth,asc"),m.condition.page=0,m.currentPage=1,s()}function l(e){e.tooltipOpen?e.tooltipOpen=!1:(m.chargeList.forEach(function(e){e.tooltipOpen=!1}),n.showDetail({id:e.billingPolicyId,orgId:e.orgId}).$promise.then(function(t){m.billingPolicy=t,e.tooltipOpen=!0}))}function s(t){m.condition={chargeMonth:m.requestMonth<10?m.requestYear+"0"+m.requestMonth:m.requestYear+""+m.requestMonth,orgId:m.selectedOrganization,providerId:a.account.organization.id,size:m.size,page:m.condition.page,sort:m.condition.sort},t&&(m.condition.page=0,m.currentPage=1,m.selectedOrganization=null,m.chargeOrgs=e.partners({},p,u)),o.charge(m.condition,function(e,n){m.chargeList=e,t?m.chargeList&&0!=m.chargeList.length?(m.success=!0,m.totalItems=n("x-total-count")):(m.success=!1,m.alertMessage="데이터가 존재하지 않습니다."):m.totalItems=n("x-total-count")})}function c(){m.condition=m.currentPage-1,m.searching()}function p(){}function u(e){t.onError(e.data.description)}function d(e){m.condition.orgId=e.orgId,m.condition.appId=e.appId,m.condition.apiId=e.apiId,o.trend(m.condition).$promise.then(function(t){i.open({templateUrl:"app/templates/modal/trend-chart.html",controller:"ApiTrendModalController",controllerAs:"vm",size:"lg",resolve:{items:function(){return{metrics:e,trend:t,condition:m.condition}}}})})}var m=this;m.size=10,m.page=0,m.sort="orgName,asc",m.currentPage=m.page+1,m.pageChanged=c,m.sorting=r,m.searching=s,m.condition={chargeMonth:m.requestYear+""+m.requestMonth,orgId:m.selectedOrganization,providerId:a.account.organization.id,size:m.size,page:m.page,sort:m.sort},m.success=!1,m.months=[1,2,3,4,5,6,7,8,9,10,11,12],m.years=[],m.requestYear=(new Date).getYear()+1900;for(var g=4;g>-1;g--)m.requestYear>2016+g&&m.years.push(m.requestYear-g);m.requestMonth=(new Date).getMonth()+1,m.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",m.showApiTrend=d,m.tooltipControl=l,m.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},m.selectingOrg=function(){m.condition.page=0,m.currentPage=1,m.searching()},m.downloadExcel=function(){var e=$.param(m.condition,!0);window.open("api/reports/billings/charge/excel?"+e,"_blank")}}angular.module("portalApplicationApp").controller("ReportChargingController",e),e.$inject=["Organization","CommonUtil","Billing","$scope","ReportBilling","$uibModal"]}(),function(){"use strict";function e(e,t){function n(){var e=$.extend({},o.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/reports/billings/trend/excel?"+t,"_blank")}function a(){e.close()}var o=this;o.title="["+t.metrics.orgName+"] "+t.metrics.appName,o.data=[{key:t.metrics.apiName,values:t.trend}],o.condition=t.condition,o.ok=a,o.downloadExcel=n,o.options={chart:{type:"multiBarChart",height:200,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,duration:0,stacked:!0,showControls:!1,xAxis:{showMaxMin:!0,tickFormat:function(e){var t="%m / %d";return d3.time.format(t)(new Date(e))},rotateLabels:-16},yAxis:{tickFormat:function(e){return d3.format(",5d")(e)}},x:function(e){return e[0]},y:function(e){return e[1]}}}}angular.module("portalApplicationApp").controller("ApiTrendModalController",e),e.$inject=["$uibModalInstance","items"]}(),function(){"use strict";function e(e){e.state("report-charging",{parent:"reports",url:"/account/reports/charging",data:{authorities:["ROLE_REPORT_VIEW_API"]},views:{"content@":{templateUrl:"app/account/reports/charging/report-charging.html",controller:"ReportChargingController",
controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(t){t.tooltipOpen?t.tooltipOpen=!1:(s.metricsList.forEach(function(e){e.tooltipOpen=!1}),e.showDetail({id:t.billingPolicyId,orgId:t.orgId}).$promise.then(function(e){s.billingPolicy=e,t.tooltipOpen=!0}))}function r(){s.page=s.currentPage-1,s.clickSearchButton()}function l(e){s.condition.orgId=e.orgId,s.condition.appId=e.appId,s.condition.apiId=e.apiId,n.trend(s.condition).$promise.then(function(t){a.open({templateUrl:"app/templates/modal/trend-chart.html",controller:"ApiTrendModalController",controllerAs:"vm",size:"lg",resolve:{items:function(){return{metrics:e,trend:t,condition:s.condition}}}})})}$("[type='number']").keydown(function(e){e.preventDefault()});var s=this;s.size=10,s.page=0,s.currentPage=s.page+1,s.pageChanged=r,s.success=!1,s.months=[1,2,3,4,5,6,7,8,9,10,11,12],s.years=[],s.requestYear=(new Date).getYear()+1900;for(var c=4;c>-1;c--)s.requestYear>2016+c&&s.years.push(s.requestYear-c);s.requestMonth=(new Date).getMonth()+1,s.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",s.condition={},s.showApiTrend=l,s.tooltipControl=i,s.billingPolicyPopover={templateUrl:"app/layouts/popover-template/billing-policy-popover.html"},s.clickSearchButton=function(e){e&&(s.page=0,s.currentPage=1,s.selectedOrganization=null),s.user=o.identity();var t=s.user.$$state.value.organization.id,a=$.extend({filterOrgId:s.selectedOrganization?s.selectedOrganization.id:null,orgId:t,page:s.page,size:s.size,sort:s.sort},s.condition);n.query(a,function(t,n){s.metricsList=t.billingMetrics,e?s.metricsList&&0!=s.metricsList.length?(s.success=!0,s.totalItems=n("x-total-count"),s.organizationList=t.organizations):(s.success=!1,s.alertMessage="데이터가 존재하지 않습니다."):s.totalItems=n("x-total-count")})},s.selectingOrg=function(){s.page=0,s.currentPage=1,s.clickSearchButton()},s.downloadExcel=function(){var e=$.extend({filterOrgId:s.selectedOrganization?s.selectedOrganization.id:null},s.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/reports/billings/excel?"+t,"_blank")};var p=new Date;s.condition.fromTime=new Date(p.getFullYear(),p.getMonth(),p.getDate()-1,0,0,0),s.condition.toTime=new Date(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0),s.setToTime=function(){var e=new Date(s.condition.fromTime.getTime()+31536e6);s.condition.toTime>e?s.condition.toTime=e:s.condition.toTime<s.condition.fromTime&&(s.condition.toTime=s.condition.fromTime),t.toDateOptions.maxDate=e>new Date?new Date:e,t.toDateOptions.minDate=s.condition.fromTime},t.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),s.fromDateOpen=!s.fromDateOpen,s.toDateOpen=!1},t.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),s.toDateOpen=!s.toDateOpen,s.fromDateOpen=!1},t.fromDateOptions={showWeeks:!1,maxDate:new Date,minDate:new Date(2016,12,1)},t.toDateOptions={showWeeks:!1,maxDate:new Date,minDate:s.condition.fromTime}}angular.module("portalApplicationApp").controller("ReportBillingUsingController",e),e.$inject=["Billing","$scope","ReportBilling","$uibModal","Principal"]}(),function(){"use strict";function e(e,t){function n(){var e=$.extend({},o.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/reports/billings/trend/excel?"+t,"_blank")}function a(){e.close()}var o=this;o.title="["+t.metrics.orgName+"] "+t.metrics.appName,o.data=[{key:t.metrics.apiName,values:t.trend}],o.condition=t.condition,o.ok=a,o.downloadExcel=n,o.options={chart:{type:"multiBarChart",height:200,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,duration:0,stacked:!0,showControls:!1,xAxis:{showMaxMin:!0,tickFormat:function(e){var t="%m / %d";return d3.time.format(t)(new Date(e))},rotateLabels:-16},yAxis:{tickFormat:function(e){return d3.format(",5d")(e)}},x:function(e){return e[0]},y:function(e){return e[1]}}}}angular.module("portalApplicationApp").controller("ApiTrendModalController",e),e.$inject=["$uibModalInstance","items"]}(),function(){"use strict";function e(e){e.state("report-billing-using",{parent:"reports",url:"/account/reports/billing-using",data:{authorities:["ROLE_REPORT_VIEW_API"]},views:{"content@":{templateUrl:"app/account/reports/billing-using/report-billing-using.html",controller:"ReportBillingUsingController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(){i.page=i.currentPage-1,i.clickSearchButton()}function o(e){i.condition.sender=e.sender,i.condition.receiver=e.receiver,t.trend(i.condition).$promise.then(function(t){n.open({templateUrl:"app/templates/modal/trend-chart.html",controller:"TokenTrendModalController",controllerAs:"vm",size:"lg",resolve:{items:function(){return{metrics:e,trend:t,condition:i.condition}}}})})}$("[type='number']").keydown(function(e){e.preventDefault()});var i=this;i.size=10,i.page=0,i.currentPage=i.page+1,i.pageChanged=a,i.success=!1,i.alertMessage="먼저 날짜를 선택하신 후 조회하세요.",i.condition={},i.showTokenTrend=o,i.clickSearchButton=function(e){e&&(i.page=0,i.currentPage=1);var n=$.extend({page:i.page,size:i.size,sort:i.sort},i.condition);t.query(n,function(e,t){i.metricsList=e,i.metricsList&&0!=i.metricsList.length?(i.success=!0,i.totalItems=t("x-total-count"),i.metricsList.forEach(function(e){e.issuerName=e.issuer?e.issuer.name:e.sender,e.requesterName=e.requester?e.requester.name:e.receiver})):(i.success=!1,i.alertMessage="데이터가 존재하지 않습니다.")})},i.downloadExcel=function(){var e=$.extend({},i.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("/api/reports/tokens/excel?"+t,"_blank")};var r=new Date;i.condition.fromTime=new Date(r.getFullYear(),r.getMonth(),r.getDate()-1,0,0,0),i.condition.toTime=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),e.openFromDatePicker=function(e){e.preventDefault(),e.stopPropagation(),i.fromDateOpen=!i.fromDateOpen,i.toDateOpen=!1},e.openToDatePicker=function(e){e.preventDefault(),e.stopPropagation(),i.toDateOpen=!i.toDateOpen,i.fromDateOpen=!1}}angular.module("portalApplicationApp").controller("ReportTokenController",e),e.$inject=["$scope","ReportToken","$uibModal"]}(),function(){"use strict";function e(e,t){function n(){var e=$.extend({},o.condition);e.fromTime&&(e.fromTime=e.fromTime.toISOString()),e.toTime&&(e.toTime=e.toTime.toISOString());var t=$.param(e,!0);window.open("api/reports/tokens/trend/excel?"+t,"_blank")}function a(){e.close()}var o=this;o.title=t.metrics.issuerName+" -> "+t.metrics.requesterName,o.data=[{key:"발행횟수",values:t.trend}],o.condition=t.condition,o.downloadExcel=n,o.ok=a,o.options={chart:{type:"multiBarChart",height:200,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,duration:0,stacked:!0,showControls:!1,xAxis:{showMaxMin:!0,tickFormat:function(e){var t="%m / %d";return d3.time.format(t)(new Date(e))},rotateLabels:-16},yAxis:{tickFormat:function(e){return d3.format(",5d")(e)}},x:function(e){return e[0]},y:function(e){return e[1]}}}}angular.module("portalApplicationApp").controller("TokenTrendModalController",e),e.$inject=["$uibModalInstance","items"]}(),function(){"use strict";function e(e){e.state("report-token",{parent:"reports",url:"/account/reports/token",data:{},views:{"content@":{templateUrl:"app/account/reports/token/report-token.html",controller:"ReportTokenController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("admin-billing"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){o.identity().then(function(e){p.account=e,p.account.expiredPassword||a.go("home")})}function l(){n.changePassword(p.currentPassword,p.newPassword,function(e){e?c(e):s()})}function s(){t.onError("비밀번호가 변경되었습니다.<br/>다시 로그인해 주십시오.",null,"modify",function(t){t&&(n.logout(),e.$broadcast("userLogout"),a.go("login"))},"변경 확인")}function c(e){t.onError(e.data.description)}var p=this;p.save=l,p.passwordRegex=/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[~!@#$%^&*\-_+=|\\]).{8,20}$/,r()}angular.module("portalApplicationApp").controller("ChangePasswordController",e),e.$inject=["$rootScope","CommonUtil","Auth","$state","Principal","$window"]}(),function(){"use strict";function e(e){e.state("change-password",{parent:"app",url:"/change-password",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/reset/change-password/change-password.html",controller:"ChangePasswordController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("settings"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){u.user.cellPhone=u.cellPhone.join("-"),i.findId(u.user,s,p)}function l(){i.resetPasswordSend({type:u.type},u.user,c,p)}function s(e){u.searchResult=!0,u.response=e}function c(){var e=function(e){e&&t.go("home")};n.onError("전송 완료되었습니다.","","modify",e,"전송 확인")}function p(e){n.onError(e.data.description),u.searchResult=!1}var u=this;u.cellIdentifyingNums=e.cellIdentifyingNums,u.cellPhone=[],u.requestReset=l,u.searching=r,a(function(){angular.element("input[name=fullName]").focus()})}angular.module("portalApplicationApp").controller("FindIdController",e),e.$inject=["CommonConstants","$state","CommonUtil","$timeout","Auth","Account"]}(),function(){"use strict";function e(e){e.state("findId",{parent:"app",url:"/reset/find-id",data:{authorities:[]},views:{"content@":{templateUrl:"app/account/reset/find-id/find-id.html",controller:"FindIdController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("reset"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function l(){i.resetPasswordAuth(d.user,c,u)}function s(){i.resetPasswordSend({type:"sms"},d.user,p,u)}function c(){d.searchResult=!0,s()}function p(){var e=function(e){e&&(o.logout(),t.go("login"))};n.onError("임시비밀번호가 전송되었습니다.","","modify",e,"전송 확인")}function u(e){n.onError(e.data.description),d.searchResult=!1}var d=this;d.requestReset=s,d.searching=l,d.isDormant=!!e.account&&r.isDormant(),a(function(){angular.element("#email").focus()})}angular.module("portalApplicationApp").controller("RequestResetController",e),e.$inject=["$scope","$state","CommonUtil","$timeout","Auth","Account","Principal"]}(),function(){"use strict";function e(e){e.state("requestReset",{parent:"app",url:"/reset/request",data:{authorities:[]},views:{"content@":{templateUrl:"app/account/reset/request/reset.request.html",controller:"RequestResetController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("reset"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c,p){function u(){return k.deletion=!1,k.files=[{data:null}],"object"==typeof n?(k.Org=n,k.Org.attachFileIds=[],void g(k.Org.id)):void p.searchOrganization().$promise.then(function(e){k.Org=e,k.Org.attachFileIds=[],k.Org.licenseNumber&&k.Org.licenseNumber.split("-").forEach(function(e,t){k.licenseNumber[t]=e}),k.Org.corpRegNumber&&k.Org.corpRegNumber.split("-").forEach(function(e,t){k.corpRegNumber[t]=e}),k.Org.mainPhone&&k.Org.mainPhone.split("-").forEach(function(e,t){k.mainPhone[t]=e}),"UPDATING"==k.Org.state&&c.onError("승인이 필요한 사항이 있습니다.<br/>승인요청을 진행하시기 바랍니다."),g(k.Org.id),k.detailTitle="APPROVING"==k.Org.state||"UPDATING"==k.Org.state||"UPDATING_DENIED"==k.Org.state?"변경요청 내용":"상세보기",k.alertSentences="APPROVING"==k.Org.state?"<p class='mb_5'>· 수정하신 기관정보에 대해 승인진행 중입니다.</p><p>· 승인이 완료되기 전까지는 <strong class='color_red'>추가 수정이 불가능</strong>합니다.</p>":"UPDATING"==k.Org.state?"<p class='mb_5'>· 승인이 필요한 사항이 있습니다.</p><p>· <strong class='color_red'>승인요청</strong>을 진행하시기 바랍니다.</p>":"UPDATING_DENIED"==k.Org.state?"<p class='mb_5'>· 요청하신 승인건이 <strong class='color_red'>반려된 상태</strong>입니다.</p><p>· <strong>롤백</strong>을 하시거나 또는 아래 양식에서 <strong>재수정하여 승인요청을 진행</strong>하시기 바랍니다.</p>":null})}function d(){var e={message:"승인받지 못한 수정사항을<br/>원래 정보로 롤백하시겠습니까?<br/><br/>'예'를 선택하여 롤백하면,<br/>[변경요청 내용]창에서 변경요청내용이 삭제됩니다.<br/>------------------------------------------------<br/>다시 수정하여 승인을 재요청하시려면<br/>'아니오'를 누르십시오.",title:"롤백 확인",button:{text1:"예",text2:"아니오"},callback:function(e){e&&p.deleteLatestHistory({},m,A)}};c.modalTwo(e)}function m(){c.onError("롤백이 완료되었습니다."),u()}function g(e){p.changeSet({id:e}).$promise.then(function(e){k.changeSets=e.changeSets})}function f(){i.open({templateUrl:"app/account/settings/org-setting/org-detail-view.html",scope:t,backdrop:"static",size:"md"})}function h(){r.dismissAll()}function v(){i.open({templateUrl:"app/services/common/request-approval.html",controller:"ReqApprovalController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selection:{data:k.Org,type:"org"}}}).result.then(function(e){var t={title:"승인요청 확인",message:e.description,callback:u};c.modalOne(t)})}function A(e){c.onError(e.data.description)}function y(e){t.account&&(window.location="/files/download/"+e.id)}function b(e){var t=function(){k.Org.orgWithdrawals.splice(k.Org.orgWithdrawals.indexOf(e),1)};e.id?p.checkWithdrawalAccountUsed({withdrawalId:e.id},t,A):t()}function P(){var e=k.Org.orgWithdrawals.filter(function(e){return e.accountAlias==k.newW.accountAlias||e.accountNumber==k.newW.accountNumber});if(e.length>0)c.modalOne("계좌별칭 또는 계좌번호가 중복됩니다.");else{var t=function(){k.newW.isDefault=0==k.Org.orgWithdrawals.length,k.Org.orgWithdrawals.push(k.newW),k.newW=null};p.checkWithdrawalAccountUsed({accountNumber:k.newW.accountNumber},t,A)}}function w(){var e={message:"이전에 수정 · 저장하신 내용이 있다면,<br/>지금 저장하는 최신정보로 덮어쓰기 됩니다.<br/><br/>그래도 저장하시겠습니까?",title:"저장 확인",button:{text1:"예",text2:"아니오"},callback:function(e){e&&C()}};c.modalTwo(e)}function C(){var n=!1;if($("input[type=file].file-input").each(function(t){$(this).val()?navigator.userAgent.indexOf("MSIE 9.0")<0&&$(this)[0].files[0].size>=e.attachFileSize?k.violationOfSize=!0:n=!0:$(this).attr("disabled","disabled")}),k.violationOfSize)return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),c.onError("파일사이즈는 "+c.fileSize({fileSize:e.attachFileSize})+"를 넘을 수 없습니다."),void(k.violationOfSize=!1);var a=c.getCookie("XSRF-TOKEN");n?($("#fileForm").ajaxForm({url:"/files/account_register/upload?_csrf="+a,enctype:"multipart/form-data",type:"post",dataType:"json",data:{type:"organization"},success:function(e){k.Org.attachFileIds=e,O(),t.$apply()},error:function(e){return $("input[type=file].file-input").each(function(e){$(this).removeAttr("disabled")}),navigator.userAgent.indexOf("MSIE 9.0")!==-1?void c.onError("업로드 대상 파일을 다시 확인해 주십시오."):void(500==e.status?c.onError("업로드 대상 파일을 다시 확인해 주십시오."):c.onError(e.responseJSON.description))}}),$("#fileForm").submit()):O()}function O(){k.Org.attachFileList.forEach(function(e,t){k.Org.attachFileIds.push(e.id)}),k.Org.licenseNumber="3"==k.licenseNumber.length?k.licenseNumber.join("-"):null,k.Org.corpRegNumber="2"==k.corpRegNumber.length?k.corpRegNumber.join("-"):null,k.Org.mainPhone="3"==k.mainPhone.length?k.mainPhone.join("-"):null,k.Org.attachFileList=[],k.Org.apiPlans&&k.Org.apiPlans.forEach(function(e){delete e.organization}),p.updateOrganization(k.Org,u,A)}function I(e,t){k.licenseNumberLength=[],k.corpRegNumberLength=[],k.mainPhoneLength=[],k.lengthChecked=!1,t.forEach(function(t){"licenseNumber"==e?t&&k.licenseNumberLength.push(t):"corpRegNumber"==e?t&&k.corpRegNumberLength.push(t):"mainPhone"==e&&t&&k.mainPhoneLength.push(t)}),1!=k.licenseNumberLength.length&&2!=k.licenseNumberLength.length||(k.lengthChecked=!0),1==k.corpRegNumberLength.length&&(k.lengthChecked=!0),1!=k.mainPhoneLength.length&&2!=k.mainPhoneLength.length||(k.lengthChecked=!0)}function E(e){var t={withdrawalId:e.id,password:k.loginPassword,history:!!e.history&&e.history};p.getAccountNumber(t,function(e){k.thisAccountNumber=e.accountNumber,k.loginPassword=null,k.initSearch=!1},function(t){e.isOpen=!1,A(t)})}function T(e){k.initSearch=!0,k.loginPassword="",E(e)}function L(e){k.Org.orgWithdrawals.forEach(function(e){e.isDefault=!1}),e.isDefault=!0}var k=this;k.user=s.identity(),k.requestApproval=v,k.save=w,k.clear=h,k.showDetail=f,k.addWithdrawal=P,k.delWithdrawal=b,k.accountNumberSearch=T,k.getAccountNumber=E,k.setDefaultWithdrawalAccount=L,k.rollback=d,k.fileDown=y,k.fileSize=c.fileSize,k.mainPhone=[],k.licenseNumber=[],k.corpRegNumber=[],k.districtNums=e.districtNums,k.cellIdentifyingNums=e.cellIdentifyingNums,k.delInput=c.delInput,k.selectFile=c.selectFile,u(),t.addFileInput=function(e,t){if(!k.deletion){var n=e.target.id.split("-")[1];c.addFileInput(n,k.files,t)}},k.lengthCheck=I,k.accountNumberPopover={templateUrl:"app/layouts/popover-template/account-number-popover.html"}}angular.module("portalApplicationApp").controller("OrgSettingController",e),e.$inject=["CommonConstants","$scope","selectedOrg","User","$state","$uibModal","$uibModalStack","$uibModalInstance","Principal","CommonUtil","Organization"]}(),function(){"use strict";function e(e){e.state("orgSetting",{parent:"settings-org",url:"/orgSetting",data:{authorities:["ROLE_MANAGER_PARTNER"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/settings/org-setting/org-setting.html",controller:"OrgSettingController",controllerAs:"vm"}},resolve:{$uibModalInstance:function(){return 0},selectedOrg:function(){return 0},translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("settings"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c){function p(){v.modifyMainPhone?v.settingsAccount.mainPhone="3"==v.mainPhone.length?v.mainPhone[0]+"-"+v.mainPhone[1]+"-"+v.mainPhone[2]:null:v.settingsAccount.mainPhone=null,v.modifyCellPhone?v.settingsAccount.cellPhone="3"==v.cellPhone.length?v.cellPhone[0]+"-"+v.cellPhone[1]+"-"+v.cellPhone[2]:null:v.settingsAccount.cellPhone=null,v.modifyEmail?v.settingsAccount.email=v.email:v.settingsAccount.email=null,v.settingsAccount.showNotice=!v.hideNotice,t.updateMyInfo(v.settingsAccount,v.changePass?u:d,m)}function u(){i.changePassword(null,v.password,function(e){e?m(e):d()})}function d(){v.changePass=!1,v.modifyMainPhone=!1,v.modifyCellPhone=!1,v.modifyEmail=!1,v.mainPhone=[],v.cellPhone=[],v.email="",v.password="",v.confirmPassword="",o.identity(!0).then(function(e){v.settingsAccount=A(e)}),window.localStorage.setItem("showNotice",v.settingsAccount.showNotice),c.onError("변경사항이 적용되었습니다.","","","","변경 확인")}function m(e){c.onError(e.data.description)}function g(){i.logout(),n.go("home")}function f(){var e="탈퇴를 신청하면 다시 로그인할 수 없습니다.<br/>탈퇴를 신청하시겠습니까?",t=function(e){e&&h()};c.onError(e,"","withdraw",t,"탈퇴확인")}function h(){s.withdraw().$promise.then(function(e){a.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:{message:e.description,type:"withdrawConfirm"}}}).result.then(function(e){e&&g()})},function(e){a.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:{message:e.data.description,type:"error"}}})})}var v=this;v.error=null,v.save=p,v.withdraw=f,v.settingsAccount=null,v.success=null,v.mainPhone=[],v.cellPhone=[],v.changePass=!1,v.districtNums=e.districtNums,v.cellIdentifyingNums=e.cellIdentifyingNums,v.passwordRegex=/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[~!@#$%^&*\-_+=|\\]).{8,20}$/;var A=function(e){return{login:e.login,maskingEmail:e.maskingEmail,maskingMainPhone:e.maskingMainPhone,maskingCellPhone:e.maskingCellPhone,grade:e.grade,fullName:e.fullName,showNotice:e.showNotice}};o.identity().then(function(e){v.settingsAccount=A(e),v.hideNotice=!v.settingsAccount.showNotice})}angular.module("portalApplicationApp").controller("UserSettingsController",e),e.$inject=["CommonConstants","User","$state","$uibModal","Principal","Auth","JhiLanguageService","$translate","Account","CommonUtil"]}(),function(){"use strict";function e(e){e.state("userSetting",{parent:"settings-user",url:"/userSetting",data:{authorities:["ROLE_HASLOGIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/settings/user-setting/user-setting.html",controller:"UserSettingsController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("settings"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){n.findOrgs({orgId:m.user.$$state.value.organization.id}).$promise.then(function(e){m.useOrgs=e,s()})}function l(a){a?(t.underLoading("applyingDiscountPolicy","0px"),n.findApis({orgId:m.user.$$state.value.organization.id,userId:a.id,editMode:!!e}).$promise.then(function(e){m.useApis=e,t.completeLoading()})):m.useApis=[]}function s(){m.discountPolicies=a.list({orgId:m.user.$$state.value.organization.id,sort:"id,desc"})}function c(){o.dismiss()}function p(){var t={discountPolicy:{id:m.selectedDiscountPolicy.id},user:{id:m.selectedOrganization},api:{id:m.selectedApi},provider:{id:m.user.$$state.value.organization}};e?n.update({orgId:m.user.$$state.value.organization.id,mappingId:e.id},t,u,d):n.create({orgId:m.user.$$state.value.organization.id},t,u,d)}function u(){o.close(!0)}function d(e){t.onError(e.data.description)}var m=this;m.authorities=["ROLE_PLAN_VIEW"],m.user=i.identity(),m.save=p,m.clear=c,m.findApisByUserOrganization=l,m.flag=!1,r(),e&&(m.selectedDiscountPolicy={id:e.discountPolicy.id},m.selectedOrganization={id:e.user.id},l(m.selectedOrganization),m.selectedApi={id:e.api.id},m.flag=!0)}angular.module("portalApplicationApp").controller("UseOrgsManageEditController",e),e.$inject=["selections","CommonUtil","UseOrgs","Discount","$uibModalInstance","Principal"]}(),function(){"use strict";function e(e,t,n,a,o){function i(t,n){v.condition.sort=e.sorting(v.condition.sort,t,n),v.condition.page=0,v.currentPage=1,r()}function r(){v.readOnly=!0,t.list(v.condition,function(e,t){v.useOrgs=e,v.totalItems=t("x-total-count"),v.useOrgs.forEach(function(e){e.readOnly=!0}),v.discountPolicies=n.list({orgId:v.user.$$state.value.organization.id,sort:"id,desc"})})}function l(){v.condition.page=v.currentPage-1,r()}function s(e){return e?e.name:"없음"}function c(e){t.findApps({orgId:v.user.$$state.value.organization.id,useorgId:e.organization.id}).$promise.then(function(t){v.apps=t;var n={apps:v.apps,useOrg:e};u(n,"lg")})}function p(e){var t={useOrg:e,orgId:v.user.$$state.value.organization.id};u(t,"lg")}function u(e,t){a.open({templateUrl:"app/account/use-orgs/use-orgs-manage/use-orgs-popup.html",controller:"UseOrgsPopupController",controllerAs:"vm",backdrop:"static",size:t,resolve:{selections:e}})}function d(e){e.discountPolicy=A,e.readOnly=!0}function m(e){var n=e.discountPolicy?e.discountPolicy.id:0;t.update({orgId:v.user.$$state.value.organization.id,useorgId:e.organization.id,policyId:n},f,h)}function g(e){e.readOnly=!1,A=e.discountPolicy}function f(){v.loadAll()}function h(t){e.onError(t.data.description)}var v=this;v.authorities=["ROLE_PLAN_VIEW"],v.user=o.identity(),v.checkPolicy=s,v.editPolicy=g,v.showApps=c,v.showComment=p,v.popUp=u,v.pageChanged=l,v.size=10,v.page=0,v.sort="id,desc",v.save=m,v.clear=d,v.loadAll=r,v.sorting=i,v.condition={orgId:v.user.$$state.value.organization.id,size:v.size,page:v.page,sort:v.sort},v.loadAll();var A={}}angular.module("portalApplicationApp").controller("UseOrgsManageController",e),e.$inject=["CommonUtil","UseOrgs","Discount","$uibModal","Principal"]}(),function(){"use strict";function e(e){e.state("useOrgsManage",{parent:"useOrgs",url:"/useOrgsManage",data:{authorities:["ROLE_PLAN_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/use-orgs/use-orgs-manage/use-orgs-manage.html",controller:"UseOrgsManageController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("use-orgs"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function i(){l()}function r(){l()}function l(){a.listComments({orgId:g.selections.orgId,useorgId:g.selections.useOrg.organization.id,page:g.currentPage-1,size:g.size,sort:g.sort,detailComment:g.searchingText},c,p)}function s(t){e.open({templateUrl:"app/app-management/app-manage/app-view.html",controller:"AppViewController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectApp:t}})}function c(e,t){g.totalItems=t("X-Total-Count"),g.comments=e}function p(e){o.onError(e.data.description)}function u(){g.searchingText=null,a.createComment({orgId:g.selections.orgId,useorgId:g.selections.useOrg.organization.id},g.commentContent,l,p),g.commentContent=""}function d(e){g.searchingText=null,a.delComment({orgId:g.selections.orgId,useorgId:g.selections.useOrg.organization.id,commentId:e.id},l,p)}function m(){t.dismiss("cancel")}var g=this;g.selections=n,g.clear=m,g.saveComment=u,g.delComment=d,g.totalItems=null,g.currentPage=1,g.size=5,g.sort="id,desc",g.pageChanged=r,g.searching=i,g.showDetail=s,void 0==n.apps&&l()}angular.module("portalApplicationApp").controller("UseOrgsPopupController",e),e.$inject=["$uibModal","$uibModalInstance","selections","UseOrgs","CommonUtil"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l,s,c){function p(){s.list().$promise.then(function(e){A.roles=e.filter(function(e){return!A.user.organization||e.organizationType==A.user.organization.type})})}function u(){switch(A.user.state){case"ACTIVE":return"활성";case"INACTIVE":return"비활성";case"REGISTERING":return"등록 진행중";case"WITHDRAWING":return"탈퇴 진행중"}}function d(){A.saveRoleAdmin||(A.user=i.user),o.close("cancel")}function m(e){o.close(e)}function g(e){A.noSetAdmin?t.onError(e.data.description):(l.setAdmin({userId:user.id,flag:y}),t.onError(e.data.description))}function f(){i.type&&"detailView"==i.type?l.setAdmin({userId:A.user.id,flag:!A.flagOfAdmin},function(){A.flagOfAdmin=!A.flagOfAdmin,A.saveRoleAdmin=!0},g):y!=A.flagOfAdmin?l.setAdmin({userId:A.user.id,flag:A.flagOfAdmin},function(){A.noSetAdmin=!1,h()},g):h()}function h(){(A.modifyMainPhone||A.flagOfRegister)&&(A.user.mainPhone="3"==A.mainPhone.length?A.mainPhone[0]+"-"+A.mainPhone[1]+"-"+A.mainPhone[2]:null),(A.modifyCellPhone||A.flagOfRegister)&&(A.user.cellPhone="3"==A.cellPhone.length?A.cellPhone[0]+"-"+A.cellPhone[1]+"-"+A.cellPhone[2]:null),(A.modifyEmail||A.flagOfRegister)&&(A.user.email=A.email),A.user.state=A.user.active?"ACTIVE":"INACTIVE",i.user?l.update(A.user,m,g):l.save(A.user,function(){m("create")},g)}function v(e,t){A.cellPhoneLength=[],A.mainPhoneLength=[],A.lengthChecked=!1,t.forEach(function(t){"cellPhone"==e?t&&A.cellPhoneLength.push(t):"mainPhone"==e&&t&&A.mainPhoneLength.push(t)}),1!=A.cellPhoneLength.length&&2!=A.cellPhoneLength.length||(A.lengthChecked=!0),1!=A.mainPhoneLength.length&&2!=A.mainPhoneLength.length||(A.lengthChecked=!0)}var A=this;if(A.authorities=["ROLE_USER_VIEW"],A.clear=d,A.languages=null,A.save=h,A.displayActivated=u,A.findRolesByOrgType=p,A.setAdmin=f,A.user={},A.mainPhone=[],A.cellPhone=[],A.flagOfOrg=!1,A.modifyEmail=!1,A.isAdmin=i.isAdmin,A.roles=i.roles,A.orgs=[],A.flagOfRegister=!0,A.districtNums=e.districtNums,A.cellIdentifyingNums=e.cellIdentifyingNums,i.user){A.user=angular.copy(i.user),A.user.active="ACTIVE"==i.user.state,A.flagOfOrg=!0,A.flagOfRegister=!1,A.orgs.push(A.user.organization);var y=i.user.authorities.indexOf("ROLE_ADMIN")>-1;A.flagOfAdmin=angular.copy(y)}else i.refOrg&&(A.user.organization=i.refOrg,A.orgs.push(A.user.organization),A.flagOfOrg=!0);p(),A.emailTooltip=!1,A.mode=A.flagOfRegister?"register":"edit",c.getAll().then(function(e){A.languages=e}),A.noSetAdmin=!0,A.lengthCheck=v}angular.module("portalApplicationApp").controller("UserManageDialogController",e),e.$inject=["CommonConstants","CommonUtil","$state","$stateParams","$uibModalInstance","selections","Principal","User","Role","JhiLanguageService"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){function s(e,n){I.condition.sort=t.sorting(I.condition.sort,e,n),I.condition.page=0,I.currentPage=1,v()}function c(e){return"PROVIDER"==e?"제공기관":"PARTNER"==e?"이용기관":""}function p(e){switch(e.state){case"ACTIVE":return"userManagement.active";case"INACTIVE":return"userManagement.inactive";case"REGISTERING":return"userManagement.registering";case"WITHDRAWING":return"userManagement.withdrawing"}}function u(e){var n="ACTIVE"==e.state?e.login+" 의 사용자 상태를<br/>비활성으로 변경하시겠습니까?":e.login+" 의 사용자 상태를<br/>활성으로 변경하시겠습니까?",a=function(t){t&&(e.state="ACTIVE"==e.state?"INACTIVE":"ACTIVE",o.update(e,function(){I.loadAll()},w))};t.onError(n,"sm","changeStatus",a,"사용자 상태 변경")}function d(e){e.gatewayAlertReceive=!e.gatewayAlertReceive,o.update(e,function(){I.loadAll()},w)}function m(e){return e.authorities.indexOf("ROLE_ADMIN")>-1}function g(e){var t=!m(e);o.setAdmin({userId:e.id,flag:t},function(){I.loadAll()},w)}function f(){I.currentPage=1,I.condition={searchFieldType:I.searchingColumn,searchText:I.searchingText,state:I.searchingState,roleCode:I.searchingRoleCode,type:I.searchingOrgType,size:I.size,page:0,sort:I.condition.sort},v()}function h(){var e="/api/users/excel",t=$.param(I.condition,!0);window.open(e+"?"+t,"_blank")}function v(e){e>=0&&(I.condition.page=e,I.currentPage=e+1),o.query(I.condition,A,w)}function A(e,t){I.totalItems=t("X-Total-Count"),I.users=e}function y(e){n.open({templateUrl:"app/account/user/user-manage/user-manage-detail.html",controller:"UserManageDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{user:e,type:"detailView"}}}).result.then(function(e){e&&I.loadAll()})}function b(t){n.open({templateUrl:"app/account/user/user-manage/user-manage-dialog.html",controller:"UserManageDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selections:{roles:I.roles,user:t,refOrg:e.account.organization,isAdmin:I.isAdmin}}}).result.then(function(e){"create"==e?v(0):v()})}function P(e){var t=e.login+" 정보를";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:t,type:"delete"}}}}).result.then(function(t){t&&o.delete({login:e.login},function(){v(0)},w)})}function w(e){t.onError(e.data.description)}function C(){I.user={id:null,login:null,firstName:null,lastName:null,email:null,activated:null,langKey:null,createdBy:null,createdDate:null,lastModifiedBy:null,lastModifiedDate:null,resetDate:null,resetKey:null,authorities:null}}function O(){I.condition.page=I.currentPage-1,v()}var I=this;I.authorities=["ROLE_USER_VIEW","ROLE_ADMIN"],I.languages=null,I.loadAll=v,I.setActive=u,I.setGAReceive=d,I.userFlagOfAdmin=m,I.setAdmin=g,I.displayActivated=p,I.clear=C,I.searching=f,I.size=10,I.page=0,I.sort="id,desc",I.pageChanged=O,I.sorting=s,I.condition={searchFieldType:I.searchingColumn,searchText:I.searchingText,state:I.searchingState,roleCode:I.searchingRoleCode,type:I.searchingOrgType,size:I.size,page:I.page,sort:I.sort},I.showDetail=y,I.editUser=b,I.delUser=P,
I.checkOrgType=c,I.downloadExcel=h,a.hasAuthority("ROLE_ADMIN").then(function(e){e?I.isAdmin=!0:a.hasAuthority("ROLE_USER_MODIFY").then(function(e){e&&(I.isModifier=!0)}),I.loadAll()}),I.orgTypes=[{name:"PROVIDER",ko:"제공기관"},{name:"PARTNER",ko:"이용기관"}],I.roles=i.list(),I.states=[{value:"ACTIVE",ko:"활성"},{value:"INACTIVE",ko:"비활성"},{value:"REGISTERING",ko:"등록진행중"},{value:"WITHDRAWING",ko:"탈퇴진행중"}],I.searchColumns=[{name:"ID",ko:"아이디"},{name:"NAME",ko:"닉네임"},{name:"EMAIL",ko:"이메일"}]}angular.module("portalApplicationApp").controller("UserManageController",e),e.$inject=["$scope","CommonUtil","$uibModal","Principal","User","Role","$stateParams","JhiLanguageService"]}(),function(){"use strict";function e(e){e.state("userManage",{parent:"user",url:"/user-manage?page&sort",data:{authorities:["ROLE_USER_VIEW"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/account/user/user-manage/user-manage.html",controller:"UserManageController",controllerAs:"vm"}},params:{page:{value:"1",squash:!0},size:{value:"10",squash:!0},sort:{value:"login,asc",squash:!0}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("user-management"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,i){function r(e,t){u.condition.sort=i.sorting(u.condition.sort,e,t),u.condition.page=0,u.currentPage=1,l()}function l(e){e>=0&&(u.condition.page=e,u.currentPage=e+1),a.list(u.condition,function(e,t){u.globalPlans=e,u.totalItems=t("x-total-count")})}function s(){u.condition.page=u.currentPage-1,l()}function c(e,t){var n="";return 1==t?(u.quotaValueUseCycleOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n):(u.dayLimitOption.some(function(t){return e==t.val&&(n=t.name),e==t.val}),n)}function p(e){i.onError(e.data.description)}var u=this;u.loadAll=l,u.authorities=["ROLE_ADMIN"],u.filter=c,u.size=10,u.page=0,u.sort="id,desc",u.sorting=r,u.condition={isGlobal:!0,size:u.size,page:u.page,sort:u.sort},u.pageChanged=s,e.hasAuthority("ROLE_ADMIN").then(function(e){e&&(u.isAdmin=!0)}),u.loadAll(),u.apiplanhelpPopover={templateUrl:"app/layouts/popover-template/apiplanhelp-popover.html"},u.quotaValueUseCycleOption=[{val:"SECOND",name:"초"},{val:"MINUTE",name:"분"},{val:"HOUR",name:"시"},{val:"DAY",name:"일"},{val:"MONTH",name:"월"}],u.dayLimitOption=[{val:"SUNDAY",name:"일"},{val:"MONDAY",name:"월"},{val:"TUESDAY",name:"화"},{val:"WEDNESDAY",name:"수"},{val:"THURSDAY",name:"목"},{val:"FRIDAY",name:"금"},{val:"SATURDAY",name:"토"}],t.addPlan=function(e,t){n.open({templateUrl:"app/admin/plan/admin-plan-edit-dialog.html",controller:"AdminPlanEditDialogController",controllerAs:"vm",backdrop:"static",size:"md",resolve:{selectPlan:function(){return{data:t,type:"apiPlan",isGlobal:e}}}}).result.then(function(e){"create"==e?l(0):l()})},t.deletePlan=function(e,t){var o=e.name+" 정책을";n.open({templateUrl:"app/services/common/modal.html",controller:"modalController",controllerAs:"vm",backdrop:"static",size:"sm",resolve:{items:function(){return{data:o,type:t}}}}).result.then(function(t){t&&a.delete({id:e.id},function(){l(0)},p)})}}angular.module("portalApplicationApp").controller("AdminApiPlanController",e),e.$inject=["Principal","$scope","$uibModal","apiPlans","AlertService","CommonUtil"]}(),function(){"use strict";function e(e){e.state("admin-api-plan",{parent:"admin-plan",url:"/admin/api-plan",data:{authorities:["ROLE_ADMIN"],pageTitle:"global.title"},views:{"content@":{templateUrl:"app/admin/plan/api-plan/admin-api-plan.html",controller:"AdminApiPlanController",controllerAs:"vm"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("plan"),t.addPart("approval"),e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(){new Swiper(".api-register-container",{pagination:".swiper-pagination",paginationClickable:!0,autoplay:5e4})}angular.module("portalApplicationApp").controller("apiRegisterController",e),e.$inject=[]}(),function(){"use strict";function e(e){e.state("apiRegister",{parent:"register-step-info",url:"/api-register",views:{"content@":{templateUrl:"app/informations/register-step-info/api-register/api-register.html",controller:"apiRegisterController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){function n(){a.tabs=!a.tabs,a.tabs?(e.vm.swiper.stopAutoplay(),e.vm.swiper.startAutoplay()):(e.vm.swiper2.stopAutoplay(),e.vm.swiper2.startAutoplay())}var a=this;a.ViewTabs=n,angular.element(document).ready(function(){a.swiper=new Swiper(".org-use-container",{pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",autoplayDisableOnInteraction:!0})})}angular.module("portalApplicationApp").controller("orgUserController",e),e.$inject=["$scope","$timeout"]}(),function(){"use strict";function e(e){e.state("orgUser",{parent:"register-step-info",url:"/org-user",views:{"content@":{templateUrl:"app/informations/register-step-info/org-user/org-user.html",controller:"orgUserController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(){new Swiper(".provider-use-container",{pagination:".swiper-pagination",paginationClickable:!0,autoplay:3e3})}angular.module("portalApplicationApp").controller("ProviderUserController",e),e.$inject=[]}(),function(){"use strict";function e(e){e.state("providerUser",{parent:"register-step-info",url:"/provider-user",views:{"content@":{templateUrl:"app/informations/register-step-info/provider-user/provider-user.html",controller:"ProviderUserController",controllerAs:"vm"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return e.refresh()}]}})}angular.module("portalApplicationApp").config(e),e.$inject=["$stateProvider"]}(),angular.module("swaggerUi").config(function(e){e.addTranslations("en",{infoContactCreatedBy:"Created by {{name}}",infoContactUrl:"See more at",infoContactEmail:"Contact the developer",infoLicense:"License: ",infoBaseUrl:"BASE URL",infoApiVersion:"API VERSION",infoHost:"HOST",endPointToggleOperations:"Open/Hide",endPointListOperations:"List operations",endPointExpandOperations:"Expand operations",operationDeprected:"Warning: Deprecated",operationImplementationNotes:"Implementation notes",externalDocs:"External docs",headers:"Response headers",headerName:"Header",headerDescription:"Description",headerType:"Type",parameters:"Parameters",parameterName:"Parameter",parameterValue:"Value",parameterDescription:"Description",parameterType:"Parameter type",parameterDataType:"Data type",parameterOr:" or ",parameterRequired:"(required)",parameterModel:"Model",parameterSchema:"Example value",parameterContentType:"Parameter content type",parameterDefault:"{{default}} (default)",parameterSetValue:"Click to set as parameter value",responseClass:"Response class (status {{status}})",responseModel:"Model",responseSchema:"Example value",responseContentType:"Response content type",responses:"Response messages",responseCode:"HTTP status code",responseReason:"Reason",responseHide:"Hide response",modelOptional:"optional",modelOr:" or ",explorerUrl:"Request URL",explorerBody:"Response body",explorerCode:"Response code",explorerHeaders:"Response headers",explorerLoading:"Loading...",explorerTryIt:"Try it out!",errorNoParserFound:"No parser found for Swagger specification of type {{type}} and version {{version}}",errorParseFailed:"Failed to parse Swagger specification: {{message}}",errorJsonParse:"Failed to parse JSON",errorNoYamlParser:"No YAML parser found, please make sure to include js-yaml library",authRequired:"Authorization required",authAvailable:"Available authorizations",apiKey:"API key authorization",authParamName:"Name",authParamType:"In",authParamValue:"Value",basic:"Basic authorization",authLogin:"Login",authPassword:"Password",oauth2:"oAuth2 authorization",authOAuthDesc:"Scopes are used to grant an application different levels of access to data on behalf of the end user. Each API may declare one or more scopes. API requires the following scopes. Select which ones you want to grant.",authAuthorizationUrl:"Authorization URL",authFlow:"Flow",authTokenUrl:"Token URL",authScopes:"Scopes",authCancel:"Cancel",authAuthorize:"Authorize",generateSourceCode:"Generate Sample Code"})}),angular.module("swaggerUi").config(["swaggerTranslatorProvider",function(e){e.addTranslations("ko",{appTitle:"API Testbed",infoContactCreatedBy:"작성자 {{name}}",infoContactUrl:"URL",infoContactEmail:"이메일",infoLicense:"라이센스: ",infoBaseUrl:"Base URL",infoApiVersion:"API 버전",infoHost:"호스트",endPointToggleOperations:"보이기/숨기기",endPointListOperations:"엔드포인트 목록",endPointExpandOperations:"엔드포인트 전체 보기",operationDeprected:"Warning: Deprecated",operationImplementationNotes:"기능 설명",externalDocs:"외부 문서",headers:"응답 헤더",headerName:"헤더",headerDescription:"설명",headerType:"헤더 타입",parameters:"파라미터",parameterName:"파라미터",parameterValue:"값",parameterDescription:"설명",parameterType:"파라미터 타입",parameterDataType:"데이터 타입",parameterOr:" 또는 ",parameterRequired:"(필수)",parameterModel:"모델",parameterSchema:"모델 스키마",parameterContentType:"파라미터 컨텐트 타입",parameterDefault:"{{default}} (기본)",parameterSetValue:"파라미터로 지정하려면 클릭",responseClass:"응답　클래스 (상태 {{status}})",responseModel:"모델",responseSchema:"모델 스키마",responseContentType:"응답 컨텐트 타입",responses:"응답 메시지",responseCode:"HTTP 응답 코드",responseReason:"사유",responseHide:"응답 숨기기",modelOptional:"선택사항",modelOr:" 또는 ",explorerUrl:"요청 URL",explorerBody:"응답 바디",explorerCode:"응답 코드",explorerHeaders:"응답 헤더",explorerLoading:"로딩 중...",explorerTryIt:"요청하기!",errorNoParserFound:"No parser found for Swagger specification of type {{type}} and version {{version}}",errorParseFailed:"Swagger스펙 파싱에 실패하였습니다. : {{message}}",errorJsonParse:"JSON 파싱에 실패하였습니다.",errorNoYamlParser:"YAML파서를 찾지 못하였습니다.js-yaml library를 추가해 주세요.",authRequired:"인증이 필요로 합니다.",authAvailable:"Available authorizations",apiKey:"API key authorization",authParamName:"Name",authParamType:"In",authParamValue:"Value",basic:"Basic authorization",authLogin:"Login",authPassword:"Password",oauth2:"oAuth2 authorization",authOAuthDesc:"Scopes are used to grant an application different levels of access to data on behalf of the end user. Each API may declare one or more scopes. API requires the following scopes. Select which ones you want to grant.",authAuthorizationUrl:"Authorization URL",authFlow:"Flow",authTokenUrl:"Token URL",authScopes:"Scopes",authCancel:"Cancel",authAuthorize:"Authorize",generateSourceCode:"Sample Code 생성"})}]),angular.module("swaggerUiAuthorization",["swaggerUi","ui.bootstrap.modal"]).service("swaggerUiAuth",["$q","$uibModal",function(e,t){this.execute=function(n,a,o){var i={},r=null,l=n.securityDefinitions;if(l){var s;for(s in l){r=s;var c=l[s];if("oauth2"===c.type&&c.scopes){var p;for(p in c.scopes)i[s]={scope:p,description:c.scopes[p],OAuthSchemeKey:s}}}}var u=e.defer();return t.open({templateUrl:"templates/auth/modal-auth.html",controller:"SwaggerUiModalAuthCtrl",backdrop:!0,resolve:{auth:function(){return o},operation:function(){return a},api:function(){return n},availableScopes:function(){return i},state:function(){return r}}}),u.resolve(!0),u.promise}}]).controller("SwaggerUiModalAuthCtrl",["$http","$scope","$window","api","operation","auth","availableScopes",function(e,t,n,a,o,i,r){t.operation=o,t.form={},t.auth=i,t.api=a,t.tab=0,t.clientId=window.clientId,t.scopes=r,t.scopeSeparator=" ";var l=o.authParams||i[0];if(l)switch(l.type){case"apiKey":t.form.apiKey=l.apiKey;break;case"basic":t.form.basicLogin=l.login,t.form.basicPassword=l.password;break;case"oauth2":}n.processOAuthCode=function(t){var a={client_id:n.clientId,code:t.code,grant_type:"authorization_code",redirect_uri:n.oAuthRedirectUrl};void 0!==clientSecret&&null!==clientSecret&&(a.client_secret=clientSecret);var o={method:"POST",url:n.apiClientUrl,data:{token_url:n.tokenUrl,params:a}};e(o).then(function(e){n.onOAuthComplete(e.data)},function(e){n.onOAuthComplete("")}).catch(function(e){onError({code:e.status,message:e.data})})},n.isTokenUrlExist=function(){return null!==n.tokenUrl},n.onOAuthComplete=function(e){e&&(e.error?alert(e.error):(t.auth[t.tab].valid=!0,l=o.authParams=i[t.tab],l.name="Authorization",l.in="header",l.token=e))},t.clientCredentialsFlow=function(t,a){var o={client_id:clientId,client_secret:clientSecret,scope:t.join(" "),grant_type:"client_credentials"},i={method:"POST",url:n.apiClientUrl,data:{token_url:a,params:o}};e(i).then(function(e){n.onOAuthComplete(e.data)},function(e){n.onOAuthComplete("")}).catch(function(e){onError({code:e.status,message:e.data})})},t.authorize=function(){var e=!1,a=o.authParams=i[t.tab];switch(a.type){case"apiKey":t.form.apiKey?(a.apiKey=t.form.apiKey,e=!0):delete o.authParams;break;case"basic":""===t.form.basicLogin&&""===t.form.basicPassword?delete o.authParams:(a.login=t.form.basicLogin,a.password=t.form.basicPassword,e=!0);break;case"oauth2":var r=window.location,l=location.pathname.substring(0,location.pathname.lastIndexOf("/")),s=r.protocol+"//"+r.host+l+"/o2c.html",c=window.oAuthRedirectUrl||s;n.oAuthRedirectUrl=c;var p=null,u=[];for(var d in t.form.scopes)u.push(d);var m=a.flow;if("oauth2"!==a.type||!m||"implicit"!==m&&"accessCode"!==m){if("oauth2"===a.type&&m&&"application"===m){var g=a;return void t.clientCredentialsFlow(u,g.tokenUrl)}}else{var g=a;p=g.authorizationUrl+"?response_type="+("implicit"===m?"token":"code"),n.tokenUrl="accessCode"===m?g.tokenUrl:null}p+="&redirect_uri="+encodeURIComponent(c),p+="&client_id="+encodeURIComponent(t.clientId),p+="&scope="+encodeURIComponent(u.join(t.scopeSeparator)),window.open(p)}i[t.tab].valid=e,t.$close()},t.setTab=function(e){t.tab=e}}]).run(["swaggerModules","swaggerUiAuth",function(e,t){e.add(e.AUTH,t)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,a,o={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},i={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function a(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var o=n.offsetParent||e[0].documentElement;o&&o!==e[0].documentElement&&a(o);)o=o.offsetParent;return o||e[0].documentElement},scrollbarWidth:function(o){if(o){if(angular.isUndefined(a)){var i=e.find("body");i.addClass("uib-position-body-scrollbar-measure"),a=t.innerWidth-i[0].clientWidth,a=isFinite(a)?a:0,i.removeClass("uib-position-body-scrollbar-measure")}return a}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),a=this.parseStyle(n.paddingRight),o=this.parseStyle(n.paddingBottom),i=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(i,r.test(i.tagName));return{scrollbarWidth:l,widthOverflow:i.scrollWidth>i.clientWidth,right:a+l,originalRight:a,heightOverflow:i.scrollHeight>i.clientHeight,bottom:o+l,originalBottom:o}},isScrollable:function(e,n){e=this.getRawNode(e);var a=n?o.hidden:o.normal,i=t.getComputedStyle(e);return a.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(n,a,i){n=this.getRawNode(n);var r=a?o.hidden:o.normal,l=e[0].documentElement,s=t.getComputedStyle(n);if(i&&r.test(s.overflow+s.overflowY+s.overflowX))return n;var c="absolute"===s.position,p=n.parentElement||l;if(p===l||"fixed"===s.position)return l;for(;p.parentElement&&p!==l;){var u=t.getComputedStyle(p);if(c&&"static"!==u.position&&(c=!1),!c&&r.test(u.overflow+u.overflowY+u.overflowX))break;p=p.parentElement}return p},position:function(n,a){n=this.getRawNode(n);var o=this.offset(n);if(a){var i=t.getComputedStyle(n);o.top-=this.parseStyle(i.marginTop),o.left-=this.parseStyle(i.marginLeft)}var r=this.offsetParent(n),l={top:0,left:0};return r!==e[0].documentElement&&(l=this.offset(r),l.top+=r.clientTop-r.scrollTop,l.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(o.width)?o.width:n.offsetWidth),height:Math.round(angular.isNumber(o.height)?o.height:n.offsetHeight),top:Math.round(o.top-l.top),left:Math.round(o.left-l.left)}},offset:function(n){n=this.getRawNode(n);var a=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(a.width)?a.width:n.offsetWidth),height:Math.round(angular.isNumber(a.height)?a.height:n.offsetHeight),top:Math.round(a.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(a.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,a,o){n=this.getRawNode(n),o=o!==!1;var i=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},l=a?e[0].documentElement:this.scrollParent(n),s=l.getBoundingClientRect();if(r.top=s.top+l.clientTop,r.left=s.left+l.clientLeft,l===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+l.clientHeight,r.right=r.left+l.clientWidth,o){var c=t.getComputedStyle(l);r.top+=this.parseStyle(c.paddingTop),r.bottom-=this.parseStyle(c.paddingBottom),r.left+=this.parseStyle(c.paddingLeft),r.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(i.top-r.top),bottom:Math.round(r.bottom-i.bottom),left:Math.round(i.left-r.left),right:Math.round(r.right-i.right)}},parsePlacement:function(e){var t=i.auto.test(e);return t&&(e=e.replace(i.auto,"")),e=e.split("-"),e[0]=e[0]||"top",i.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",i.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,a,o){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),l=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");a=this.parsePlacement(a);var s=o?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(a[2]){var p=this.viewportOffset(e,o),u=t.getComputedStyle(n),d={width:r+Math.round(Math.abs(this.parseStyle(u.marginLeft)+this.parseStyle(u.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(u.marginTop)+this.parseStyle(u.marginBottom)))};if(a[0]="top"===a[0]&&d.height>p.top&&d.height<=p.bottom?"bottom":"bottom"===a[0]&&d.height>p.bottom&&d.height<=p.top?"top":"left"===a[0]&&d.width>p.left&&d.width<=p.right?"right":"right"===a[0]&&d.width>p.right&&d.width<=p.left?"left":a[0],a[1]="top"===a[1]&&d.height-s.height>p.bottom&&d.height-s.height<=p.top?"bottom":"bottom"===a[1]&&d.height-s.height>p.top&&d.height-s.height<=p.bottom?"top":"left"===a[1]&&d.width-s.width>p.right&&d.width-s.width<=p.left?"right":"right"===a[1]&&d.width-s.width>p.left&&d.width-s.width<=p.right?"left":a[1],"center"===a[1])if(i.vertical.test(a[0])){var m=s.width/2-r/2;p.left+m<0&&d.width-s.width<=p.right?a[1]="left":p.right+m<0&&d.width-s.width<=p.left&&(a[1]="right")}else{var g=s.height/2-d.height/2;p.top+g<0&&d.height-s.height<=p.bottom?a[1]="top":p.bottom+g<0&&d.height-s.height<=p.top&&(a[1]="bottom")}}switch(a[0]){case"top":c.top=s.top-l;break;case"bottom":c.top=s.top+s.height;break;case"left":c.left=s.left-r;break;case"right":c.left=s.left+s.width}switch(a[1]){case"top":c.top=s.top;break;case"bottom":c.top=s.top+s.height-l;break;case"left":c.left=s.left;break;case"right":c.left=s.left+s.width-r;break;case"center":i.vertical.test(a[0])?c.left=s.left+s.width/2-r/2:c.top=s.top+s.height/2-l/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===a[1]?a[0]:a[0]+"-"+a[1],c},positionArrow:function(e,n){e=this.getRawNode(e);var a=e.querySelector(".tooltip-inner, .popover-inner");if(a){var o=angular.element(a).hasClass("tooltip-inner"),r=o?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(r){var l={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css(l);var s="border-"+n[0]+"-width",c=t.getComputedStyle(r)[s],p="border-";p+=i.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],p+="-radius";var u=t.getComputedStyle(o?a:e)[p];switch(n[0]){case"top":l.bottom=o?"0":"-"+c;break;case"bottom":l.top=o?"0":"-"+c;break;case"left":l.right=o?"0":"-"+c;break;case"right":l.left=o?"0":"-"+c}l[n[1]]=u,angular.element(r).css(l)}}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var o=a.indexOf(n);o!==-1&&a.splice(o,1),a.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var a=e.resolver?t.get(e.resolver):null;return{resolve:function(e,o,i,r){if(a)return a.resolve(e,o,i,r);var l=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?l.push(n.resolve(t.invoke(e))):angular.isString(e)?l.push(n.resolve(t.get(e))):l.push(n.resolve(e))}),n.all(l).then(function(t){var n={},a=0;return angular.forEach(e,function(e,o){n[o]=t[a++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function a(t,a,o){o.modalInClass&&(e.addClass(a,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,i){var r=i();t.modalOptions.animation?e.removeClass(a,o.modalInClass).then(r):r()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,a){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(o,i,r){i.addClass(r.windowClass||""),i.addClass(r.windowTopClass||""),o.size=r.size,o.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},i.on("click",o.close),o.$isRendered=!0;var l=t.defer();r.$observe("modalRender",function(e){"true"===e&&l.resolve()}),l.promise.then(function(){var l=null;r.modalInClass&&(l=n(i,{addClass:r.modalInClass}).start(),o.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();n(i,{removeClass:r.modalInClass}).start().then(a)})),t.when(l).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!a[0].activeElement||!i[0].contains(a[0].activeElement)){var n=i[0].querySelector("[autofocus]");n?n.focus():i[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,a,o){o(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,a,o,i,r,l,s){function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function p(){for(var e=-1,t=P.keys(),n=0;n<t.length;n++)P.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<C&&(e=C),e}function u(e,t){var n=P.get(e).value,a=n.appendTo;P.remove(e),O=P.top(),O&&(C=parseInt(O.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||b;w.remove(t,e);var o=w.hasKey(t);a.toggleClass(t,o),!o&&y&&y.heightOverflow&&y.scrollbarWidth&&(y.originalRight?a.css({paddingRight:y.originalRight+"px"}):a.css({paddingRight:""}),y=null),d(!0)},n.closedDeferred),m(),t&&t.focus?t.focus():a.focus&&a.focus()}function d(e){var t;P.length()>0&&(t=P.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function m(){if(v&&p()===-1){var e=A;g(v,A,function(){e=null}),v=void 0,A=void 0}}function g(t,n,a,o){function r(){r.done||(r.done=!0,e.leave(t).then(function(){t.remove(),o&&o.resolve()}),n.$destroy(),a&&a())}var l,s=null,c=function(){return l||(l=i.defer(),s=l.promise),function(){l.resolve()}};return n.$broadcast($.NOW_CLOSING_EVENT,c),i.when(s).then(r)}function f(e){if(e.isDefaultPrevented())return e;var t=P.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),o.$apply(function(){$.dismiss(t.key,"escape key press")}));break;case 9:var n=$.loadFocusElementList(t),a=!1;e.shiftKey?($.isFocusInFirstItem(e,n)||$.isModalFocused(e,t))&&(a=$.focusLastFocusableElement(n)):$.isFocusInLastItem(e,n)&&(a=$.focusFirstFocusableElement(n)),a&&(e.preventDefault(),e.stopPropagation())}}function h(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var v,A,y,b="modal-open",P=l.createNew(),w=r.createNew(),$={NOW_CLOSING_EVENT:"modal.stack.now-closing"},C=0,O=null,I="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return o.$watch(p,function(e){A&&(A.index=e)}),n.on("keydown",f),o.$on("$destroy",function(){n.off("keydown",f)}),$.open=function(t,i){var r=n[0].activeElement,l=i.openedClass||b;d(!1),O=P.top(),P.add(t,{deferred:i.deferred,renderDeferred:i.renderDeferred,closedDeferred:i.closedDeferred,modalScope:i.scope,backdrop:i.backdrop,keyboard:i.keyboard,openedClass:i.openedClass,windowTopClass:i.windowTopClass,animation:i.animation,appendTo:i.appendTo}),w.put(l,t);var c=i.appendTo,u=p();if(!c.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");u>=0&&!v&&(A=o.$new(!0),A.modalOptions=i,A.index=u,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr("backdrop-class",i.backdropClass),i.animation&&v.attr("modal-animation","true"),a(v)(A),e.enter(v,c),y=s.scrollbarPadding(c),y.heightOverflow&&y.scrollbarWidth&&c.css({paddingRight:y.right+"px"})),C=O?parseInt(O.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":i.windowTemplateUrl,"window-class":i.windowClass,"window-top-class":i.windowTopClass,size:i.size,index:C,animate:"animate"}).html(i.content),i.animation&&m.attr("modal-animation","true"),c.addClass(l),e.enter(a(m)(i.scope),c),P.top().value.modalDomEl=m,P.top().value.modalOpener=r},$.close=function(e,t){var n=P.get(e);return n&&h(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},$.dismiss=function(e,t){var n=P.get(e);return n&&h(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},$.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},$.getTop=function(){return P.top()},$.modalRendered=function(e){var t=P.get(e);t&&t.value.renderDeferred.resolve()},$.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},$.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},$.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},$.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},$.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},$.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(I);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},$}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,a,o,i,r,l){function s(e){return e.template?n.when(e.template):o(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var c={},p=null;return c.getPromiseChain=function(){return p},c.open=function(o){function c(){return v}var u=n.defer(),d=n.defer(),m=n.defer(),g=n.defer(),f={result:u.promise,opened:d.promise,closed:m.promise,rendered:g.promise,close:function(e){return l.close(f,e)},dismiss:function(e){return l.dismiss(f,e)}};if(o=angular.extend({},e.options,o),o.resolve=o.resolve||{},o.appendTo=o.appendTo||a.find("body").eq(0),!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var h,v=n.all([s(o),r.resolve(o.resolve,{},null,null)]);return h=p=n.all([p]).then(c,c).then(function(e){var n=o.scope||t,a=n.$new();a.$close=f.close,a.$dismiss=f.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var r,s,c={};o.controller&&(c.$scope=a,c.$scope.$resolve={},c.$uibModalInstance=f,angular.forEach(e[1],function(e,t){c[t]=e,c.$scope.$resolve[t]=e}),s=i(o.controller,c,!0,o.controllerAs),o.controllerAs&&o.bindToController&&(r=s.instance,r.$close=a.$close,r.$dismiss=a.$dismiss,angular.extend(r,{$resolve:c.$scope.$resolve},n)),r=s(),angular.isFunction(r.$onInit)&&r.$onInit()),l.open(f,{scope:a,deferred:u,renderDeferred:g,closedDeferred:m,content:e[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowTopClass:o.windowTopClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size,openedClass:o.openedClass,appendTo:o.appendTo}),d.resolve(!0)},function(e){d.reject(e),u.reject(e)}).finally(function(){p===h&&(p=null)}),f},c}]};return e}),angular.module("swaggerUiAuthorization").run(["$templateCache",function(e){e.put("templates/auth/modal-auth.html",'<div class="swagger-auth-modal"> <h2 swagger-translate="authAvailable"></h2> <ul class="list-inline"> <li ng-repeat="item in auth" ng-class="{active:tab==$index}"> <a ng-click="setTab($index)" ng-bind="item.type|swaggerTranslate"></a> </li> </ul> <form role="form" name="authForm" class="form-horizontal" ng-submit="authForm.$valid&&authorize()" autocomplete="off"> <div ng-if="auth[tab].type==\'apiKey\'"> <div class="form-group"> <label class="control-label col-xs-3" swagger-translate="authParamName"></label> <div class="col-xs-9"> <span class="form-control" ng-bind="auth[tab].name"></span> </div> </div> <div class="form-group"> <label class="control-label col-xs-3" swagger-translate="authParamType"></label> <div class="col-xs-9"> <span class="form-control" ng-bind="auth[tab].in"></span> </div> </div> <div class="form-group"> <label class="control-label col-xs-3" for="apiKey" swagger-translate="authParamValue"></label> <div class="col-xs-9"> <input class="form-control" id="apiKey" name="apiKey" type="text" ng-model="form.apiKey"> </div> </div> </div> <div ng-if="auth[tab].type==\'basic\'"> <div class="form-group"> <label class="control-label col-xs-3" for="basicLogin" swagger-translate="authLogin"></label> <div class="col-xs-9"> <input class="form-control col-xs-9" id="basicLogin" name="basicLogin" type="text" ng-model="form.basicLogin"> </div> </div> <div class="form-group"> <label class="control-label col-xs-3" for="basicPassword" swagger-translate="authPassword"></label> <div class="col-xs-9"> <input class="form-control col-xs-9" id="basicPassword" name="basicPassword" type="password" ng-model="form.basicPassword"> </div> </div> </div> <div ng-if="auth[tab].type==\'oauth2\'"> <p swagger-translate="authOAuthDesc"></p> <div class="form-group" ng-if="auth[tab].authorizationUrl"> <label class="control-label col-xs-3" swagger-translate="authAuthorizationUrl"></label> <div class="col-xs-9"> <span class="form-control" ng-bind="auth[tab].authorizationUrl"></span> </div> </div> <div class="form-group"> <label class="control-label col-xs-3" swagger-translate="authFlow"></label> <div class="col-xs-9"> <span class="form-control" ng-bind="auth[tab].flow"></span> </div> </div> <div class="form-group" ng-if="auth[tab].tokenUrl"> <label class="control-label col-xs-3" swagger-translate="authTokenUrl"></label> <div class="col-xs-9"> <span class="form-control" ng-bind="auth[tab].tokenUrl"></span> </div> </div> <div class="form-group"> <label class="control-label col-xs-3" swagger-translate="authScopes"></label> <div class="col-xs-9"> <div class="checkbox" ng-repeat="(name,desc) in auth[tab].scopes"> <label for="hidden" class="control-label"> <input type="checkbox" id="hidden" name="hidden" ng-model="form.scopes[name]"> <span ng-bind="name"></span> </label> <div class="scope-desc" ng-bind="desc"></div> </div> </div> </div> </div> <div class="form-group buttons"> <button class="btn btn-default" type="button" ng-click="$close()" swagger-translate="authCancel"></button> <button class="btn btn-primary" type="submit" swagger-translate="authAuthorize"></button> </div> </form> </div>');
}]),angular.module("swaggerUiAuthorization").run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop" uib-modal-animation-class="fade" modal-in-class="in" ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"></div>'),e.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal" uib-modal-animation-class="fade" modal-in-class="in" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}"> <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div> </div>')}]),angular.module("swaggerUi").service("swaggerUiExternalReferences",["$http","$q","swaggerModules","swaggerTranslator",function(e,t,n,a){function o(e){u.reject(e)}function i(t,i,r){var l={method:"GET",url:t,transformResponse:function(e){r&&(e=e.replace(/"\$ref": ?"#\/(.*)\/(.*)"/g,'"$ref": "#/$1/'+r+'/$2"'));var t;try{t=angular.fromJson(e)}catch(e){o({code:500,message:a.translate("errorJsonParse")})}return t}};n.execute(n.BEFORE_LOAD,l).then(function(){e(l).then(i).catch(function(e){o({message:e.data,code:e.status})})}).catch(o)}function r(e){var t=e.split("#/"),n=t[0];if(0!==n.indexOf("http")&&0!==n.indexOf("https"))if(0===n.indexOf("/")){var a=URL.parse(p);n=a.protocol+"//"+a.host+n}else{var o=p.lastIndexOf("/");n=p.substring(0,o)+"/"+n}return n}function l(){function e(e){t++,i(r(e.$ref),function(n){t--,delete e.$ref;for(var a in n)e[a]=n[a];0===t&&c()})}var t=0;for(var n in d.paths){var a=d.paths[n];s(a)&&e(a)}0===t&&c()}function s(e){return e&&e.$ref&&0!==e.$ref.indexOf("#/")}function c(){function e(e){var t=e.$ref.match(/(.*)#\/(.*)\/(.*)/),n=t[1],l=t[2],s=r(e.$ref);e.$ref=e.$ref.replace(/(.*)#\/(.*)\/(.*)/,"#/$2/$1/$3"),o[s]||(a++,o[s]=!0,i(s,function(e){for(var t in e)d[l][n]=e[t];a--,0===a&&u.resolve(!0)},n))}function t(t){s(t)?e(t):s(t.items)&&e(t.items)}function n(e){for(var n=0,a=e.parameters||[],o=a.length;n<o;n++)a[n].schema&&t(a[n].schema);for(var i in e.responses||{})e.responses[i].schema&&t(e.responses[i].schema)}var a=0,o={};for(var l in d.paths){var c=d.paths[l];for(var p in c)n(c[p])}0===a&&u.resolve(!0)}var p,u,d;this.execute=function(e,n){return p=e,d=n,u=t.defer(),l(),u.promise}}]).run(["swaggerModules","swaggerUiExternalReferences",function(e,t){e.add(e.BEFORE_PARSE,t)}]),angular.module("swaggerUi").service("swaggerUiMarkdown",["$window","$injector","$q","$sce",function(e,t,n,a){function o(e){i(e.infos),angular.forEach(e.resources,function(e){angular.forEach(e.operations,function(e){i(e),angular.forEach(e.parameters,function(e){i(e)})})})}function i(n){var o,i,r,l=[n,n.externalDocs];angular.forEach(l,function(n){i=n&&n.description,i&&(r=angular.isString(i),i.$$unwrapTrustedValue?i=i.toString():r&&t.has("$sanitize")&&(o=t.get("$sanitize"),i=o(i)),angular.isString(i)&&""!==i&&(n.description=a.trustAsHtml(e.marked(i))))})}this.execute=function(t){var a=n.defer();return"undefined"==typeof e.marked?(console.error("SwaggerUiMarkdown: marked.js is missing"),a.resolve(!1)):(o(t),a.resolve(!0)),a.promise}}]).run(["swaggerModules","swaggerUiMarkdown",function(e,t){e.add(e.BEFORE_DISPLAY,t)}]),angular.module("swaggerUi").service("swaggerUiXmlFormatter",["$q",function(e){function t(e){var t="",n=/(>)(<)(\/*)/g,a=0;return e=e.replace(n,"$1\r\n$2$3"),angular.forEach(e.split("\r\n"),function(e){var n=0,o="";e.match(/.+<\/\w[^>]*>$/)?n=0:e.match(/^<\/\w/)?0!==a&&(a-=1):n=e.match(/^<\w[^>]*[^\/]>.*$/)?1:0;for(var i=0;i<a;i++)o+="    ";t+=o+e+"\r\n",a+=n}),t}this.execute=function(n){var a=!1,o=e.defer(),i=n.headers&&n.headers()["content-type"];return i&&i.toLowerCase().indexOf("/xml")>0&&(n.data=t(n.data),a=!0),o.resolve(a),o.promise}}]).run(["swaggerModules","swaggerUiXmlFormatter",function(e,t){e.add(e.AFTER_EXPLORER_LOAD,t)}]),angular.module("swaggerUi").service("swaggerUiYamlParser",["$window","$q","swaggerParser","swaggerTranslator",function(e,t,n,a){this.execute=function(o,i,r,l,s,c){var p=t.defer();if("yaml"===o||"auto"===o&&("application/yaml"===r||"text/yaml"===r)){var u=e.jsyaml;if("undefined"==typeof u)p.reject({code:500,message:a.translate("errorNoYamlParser")});else try{var d=u.load(l);n.execute("json",i,"application/json",d,s,c).then(function(e){c.transformSwagger=d,p.resolve(e)}).catch(p.reject)}catch(e){p.reject({code:500,message:a.translate("errorParseFailed",e)})}}else p.resolve(!1);return p.promise}}]).run(["swaggerModules","swaggerUiYamlParser",function(e,t){e.add(e.PARSE,t)}]),angular.module("swaggerUi").service("swagger1ToSwagger2Converter",["$q","$http","swaggerModules",function(e,t,n){function a(a){var o=e.defer(),i={method:"GET",url:a};return n.execute(n.BEFORE_LOAD,i).then(function(){t(i).then(o.resolve).catch(o.reject)}).catch(o.reject),o.promise}function o(t,o,l){var s=l,p=s.info||(s.info={}),u=[];p.contact={email:p.contact},p.license={name:p.license,url:p.licenseUrl},p.termsOfService=p.termsOfServiceUrl,s.paths={},s.definitions={},s.tags=[],angular.forEach(s.apis,function(e){u.push(a(o+e.path))}),e.all(u).then(function(e){n.execute(n.BEFORE_CONVERT,e).then(function(){angular.forEach(e,function(e){i(e,s),r(e,s),c(e,s)}),s.swagger="2.0",t.resolve(!0)}).catch(t.reject)}).catch(t.reject)}function i(e,t){if(t.info.version=t.info.version||e.apiVersion,t.basePath=t.basePath||e.basePath,0===t.basePath.indexOf("http")){var n=angular.element('<a href="'+t.basePath+'"></a>')[0];t.schemes=[n.protocol.replace(":","")],t.host=n.host,t.basePath=n.pathname}t.tags.push({name:e.resourcePath.substring(e.resourcePath.lastIndexOf("/")+1)})}function r(e,t){var n,a;angular.forEach(e.apis,function(o){n=t.paths[o.path]=t.paths[o.path]||{},angular.forEach(o.operations,function(t){a={},n[t.method.toLowerCase()]={deprecated:t.deprecated,description:t.notes,summary:t.summary,operationId:t.nickname,produces:t.produces||e.produces,consumes:t.consumes||e.consumes,parameters:t.parameters,responses:a,tags:[e.resourcePath.substring(e.resourcePath.lastIndexOf("/")+1)]},l(e,t),s(e,t,a)})})}function l(e,t){angular.forEach(t.parameters,function(t){t.in=t.paramType,t.default=t.defaultValue;var n=t.type||t.$ref;e.models&&n&&e.models[n]&&(t.schema={$ref:"#/definitions/"+n},delete t.type)})}function s(e,t,n){var a;angular.forEach(t.responseMessages,function(o){if(a=n[o.code]={description:o.message},o.responseModel)e.models&&e.models[o.responseModel]?a.schema={$ref:"#/definitions/"+o.responseModel}:a.type=o.responseModel;else if(200===o.code&&"void"!==t.type&&(a.schema={type:t.type,$ref:"#/definitions/"+t.type},"array"===t.type)){delete a.schema.$ref;var i=t.items.type||t.items.$ref,r=a.schema.items={};e.models&&e.models[i]?r.$ref="#/definitions/"+i:r.type=i}})}function c(e,t){var n;angular.forEach(e.models,function(a,o){t.definitions[o]=a,a.subTypes&&(angular.forEach(a.subTypes,function(t){n=e.models&&e.models[t],n&&(a.required=(a.required||[]).concat(n.required||[]),angular.forEach(n.properties,function(e,t){a.properties[t]=e}))}),delete a.subTypes),angular.forEach(a.properties,function(t){var n=t.type||t.$ref;e.models&&n&&e.models[n]&&(t.$ref="#/definitions/"+n,delete t.type),t.items&&(n=t.items.type||t.items.$ref,e.models&&n&&e.models[n]&&(t.items.$ref="#/definitions/"+n),delete t.items.type),t.enum&&(t.type="string",delete t.$ref)})})}this.execute=function(t,n){var a=e.defer(),i=n.swaggerVersion;return i&&0===i.indexOf("1.")?o(a,t,n):a.resolve(!1),a.promise}}]).run(["swaggerModules","swagger1ToSwagger2Converter",function(e,t){e.add(e.BEFORE_PARSE,t)}]);